var Hs=Object.defineProperty;var Gs=(e,o,a)=>o in e?Hs(e,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[o]=a;var Yn=(e,o,a)=>(Gs(e,typeof o!="symbol"?o+"":o,a),a),Rr=(e,o,a)=>{if(!o.has(e))throw TypeError("Cannot "+a)};var _e=(e,o,a)=>(Rr(e,o,"read from private field"),a?a.call(e):o.get(e)),It=(e,o,a)=>{if(o.has(e))throw TypeError("Cannot add the same private member more than once");o instanceof WeakSet?o.add(e):o.set(e,a)},en=(e,o,a,g)=>(Rr(e,o,"write to private field"),g?g.call(e,a):o.set(e,a),a);var lr=(e,o,a,g)=>({set _(_){en(e,o,_,a)},get _(){return _e(e,o,g)}}),Bt=(e,o,a)=>(Rr(e,o,"access private method"),a);function _mergeNamespaces(e,o){for(var a=0;a<o.length;a++){const g=o[a];if(typeof g!="string"&&!Array.isArray(g)){for(const _ in g)if(_!=="default"&&!(_ in e)){const j=Object.getOwnPropertyDescriptor(g,_);j&&Object.defineProperty(e,_,j.get?j:{enumerable:!0,get:()=>g[_]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const _ of document.querySelectorAll('link[rel="modulepreload"]'))g(_);new MutationObserver(_=>{for(const j of _)if(j.type==="childList")for(const $ of j.addedNodes)$.tagName==="LINK"&&$.rel==="modulepreload"&&g($)}).observe(document,{childList:!0,subtree:!0});function a(_){const j={};return _.integrity&&(j.integrity=_.integrity),_.referrerPolicy&&(j.referrerPolicy=_.referrerPolicy),_.crossOrigin==="use-credentials"?j.credentials="include":_.crossOrigin==="anonymous"?j.credentials="omit":j.credentials="same-origin",j}function g(_){if(_.ep)return;_.ep=!0;const j=a(_);fetch(_.href,j)}})();function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(e.__esModule)return e;var o=e.default;if(typeof o=="function"){var a=function g(){return this instanceof g?Reflect.construct(o,arguments,this.constructor):o.apply(this,arguments)};a.prototype=o.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(e).forEach(function(g){var _=Object.getOwnPropertyDescriptor(e,g);Object.defineProperty(a,g,_.get?_:{enumerable:!0,get:function(){return e[g]}})}),a}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$2=Symbol.for("react.element"),n$1=Symbol.for("react.portal"),p$3=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r$1=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u$1=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y$1=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(e){return e===null||typeof e!="object"?null:(e=z$1&&e[z$1]||e["@@iterator"],typeof e=="function"?e:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(e,o,a){this.props=e,this.context=o,this.refs=D$1,this.updater=a||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(e,o){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,o,"setState")};E$1.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(e,o,a){this.props=e,this.context=o,this.refs=D$1,this.updater=a||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(e,o,a){var g,_={},j=null,$=null;if(o!=null)for(g in o.ref!==void 0&&($=o.ref),o.key!==void 0&&(j=""+o.key),o)J.call(o,g)&&!L$1.hasOwnProperty(g)&&(_[g]=o[g]);var ft=arguments.length-2;if(ft===1)_.children=a;else if(1<ft){for(var et=Array(ft),lt=0;lt<ft;lt++)et[lt]=arguments[lt+2];_.children=et}if(e&&e.defaultProps)for(g in ft=e.defaultProps,ft)_[g]===void 0&&(_[g]=ft[g]);return{$$typeof:l$2,type:e,key:j,ref:$,props:_,_owner:K$1.current}}function N$1(e,o){return{$$typeof:l$2,type:e.type,key:o,ref:e.ref,props:e.props,_owner:e._owner}}function O$1(e){return typeof e=="object"&&e!==null&&e.$$typeof===l$2}function escape$1(e){var o={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(a){return o[a]})}var P$1=/\/+/g;function Q$1(e,o){return typeof e=="object"&&e!==null&&e.key!=null?escape$1(""+e.key):o.toString(36)}function R$1(e,o,a,g,_){var j=typeof e;(j==="undefined"||j==="boolean")&&(e=null);var $=!1;if(e===null)$=!0;else switch(j){case"string":case"number":$=!0;break;case"object":switch(e.$$typeof){case l$2:case n$1:$=!0}}if($)return $=e,_=_($),e=g===""?"."+Q$1($,0):g,I$1(_)?(a="",e!=null&&(a=e.replace(P$1,"$&/")+"/"),R$1(_,o,a,"",function(lt){return lt})):_!=null&&(O$1(_)&&(_=N$1(_,a+(!_.key||$&&$.key===_.key?"":(""+_.key).replace(P$1,"$&/")+"/")+e)),o.push(_)),1;if($=0,g=g===""?".":g+":",I$1(e))for(var ft=0;ft<e.length;ft++){j=e[ft];var et=g+Q$1(j,ft);$+=R$1(j,o,a,et,_)}else if(et=A$1(e),typeof et=="function")for(e=et.call(e),ft=0;!(j=e.next()).done;)j=j.value,et=g+Q$1(j,ft++),$+=R$1(j,o,a,et,_);else if(j==="object")throw o=String(e),Error("Objects are not valid as a React child (found: "+(o==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":o)+"). If you meant to render a collection of children, use an array instead.");return $}function S$1(e,o,a){if(e==null)return e;var g=[],_=0;return R$1(e,g,"","",function(j){return o.call(a,j,_++)}),g}function T$1(e){if(e._status===-1){var o=e._result;o=o(),o.then(function(a){(e._status===0||e._status===-1)&&(e._status=1,e._result=a)},function(a){(e._status===0||e._status===-1)&&(e._status=2,e._result=a)}),e._status===-1&&(e._status=0,e._result=o)}if(e._status===1)return e._result.default;throw e._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};react_production_min.Children={map:S$1,forEach:function(e,o,a){S$1(e,function(){o.apply(this,arguments)},a)},count:function(e){var o=0;return S$1(e,function(){o++}),o},toArray:function(e){return S$1(e,function(o){return o})||[]},only:function(e){if(!O$1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};react_production_min.Component=E$1;react_production_min.Fragment=p$3;react_production_min.Profiler=r$1;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$1;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.cloneElement=function(e,o,a){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var g=C$1({},e.props),_=e.key,j=e.ref,$=e._owner;if(o!=null){if(o.ref!==void 0&&(j=o.ref,$=K$1.current),o.key!==void 0&&(_=""+o.key),e.type&&e.type.defaultProps)var ft=e.type.defaultProps;for(et in o)J.call(o,et)&&!L$1.hasOwnProperty(et)&&(g[et]=o[et]===void 0&&ft!==void 0?ft[et]:o[et])}var et=arguments.length-2;if(et===1)g.children=a;else if(1<et){ft=Array(et);for(var lt=0;lt<et;lt++)ft[lt]=arguments[lt+2];g.children=ft}return{$$typeof:l$2,type:e.type,key:_,ref:j,props:g,_owner:$}};react_production_min.createContext=function(e){return e={$$typeof:u$1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:t,_context:e},e.Consumer=e};react_production_min.createElement=M$1;react_production_min.createFactory=function(e){var o=M$1.bind(null,e);return o.type=e,o};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(e){return{$$typeof:v$2,render:e}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(e){return{$$typeof:y$1,_payload:{_status:-1,_result:e},_init:T$1}};react_production_min.memo=function(e,o){return{$$typeof:x,type:e,compare:o===void 0?null:o}};react_production_min.startTransition=function(e){var o=V$1.transition;V$1.transition={};try{e()}finally{V$1.transition=o}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(e,o){return U$1.current.useCallback(e,o)};react_production_min.useContext=function(e){return U$1.current.useContext(e)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(e){return U$1.current.useDeferredValue(e)};react_production_min.useEffect=function(e,o){return U$1.current.useEffect(e,o)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(e,o,a){return U$1.current.useImperativeHandle(e,o,a)};react_production_min.useInsertionEffect=function(e,o){return U$1.current.useInsertionEffect(e,o)};react_production_min.useLayoutEffect=function(e,o){return U$1.current.useLayoutEffect(e,o)};react_production_min.useMemo=function(e,o){return U$1.current.useMemo(e,o)};react_production_min.useReducer=function(e,o,a){return U$1.current.useReducer(e,o,a)};react_production_min.useRef=function(e){return U$1.current.useRef(e)};react_production_min.useState=function(e){return U$1.current.useState(e)};react_production_min.useSyncExternalStore=function(e,o,a){return U$1.current.useSyncExternalStore(e,o,a)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.2.0";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$1=reactExports,k=Symbol.for("react.element"),l$1=Symbol.for("react.fragment"),m$2=Object.prototype.hasOwnProperty,n=f$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$2={key:!0,ref:!0,__self:!0,__source:!0};function q(e,o,a){var g,_={},j=null,$=null;a!==void 0&&(j=""+a),o.key!==void 0&&(j=""+o.key),o.ref!==void 0&&($=o.ref);for(g in o)m$2.call(o,g)&&!p$2.hasOwnProperty(g)&&(_[g]=o[g]);if(e&&e.defaultProps)for(g in o=e.defaultProps,o)_[g]===void 0&&(_[g]=o[g]);return{$$typeof:k,type:e,key:j,ref:$,props:_,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l$1;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function o(Mt,Wt){var Ht=Mt.length;Mt.push(Wt);e:for(;0<Ht;){var ln=Ht-1>>>1,cn=Mt[ln];if(0<_(cn,Wt))Mt[ln]=Wt,Mt[Ht]=cn,Ht=ln;else break e}}function a(Mt){return Mt.length===0?null:Mt[0]}function g(Mt){if(Mt.length===0)return null;var Wt=Mt[0],Ht=Mt.pop();if(Ht!==Wt){Mt[0]=Ht;e:for(var ln=0,cn=Mt.length,Ct=cn>>>1;ln<Ct;){var tt=2*(ln+1)-1,ut=Mt[tt],st=tt+1,gt=Mt[st];if(0>_(ut,Ht))st<cn&&0>_(gt,ut)?(Mt[ln]=gt,Mt[st]=Ht,ln=st):(Mt[ln]=ut,Mt[tt]=Ht,ln=tt);else if(st<cn&&0>_(gt,Ht))Mt[ln]=gt,Mt[st]=Ht,ln=st;else break e}}return Wt}function _(Mt,Wt){var Ht=Mt.sortIndex-Wt.sortIndex;return Ht!==0?Ht:Mt.id-Wt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var j=performance;e.unstable_now=function(){return j.now()}}else{var $=Date,ft=$.now();e.unstable_now=function(){return $.now()-ft}}var et=[],lt=[],at=1,At=null,St=3,Et=!1,yt=!1,_t=!1,mt=typeof setTimeout=="function"?setTimeout:null,ot=typeof clearTimeout=="function"?clearTimeout:null,it=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ct(Mt){for(var Wt=a(lt);Wt!==null;){if(Wt.callback===null)g(lt);else if(Wt.startTime<=Mt)g(lt),Wt.sortIndex=Wt.expirationTime,o(et,Wt);else break;Wt=a(lt)}}function pt(Mt){if(_t=!1,ct(Mt),!yt)if(a(et)!==null)yt=!0,Xt(rt);else{var Wt=a(lt);Wt!==null&&tn(pt,Wt.startTime-Mt)}}function rt(Mt,Wt){yt=!1,_t&&(_t=!1,ot(vt),vt=-1),Et=!0;var Ht=St;try{for(ct(Wt),At=a(et);At!==null&&(!(At.expirationTime>Wt)||Mt&&!wt());){var ln=At.callback;if(typeof ln=="function"){At.callback=null,St=At.priorityLevel;var cn=ln(At.expirationTime<=Wt);Wt=e.unstable_now(),typeof cn=="function"?At.callback=cn:At===a(et)&&g(et),ct(Wt)}else g(et);At=a(et)}if(At!==null)var Ct=!0;else{var tt=a(lt);tt!==null&&tn(pt,tt.startTime-Wt),Ct=!1}return Ct}finally{At=null,St=Ht,Et=!1}}var dt=!1,xt=null,vt=-1,ht=5,kt=-1;function wt(){return!(e.unstable_now()-kt<ht)}function Nt(){if(xt!==null){var Mt=e.unstable_now();kt=Mt;var Wt=!0;try{Wt=xt(!0,Mt)}finally{Wt?jt():(dt=!1,xt=null)}}else dt=!1}var jt;if(typeof it=="function")jt=function(){it(Nt)};else if(typeof MessageChannel<"u"){var Pt=new MessageChannel,Ut=Pt.port2;Pt.port1.onmessage=Nt,jt=function(){Ut.postMessage(null)}}else jt=function(){mt(Nt,0)};function Xt(Mt){xt=Mt,dt||(dt=!0,jt())}function tn(Mt,Wt){vt=mt(function(){Mt(e.unstable_now())},Wt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Mt){Mt.callback=null},e.unstable_continueExecution=function(){yt||Et||(yt=!0,Xt(rt))},e.unstable_forceFrameRate=function(Mt){0>Mt||125<Mt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ht=0<Mt?Math.floor(1e3/Mt):5},e.unstable_getCurrentPriorityLevel=function(){return St},e.unstable_getFirstCallbackNode=function(){return a(et)},e.unstable_next=function(Mt){switch(St){case 1:case 2:case 3:var Wt=3;break;default:Wt=St}var Ht=St;St=Wt;try{return Mt()}finally{St=Ht}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Mt,Wt){switch(Mt){case 1:case 2:case 3:case 4:case 5:break;default:Mt=3}var Ht=St;St=Mt;try{return Wt()}finally{St=Ht}},e.unstable_scheduleCallback=function(Mt,Wt,Ht){var ln=e.unstable_now();switch(typeof Ht=="object"&&Ht!==null?(Ht=Ht.delay,Ht=typeof Ht=="number"&&0<Ht?ln+Ht:ln):Ht=ln,Mt){case 1:var cn=-1;break;case 2:cn=250;break;case 5:cn=1073741823;break;case 4:cn=1e4;break;default:cn=5e3}return cn=Ht+cn,Mt={id:at++,callback:Wt,priorityLevel:Mt,startTime:Ht,expirationTime:cn,sortIndex:-1},Ht>ln?(Mt.sortIndex=Ht,o(lt,Mt),a(et)===null&&Mt===a(lt)&&(_t?(ot(vt),vt=-1):_t=!0,tn(pt,Ht-ln))):(Mt.sortIndex=cn,o(et,Mt),yt||Et||(yt=!0,Xt(rt))),Mt},e.unstable_shouldYield=wt,e.unstable_wrapCallback=function(Mt){var Wt=St;return function(){var Ht=St;St=Wt;try{return Mt.apply(this,arguments)}finally{St=Ht}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$1(e){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)o+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(e,o){ha(e,o),ha(e+"Capture",o)}function ha(e,o){for(ea[e]=o,e=0;e<o.length;e++)da.add(o[e])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(e){return ja.call(ma,e)?!0:ja.call(la,e)?!1:ka.test(e)?ma[e]=!0:(la[e]=!0,!1)}function pa(e,o,a,g){if(a!==null&&a.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return g?!1:a!==null?!a.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qa(e,o,a,g){if(o===null||typeof o>"u"||pa(e,o,a,g))return!0;if(g)return!1;if(a!==null)switch(a.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function v$1(e,o,a,g,_,j,$){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=g,this.attributeNamespace=_,this.mustUseProperty=a,this.propertyName=e,this.type=o,this.sanitizeURL=j,this.removeEmptyString=$}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){z[e]=new v$1(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var o=e[0];z[o]=new v$1(o,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){z[e]=new v$1(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){z[e]=new v$1(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){z[e]=new v$1(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){z[e]=new v$1(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){z[e]=new v$1(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){z[e]=new v$1(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){z[e]=new v$1(e,5,!1,e.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var o=e.replace(ra,sa);z[o]=new v$1(o,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var o=e.replace(ra,sa);z[o]=new v$1(o,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var o=e.replace(ra,sa);z[o]=new v$1(o,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){z[e]=new v$1(e,1,!1,e.toLowerCase(),null,!1,!1)});z.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){z[e]=new v$1(e,1,!1,e.toLowerCase(),null,!0,!0)});function ta(e,o,a,g){var _=z.hasOwnProperty(o)?z[o]:null;(_!==null?_.type!==0:g||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(qa(o,a,_,g)&&(a=null),g||_===null?oa(o)&&(a===null?e.removeAttribute(o):e.setAttribute(o,""+a)):_.mustUseProperty?e[_.propertyName]=a===null?_.type===3?!1:"":a:(o=_.attributeName,g=_.attributeNamespace,a===null?e.removeAttribute(o):(_=_.type,a=_===3||_===4&&a===!0?"":""+a,g?e.setAttributeNS(g,o,a):e.setAttribute(o,a))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(e){return e===null||typeof e!="object"?null:(e=Ja&&e[Ja]||e["@@iterator"],typeof e=="function"?e:null)}var A=Object.assign,La;function Ma(e){if(La===void 0)try{throw Error()}catch(a){var o=a.stack.trim().match(/\n( *(at )?)/);La=o&&o[1]||""}return`
`+La+e}var Na=!1;function Oa(e,o){if(!e||Na)return"";Na=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(lt){var g=lt}Reflect.construct(e,[],o)}else{try{o.call()}catch(lt){g=lt}e.call(o.prototype)}else{try{throw Error()}catch(lt){g=lt}e()}}catch(lt){if(lt&&g&&typeof lt.stack=="string"){for(var _=lt.stack.split(`
`),j=g.stack.split(`
`),$=_.length-1,ft=j.length-1;1<=$&&0<=ft&&_[$]!==j[ft];)ft--;for(;1<=$&&0<=ft;$--,ft--)if(_[$]!==j[ft]){if($!==1||ft!==1)do if($--,ft--,0>ft||_[$]!==j[ft]){var et=`
`+_[$].replace(" at new "," at ");return e.displayName&&et.includes("<anonymous>")&&(et=et.replace("<anonymous>",e.displayName)),et}while(1<=$&&0<=ft);break}}}finally{Na=!1,Error.prepareStackTrace=a}return(e=e?e.displayName||e.name:"")?Ma(e):""}function Pa(e){switch(e.tag){case 5:return Ma(e.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return e=Oa(e.type,!1),e;case 11:return e=Oa(e.type.render,!1),e;case 1:return e=Oa(e.type,!0),e;default:return""}}function Qa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ca:return(e.displayName||"Context")+".Consumer";case Ba:return(e._context.displayName||"Context")+".Provider";case Da:var o=e.render;return e=e.displayName,e||(e=o.displayName||o.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ga:return o=e.displayName||null,o!==null?o:Qa(e.type)||"Memo";case Ha:o=e._payload,e=e._init;try{return Qa(e(o))}catch{}}return null}function Ra(e){var o=e.type;switch(e.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=o.render,e=e.displayName||e.name||"",o.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(o);case 8:return o===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Sa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ta(e){var o=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ua(e){var o=Ta(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,o),g=""+e[o];if(!e.hasOwnProperty(o)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var _=a.get,j=a.set;return Object.defineProperty(e,o,{configurable:!0,get:function(){return _.call(this)},set:function($){g=""+$,j.call(this,$)}}),Object.defineProperty(e,o,{enumerable:a.enumerable}),{getValue:function(){return g},setValue:function($){g=""+$},stopTracking:function(){e._valueTracker=null,delete e[o]}}}}function Va(e){e._valueTracker||(e._valueTracker=Ua(e))}function Wa(e){if(!e)return!1;var o=e._valueTracker;if(!o)return!0;var a=o.getValue(),g="";return e&&(g=Ta(e)?e.checked?"true":"false":e.value),e=g,e!==a?(o.setValue(e),!0):!1}function Xa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ya(e,o){var a=o.checked;return A({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??e._wrapperState.initialChecked})}function Za(e,o){var a=o.defaultValue==null?"":o.defaultValue,g=o.checked!=null?o.checked:o.defaultChecked;a=Sa(o.value!=null?o.value:a),e._wrapperState={initialChecked:g,initialValue:a,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function ab(e,o){o=o.checked,o!=null&&ta(e,"checked",o,!1)}function bb(e,o){ab(e,o);var a=Sa(o.value),g=o.type;if(a!=null)g==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+a):e.value!==""+a&&(e.value=""+a);else if(g==="submit"||g==="reset"){e.removeAttribute("value");return}o.hasOwnProperty("value")?cb(e,o.type,a):o.hasOwnProperty("defaultValue")&&cb(e,o.type,Sa(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(e.defaultChecked=!!o.defaultChecked)}function db(e,o,a){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var g=o.type;if(!(g!=="submit"&&g!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+e._wrapperState.initialValue,a||o===e.value||(e.value=o),e.defaultValue=o}a=e.name,a!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,a!==""&&(e.name=a)}function cb(e,o,a){(o!=="number"||Xa(e.ownerDocument)!==e)&&(a==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+a&&(e.defaultValue=""+a))}var eb=Array.isArray;function fb(e,o,a,g){if(e=e.options,o){o={};for(var _=0;_<a.length;_++)o["$"+a[_]]=!0;for(a=0;a<e.length;a++)_=o.hasOwnProperty("$"+e[a].value),e[a].selected!==_&&(e[a].selected=_),_&&g&&(e[a].defaultSelected=!0)}else{for(a=""+Sa(a),o=null,_=0;_<e.length;_++){if(e[_].value===a){e[_].selected=!0,g&&(e[_].defaultSelected=!0);return}o!==null||e[_].disabled||(o=e[_])}o!==null&&(o.selected=!0)}}function gb(e,o){if(o.dangerouslySetInnerHTML!=null)throw Error(p$1(91));return A({},o,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hb(e,o){var a=o.value;if(a==null){if(a=o.children,o=o.defaultValue,a!=null){if(o!=null)throw Error(p$1(92));if(eb(a)){if(1<a.length)throw Error(p$1(93));a=a[0]}o=a}o==null&&(o=""),a=o}e._wrapperState={initialValue:Sa(a)}}function ib(e,o){var a=Sa(o.value),g=Sa(o.defaultValue);a!=null&&(a=""+a,a!==e.value&&(e.value=a),o.defaultValue==null&&e.defaultValue!==a&&(e.defaultValue=a)),g!=null&&(e.defaultValue=""+g)}function jb(e){var o=e.textContent;o===e._wrapperState.initialValue&&o!==""&&o!==null&&(e.value=o)}function kb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(e,o){return e==null||e==="http://www.w3.org/1999/xhtml"?kb(o):e==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var mb,nb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,a,g,_){MSApp.execUnsafeLocalFunction(function(){return e(o,a,g,_)})}:e}(function(e,o){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=o;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=mb.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;o.firstChild;)e.appendChild(o.firstChild)}});function ob(e,o){if(o){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=o;return}}e.textContent=o}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(e){qb.forEach(function(o){o=o+e.charAt(0).toUpperCase()+e.substring(1),pb[o]=pb[e]})});function rb(e,o,a){return o==null||typeof o=="boolean"||o===""?"":a||typeof o!="number"||o===0||pb.hasOwnProperty(e)&&pb[e]?(""+o).trim():o+"px"}function sb(e,o){e=e.style;for(var a in o)if(o.hasOwnProperty(a)){var g=a.indexOf("--")===0,_=rb(a,o[a],g);a==="float"&&(a="cssFloat"),g?e.setProperty(a,_):e[a]=_}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(e,o){if(o){if(tb[e]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(p$1(137,e));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(p$1(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(p$1(61))}if(o.style!=null&&typeof o.style!="object")throw Error(p$1(62))}}function vb(e,o){if(e.indexOf("-")===-1)return typeof o.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yb=null,zb=null,Ab=null;function Bb(e){if(e=Cb(e)){if(typeof yb!="function")throw Error(p$1(280));var o=e.stateNode;o&&(o=Db(o),yb(e.stateNode,e.type,o))}}function Eb(e){zb?Ab?Ab.push(e):Ab=[e]:zb=e}function Fb(){if(zb){var e=zb,o=Ab;if(Ab=zb=null,Bb(e),o)for(e=0;e<o.length;e++)Bb(o[e])}}function Gb(e,o){return e(o)}function Hb(){}var Ib=!1;function Jb(e,o,a){if(Ib)return e(o,a);Ib=!0;try{return Gb(e,o,a)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(e,o){var a=e.stateNode;if(a===null)return null;var g=Db(a);if(g===null)return null;a=g[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(e=e.type,g=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!g;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(p$1(231,o,typeof a));return a}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(e,o,a,g,_,j,$,ft,et){var lt=Array.prototype.slice.call(arguments,3);try{o.apply(a,lt)}catch(at){this.onError(at)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(e){Ob=!0,Pb=e}};function Tb(e,o,a,g,_,j,$,ft,et){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(e,o,a,g,_,j,$,ft,et){if(Tb.apply(this,arguments),Ob){if(Ob){var lt=Pb;Ob=!1,Pb=null}else throw Error(p$1(198));Qb||(Qb=!0,Rb=lt)}}function Vb(e){var o=e,a=e;if(e.alternate)for(;o.return;)o=o.return;else{e=o;do o=e,o.flags&4098&&(a=o.return),e=o.return;while(e)}return o.tag===3?a:null}function Wb(e){if(e.tag===13){var o=e.memoizedState;if(o===null&&(e=e.alternate,e!==null&&(o=e.memoizedState)),o!==null)return o.dehydrated}return null}function Xb(e){if(Vb(e)!==e)throw Error(p$1(188))}function Yb(e){var o=e.alternate;if(!o){if(o=Vb(e),o===null)throw Error(p$1(188));return o!==e?null:e}for(var a=e,g=o;;){var _=a.return;if(_===null)break;var j=_.alternate;if(j===null){if(g=_.return,g!==null){a=g;continue}break}if(_.child===j.child){for(j=_.child;j;){if(j===a)return Xb(_),e;if(j===g)return Xb(_),o;j=j.sibling}throw Error(p$1(188))}if(a.return!==g.return)a=_,g=j;else{for(var $=!1,ft=_.child;ft;){if(ft===a){$=!0,a=_,g=j;break}if(ft===g){$=!0,g=_,a=j;break}ft=ft.sibling}if(!$){for(ft=j.child;ft;){if(ft===a){$=!0,a=j,g=_;break}if(ft===g){$=!0,g=j,a=_;break}ft=ft.sibling}if(!$)throw Error(p$1(189))}}if(a.alternate!==g)throw Error(p$1(190))}if(a.tag!==3)throw Error(p$1(188));return a.stateNode.current===a?e:o}function Zb(e){return e=Yb(e),e!==null?$b(e):null}function $b(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var o=$b(e);if(o!==null)return o;e=e.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(e){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,e,void 0,(e.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(e){return e>>>=0,e===0?32:31-(pc(e)/qc|0)|0}var rc=64,sc=4194304;function tc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function uc(e,o){var a=e.pendingLanes;if(a===0)return 0;var g=0,_=e.suspendedLanes,j=e.pingedLanes,$=a&268435455;if($!==0){var ft=$&~_;ft!==0?g=tc(ft):(j&=$,j!==0&&(g=tc(j)))}else $=a&~_,$!==0?g=tc($):j!==0&&(g=tc(j));if(g===0)return 0;if(o!==0&&o!==g&&!(o&_)&&(_=g&-g,j=o&-o,_>=j||_===16&&(j&4194240)!==0))return o;if(g&4&&(g|=a&16),o=e.entangledLanes,o!==0)for(e=e.entanglements,o&=g;0<o;)a=31-oc(o),_=1<<a,g|=e[a],o&=~_;return g}function vc(e,o){switch(e){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(e,o){for(var a=e.suspendedLanes,g=e.pingedLanes,_=e.expirationTimes,j=e.pendingLanes;0<j;){var $=31-oc(j),ft=1<<$,et=_[$];et===-1?(!(ft&a)||ft&g)&&(_[$]=vc(ft,o)):et<=o&&(e.expiredLanes|=ft),j&=~ft}}function xc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yc(){var e=rc;return rc<<=1,!(rc&4194240)&&(rc=64),e}function zc(e){for(var o=[],a=0;31>a;a++)o.push(e);return o}function Ac(e,o,a){e.pendingLanes|=o,o!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,o=31-oc(o),e[o]=a}function Bc(e,o){var a=e.pendingLanes&~o;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=o,e.mutableReadLanes&=o,e.entangledLanes&=o,o=e.entanglements;var g=e.eventTimes;for(e=e.expirationTimes;0<a;){var _=31-oc(a),j=1<<_;o[_]=0,g[_]=-1,e[_]=-1,a&=~j}}function Cc(e,o){var a=e.entangledLanes|=o;for(e=e.entanglements;a;){var g=31-oc(a),_=1<<g;_&o|e[g]&o&&(e[g]|=o),a&=~_}}var C=0;function Dc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(e,o){switch(e){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(o.pointerId)}}function Tc(e,o,a,g,_,j){return e===null||e.nativeEvent!==j?(e={blockedOn:o,domEventName:a,eventSystemFlags:g,nativeEvent:j,targetContainers:[_]},o!==null&&(o=Cb(o),o!==null&&Fc(o)),e):(e.eventSystemFlags|=g,o=e.targetContainers,_!==null&&o.indexOf(_)===-1&&o.push(_),e)}function Uc(e,o,a,g,_){switch(o){case"focusin":return Lc=Tc(Lc,e,o,a,g,_),!0;case"dragenter":return Mc=Tc(Mc,e,o,a,g,_),!0;case"mouseover":return Nc=Tc(Nc,e,o,a,g,_),!0;case"pointerover":var j=_.pointerId;return Oc.set(j,Tc(Oc.get(j)||null,e,o,a,g,_)),!0;case"gotpointercapture":return j=_.pointerId,Pc.set(j,Tc(Pc.get(j)||null,e,o,a,g,_)),!0}return!1}function Vc(e){var o=Wc(e.target);if(o!==null){var a=Vb(o);if(a!==null){if(o=a.tag,o===13){if(o=Wb(a),o!==null){e.blockedOn=o,Ic(e.priority,function(){Gc(a)});return}}else if(o===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xc(e){if(e.blockedOn!==null)return!1;for(var o=e.targetContainers;0<o.length;){var a=Yc(e.domEventName,e.eventSystemFlags,o[0],e.nativeEvent);if(a===null){a=e.nativeEvent;var g=new a.constructor(a.type,a);wb=g,a.target.dispatchEvent(g),wb=null}else return o=Cb(a),o!==null&&Fc(o),e.blockedOn=a,!1;o.shift()}return!0}function Zc(e,o,a){Xc(e)&&a.delete(o)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(e,o){e.blockedOn===o&&(e.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(e){function o(_){return ad(_,e)}if(0<Kc.length){ad(Kc[0],e);for(var a=1;a<Kc.length;a++){var g=Kc[a];g.blockedOn===e&&(g.blockedOn=null)}}for(Lc!==null&&ad(Lc,e),Mc!==null&&ad(Mc,e),Nc!==null&&ad(Nc,e),Oc.forEach(o),Pc.forEach(o),a=0;a<Qc.length;a++)g=Qc[a],g.blockedOn===e&&(g.blockedOn=null);for(;0<Qc.length&&(a=Qc[0],a.blockedOn===null);)Vc(a),a.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(e,o,a,g){var _=C,j=cd.transition;cd.transition=null;try{C=1,fd(e,o,a,g)}finally{C=_,cd.transition=j}}function gd(e,o,a,g){var _=C,j=cd.transition;cd.transition=null;try{C=4,fd(e,o,a,g)}finally{C=_,cd.transition=j}}function fd(e,o,a,g){if(dd){var _=Yc(e,o,a,g);if(_===null)hd(e,o,g,id,a),Sc(e,g);else if(Uc(_,e,o,a,g))g.stopPropagation();else if(Sc(e,g),o&4&&-1<Rc.indexOf(e)){for(;_!==null;){var j=Cb(_);if(j!==null&&Ec(j),j=Yc(e,o,a,g),j===null&&hd(e,o,g,id,a),j===_)break;_=j}_!==null&&g.stopPropagation()}else hd(e,o,g,null,a)}}var id=null;function Yc(e,o,a,g){if(id=null,e=xb(g),e=Wc(e),e!==null)if(o=Vb(e),o===null)e=null;else if(a=o.tag,a===13){if(e=Wb(o),e!==null)return e;e=null}else if(a===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;e=null}else o!==e&&(e=null);return id=e,null}function jd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var e,o=ld,a=o.length,g,_="value"in kd?kd.value:kd.textContent,j=_.length;for(e=0;e<a&&o[e]===_[e];e++);var $=a-e;for(g=1;g<=$&&o[a-g]===_[j-g];g++);return md=_.slice(e,1<g?1-g:void 0)}function od(e){var o=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&o===13&&(e=13)):e=o,e===10&&(e=13),32<=e||e===13?e:0}function pd(){return!0}function qd(){return!1}function rd(e){function o(a,g,_,j,$){this._reactName=a,this._targetInst=_,this.type=g,this.nativeEvent=j,this.target=$,this.currentTarget=null;for(var ft in e)e.hasOwnProperty(ft)&&(a=e[ft],this[ft]=a?a(j):j[ft]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),o}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yd&&(yd&&e.type==="mousemove"?(wd=e.screenX-yd.screenX,xd=e.screenY-yd.screenY):xd=wd=0,yd=e),wd)},movementY:function(e){return"movementY"in e?e.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(e){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(e):(e=Od[e])?!!o[e]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(e){if(e.key){var o=Md[e.key]||e.key;if(o!=="Unidentified")return o}return e.type==="keypress"?(e=od(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nd[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(e){return e.type==="keypress"?od(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?od(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;function ge(e,o){switch(e){case"keyup":return $d.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ie=!1;function je(e,o){switch(e){case"compositionend":return he(o);case"keypress":return o.which!==32?null:(fe=!0,ee);case"textInput":return e=o.data,e===ee&&fe?null:e;default:return null}}function ke(e,o){if(ie)return e==="compositionend"||!ae&&ge(e,o)?(e=nd(),md=ld=kd=null,ie=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return de&&o.locale!=="ko"?null:o.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(e){var o=e&&e.nodeName&&e.nodeName.toLowerCase();return o==="input"?!!le[e.type]:o==="textarea"}function ne(e,o,a,g){Eb(g),o=oe(o,"onChange"),0<o.length&&(a=new td("onChange","change",null,a,g),e.push({event:a,listeners:o}))}var pe=null,qe=null;function re(e){se(e,0)}function te(e){var o=ue(e);if(Wa(o))return e}function ve(e,o){if(e==="change")return o}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(e){if(e.propertyName==="value"&&te(qe)){var o=[];ne(o,qe,e,xb(e)),Jb(re,o)}}function Ce(e,o,a){e==="focusin"?(Ae(),pe=o,qe=a,pe.attachEvent("onpropertychange",Be)):e==="focusout"&&Ae()}function De(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return te(qe)}function Ee(e,o){if(e==="click")return te(o)}function Fe(e,o){if(e==="input"||e==="change")return te(o)}function Ge(e,o){return e===o&&(e!==0||1/e===1/o)||e!==e&&o!==o}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(e,o){if(He(e,o))return!0;if(typeof e!="object"||e===null||typeof o!="object"||o===null)return!1;var a=Object.keys(e),g=Object.keys(o);if(a.length!==g.length)return!1;for(g=0;g<a.length;g++){var _=a[g];if(!ja.call(o,_)||!He(e[_],o[_]))return!1}return!0}function Je(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ke(e,o){var a=Je(e);e=0;for(var g;a;){if(a.nodeType===3){if(g=e+a.textContent.length,e<=o&&g>=o)return{node:a,offset:o-e};e=g}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Je(a)}}function Le(e,o){return e&&o?e===o?!0:e&&e.nodeType===3?!1:o&&o.nodeType===3?Le(e,o.parentNode):"contains"in e?e.contains(o):e.compareDocumentPosition?!!(e.compareDocumentPosition(o)&16):!1:!1}function Me(){for(var e=window,o=Xa();o instanceof e.HTMLIFrameElement;){try{var a=typeof o.contentWindow.location.href=="string"}catch{a=!1}if(a)e=o.contentWindow;else break;o=Xa(e.document)}return o}function Ne(e){var o=e&&e.nodeName&&e.nodeName.toLowerCase();return o&&(o==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||o==="textarea"||e.contentEditable==="true")}function Oe(e){var o=Me(),a=e.focusedElem,g=e.selectionRange;if(o!==a&&a&&a.ownerDocument&&Le(a.ownerDocument.documentElement,a)){if(g!==null&&Ne(a)){if(o=g.start,e=g.end,e===void 0&&(e=o),"selectionStart"in a)a.selectionStart=o,a.selectionEnd=Math.min(e,a.value.length);else if(e=(o=a.ownerDocument||document)&&o.defaultView||window,e.getSelection){e=e.getSelection();var _=a.textContent.length,j=Math.min(g.start,_);g=g.end===void 0?j:Math.min(g.end,_),!e.extend&&j>g&&(_=g,g=j,j=_),_=Ke(a,j);var $=Ke(a,g);_&&$&&(e.rangeCount!==1||e.anchorNode!==_.node||e.anchorOffset!==_.offset||e.focusNode!==$.node||e.focusOffset!==$.offset)&&(o=o.createRange(),o.setStart(_.node,_.offset),e.removeAllRanges(),j>g?(e.addRange(o),e.extend($.node,$.offset)):(o.setEnd($.node,$.offset),e.addRange(o)))}}for(o=[],e=a;e=e.parentNode;)e.nodeType===1&&o.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<o.length;a++)e=o[a],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(e,o,a){var g=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Te||Qe==null||Qe!==Xa(g)||(g=Qe,"selectionStart"in g&&Ne(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Se&&Ie(Se,g)||(Se=g,g=oe(Re,"onSelect"),0<g.length&&(o=new td("onSelect","select",null,o,a),e.push({event:o,listeners:g}),o.target=Qe)))}function Ve(e,o){var a={};return a[e.toLowerCase()]=o.toLowerCase(),a["Webkit"+e]="webkit"+o,a["Moz"+e]="moz"+o,a}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(e){if(Xe[e])return Xe[e];if(!We[e])return e;var o=We[e],a;for(a in o)if(o.hasOwnProperty(a)&&a in Ye)return Xe[e]=o[a];return e}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(e,o){df.set(e,o),fa(o,[e])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(e,o,a){var g=e.type||"unknown-event";e.currentTarget=a,Ub(g,o,void 0,e),e.currentTarget=null}function se(e,o){o=(o&4)!==0;for(var a=0;a<e.length;a++){var g=e[a],_=g.event;g=g.listeners;e:{var j=void 0;if(o)for(var $=g.length-1;0<=$;$--){var ft=g[$],et=ft.instance,lt=ft.currentTarget;if(ft=ft.listener,et!==j&&_.isPropagationStopped())break e;nf(_,ft,lt),j=et}else for($=0;$<g.length;$++){if(ft=g[$],et=ft.instance,lt=ft.currentTarget,ft=ft.listener,et!==j&&_.isPropagationStopped())break e;nf(_,ft,lt),j=et}}}if(Qb)throw e=Rb,Qb=!1,Rb=null,e}function D(e,o){var a=o[of];a===void 0&&(a=o[of]=new Set);var g=e+"__bubble";a.has(g)||(pf(o,e,2,!1),a.add(g))}function qf(e,o,a){var g=0;o&&(g|=4),pf(a,e,g,o)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(e){if(!e[rf]){e[rf]=!0,da.forEach(function(a){a!=="selectionchange"&&(mf.has(a)||qf(a,!1,e),qf(a,!0,e))});var o=e.nodeType===9?e:e.ownerDocument;o===null||o[rf]||(o[rf]=!0,qf("selectionchange",!1,o))}}function pf(e,o,a,g){switch(jd(o)){case 1:var _=ed;break;case 4:_=gd;break;default:_=fd}a=_.bind(null,o,a,e),_=void 0,!Lb||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(_=!0),g?_!==void 0?e.addEventListener(o,a,{capture:!0,passive:_}):e.addEventListener(o,a,!0):_!==void 0?e.addEventListener(o,a,{passive:_}):e.addEventListener(o,a,!1)}function hd(e,o,a,g,_){var j=g;if(!(o&1)&&!(o&2)&&g!==null)e:for(;;){if(g===null)return;var $=g.tag;if($===3||$===4){var ft=g.stateNode.containerInfo;if(ft===_||ft.nodeType===8&&ft.parentNode===_)break;if($===4)for($=g.return;$!==null;){var et=$.tag;if((et===3||et===4)&&(et=$.stateNode.containerInfo,et===_||et.nodeType===8&&et.parentNode===_))return;$=$.return}for(;ft!==null;){if($=Wc(ft),$===null)return;if(et=$.tag,et===5||et===6){g=j=$;continue e}ft=ft.parentNode}}g=g.return}Jb(function(){var lt=j,at=xb(a),At=[];e:{var St=df.get(e);if(St!==void 0){var Et=td,yt=e;switch(e){case"keypress":if(od(a)===0)break e;case"keydown":case"keyup":Et=Rd;break;case"focusin":yt="focus",Et=Fd;break;case"focusout":yt="blur",Et=Fd;break;case"beforeblur":case"afterblur":Et=Fd;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Et=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Et=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Et=Vd;break;case $e:case af:case bf:Et=Hd;break;case cf:Et=Xd;break;case"scroll":Et=vd;break;case"wheel":Et=Zd;break;case"copy":case"cut":case"paste":Et=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Et=Td}var _t=(o&4)!==0,mt=!_t&&e==="scroll",ot=_t?St!==null?St+"Capture":null:St;_t=[];for(var it=lt,ct;it!==null;){ct=it;var pt=ct.stateNode;if(ct.tag===5&&pt!==null&&(ct=pt,ot!==null&&(pt=Kb(it,ot),pt!=null&&_t.push(tf(it,pt,ct)))),mt)break;it=it.return}0<_t.length&&(St=new Et(St,yt,null,a,at),At.push({event:St,listeners:_t}))}}if(!(o&7)){e:{if(St=e==="mouseover"||e==="pointerover",Et=e==="mouseout"||e==="pointerout",St&&a!==wb&&(yt=a.relatedTarget||a.fromElement)&&(Wc(yt)||yt[uf]))break e;if((Et||St)&&(St=at.window===at?at:(St=at.ownerDocument)?St.defaultView||St.parentWindow:window,Et?(yt=a.relatedTarget||a.toElement,Et=lt,yt=yt?Wc(yt):null,yt!==null&&(mt=Vb(yt),yt!==mt||yt.tag!==5&&yt.tag!==6)&&(yt=null)):(Et=null,yt=lt),Et!==yt)){if(_t=Bd,pt="onMouseLeave",ot="onMouseEnter",it="mouse",(e==="pointerout"||e==="pointerover")&&(_t=Td,pt="onPointerLeave",ot="onPointerEnter",it="pointer"),mt=Et==null?St:ue(Et),ct=yt==null?St:ue(yt),St=new _t(pt,it+"leave",Et,a,at),St.target=mt,St.relatedTarget=ct,pt=null,Wc(at)===lt&&(_t=new _t(ot,it+"enter",yt,a,at),_t.target=ct,_t.relatedTarget=mt,pt=_t),mt=pt,Et&&yt)t:{for(_t=Et,ot=yt,it=0,ct=_t;ct;ct=vf(ct))it++;for(ct=0,pt=ot;pt;pt=vf(pt))ct++;for(;0<it-ct;)_t=vf(_t),it--;for(;0<ct-it;)ot=vf(ot),ct--;for(;it--;){if(_t===ot||ot!==null&&_t===ot.alternate)break t;_t=vf(_t),ot=vf(ot)}_t=null}else _t=null;Et!==null&&wf(At,St,Et,_t,!1),yt!==null&&mt!==null&&wf(At,mt,yt,_t,!0)}}e:{if(St=lt?ue(lt):window,Et=St.nodeName&&St.nodeName.toLowerCase(),Et==="select"||Et==="input"&&St.type==="file")var rt=ve;else if(me(St))if(we)rt=Fe;else{rt=De;var dt=Ce}else(Et=St.nodeName)&&Et.toLowerCase()==="input"&&(St.type==="checkbox"||St.type==="radio")&&(rt=Ee);if(rt&&(rt=rt(e,lt))){ne(At,rt,a,at);break e}dt&&dt(e,St,lt),e==="focusout"&&(dt=St._wrapperState)&&dt.controlled&&St.type==="number"&&cb(St,"number",St.value)}switch(dt=lt?ue(lt):window,e){case"focusin":(me(dt)||dt.contentEditable==="true")&&(Qe=dt,Re=lt,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(At,a,at);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(At,a,at)}var xt;if(ae)e:{switch(e){case"compositionstart":var vt="onCompositionStart";break e;case"compositionend":vt="onCompositionEnd";break e;case"compositionupdate":vt="onCompositionUpdate";break e}vt=void 0}else ie?ge(e,a)&&(vt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(vt="onCompositionStart");vt&&(de&&a.locale!=="ko"&&(ie||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&ie&&(xt=nd()):(kd=at,ld="value"in kd?kd.value:kd.textContent,ie=!0)),dt=oe(lt,vt),0<dt.length&&(vt=new Ld(vt,e,null,a,at),At.push({event:vt,listeners:dt}),xt?vt.data=xt:(xt=he(a),xt!==null&&(vt.data=xt)))),(xt=ce?je(e,a):ke(e,a))&&(lt=oe(lt,"onBeforeInput"),0<lt.length&&(at=new Ld("onBeforeInput","beforeinput",null,a,at),At.push({event:at,listeners:lt}),at.data=xt))}se(At,o)})}function tf(e,o,a){return{instance:e,listener:o,currentTarget:a}}function oe(e,o){for(var a=o+"Capture",g=[];e!==null;){var _=e,j=_.stateNode;_.tag===5&&j!==null&&(_=j,j=Kb(e,a),j!=null&&g.unshift(tf(e,j,_)),j=Kb(e,o),j!=null&&g.push(tf(e,j,_))),e=e.return}return g}function vf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wf(e,o,a,g,_){for(var j=o._reactName,$=[];a!==null&&a!==g;){var ft=a,et=ft.alternate,lt=ft.stateNode;if(et!==null&&et===g)break;ft.tag===5&&lt!==null&&(ft=lt,_?(et=Kb(a,j),et!=null&&$.unshift(tf(a,et,ft))):_||(et=Kb(a,j),et!=null&&$.push(tf(a,et,ft)))),a=a.return}$.length!==0&&e.push({event:o,listeners:$})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(e){return(typeof e=="string"?e:""+e).replace(xf,`
`).replace(yf,"")}function Af(e,o,a){if(o=zf(o),zf(e)!==o&&a)throw Error(p$1(425))}function Bf(){}var Cf=null,Df=null;function Ef(e,o){return e==="textarea"||e==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(e){return Hf.resolve(null).then(e).catch(If)}:Ff;function If(e){setTimeout(function(){throw e})}function Kf(e,o){var a=o,g=0;do{var _=a.nextSibling;if(e.removeChild(a),_&&_.nodeType===8)if(a=_.data,a==="/$"){if(g===0){e.removeChild(_),bd(o);return}g--}else a!=="$"&&a!=="$?"&&a!=="$!"||g++;a=_}while(a);bd(o)}function Lf(e){for(;e!=null;e=e.nextSibling){var o=e.nodeType;if(o===1||o===3)break;if(o===8){if(o=e.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return e}function Mf(e){e=e.previousSibling;for(var o=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(o===0)return e;o--}else a==="/$"&&o++}e=e.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(e){var o=e[Of];if(o)return o;for(var a=e.parentNode;a;){if(o=a[uf]||a[Of]){if(a=o.alternate,o.child!==null||a!==null&&a.child!==null)for(e=Mf(e);e!==null;){if(a=e[Of])return a;e=Mf(e)}return o}e=a,a=e.parentNode}return null}function Cb(e){return e=e[Of]||e[uf],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ue(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(p$1(33))}function Db(e){return e[Pf]||null}var Sf=[],Tf=-1;function Uf(e){return{current:e}}function E(e){0>Tf||(e.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(e,o){Tf++,Sf[Tf]=e.current,e.current=o}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(e,o){var a=e.type.contextTypes;if(!a)return Vf;var g=e.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===o)return g.__reactInternalMemoizedMaskedChildContext;var _={},j;for(j in a)_[j]=o[j];return g&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=_),_}function Zf(e){return e=e.childContextTypes,e!=null}function $f(){E(Wf),E(H)}function ag(e,o,a){if(H.current!==Vf)throw Error(p$1(168));G(H,o),G(Wf,a)}function bg(e,o,a){var g=e.stateNode;if(o=o.childContextTypes,typeof g.getChildContext!="function")return a;g=g.getChildContext();for(var _ in g)if(!(_ in o))throw Error(p$1(108,Ra(e)||"Unknown",_));return A({},a,g)}function cg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,e),G(Wf,Wf.current),!0}function dg(e,o,a){var g=e.stateNode;if(!g)throw Error(p$1(169));a?(e=bg(e,o,Xf),g.__reactInternalMemoizedMergedChildContext=e,E(Wf),E(H),G(H,e)):E(Wf),G(Wf,a)}var eg=null,fg=!1,gg=!1;function hg(e){eg===null?eg=[e]:eg.push(e)}function ig(e){fg=!0,hg(e)}function jg(){if(!gg&&eg!==null){gg=!0;var e=0,o=C;try{var a=eg;for(C=1;e<a.length;e++){var g=a[e];do g=g(!0);while(g!==null)}eg=null,fg=!1}catch(_){throw eg!==null&&(eg=eg.slice(e+1)),ac(fc,jg),_}finally{C=o,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(e,o){kg[lg++]=ng,kg[lg++]=mg,mg=e,ng=o}function ug(e,o,a){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=e;var g=rg;e=sg;var _=32-oc(g)-1;g&=~(1<<_),a+=1;var j=32-oc(o)+_;if(30<j){var $=_-_%5;j=(g&(1<<$)-1).toString(32),g>>=$,_-=$,rg=1<<32-oc(o)+_|a<<_|g,sg=j+e}else rg=1<<j|a<<_|g,sg=e}function vg(e){e.return!==null&&(tg(e,1),ug(e,1,0))}function wg(e){for(;e===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;e===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(e,o){var a=Bg(5,null,null,0);a.elementType="DELETED",a.stateNode=o,a.return=e,o=e.deletions,o===null?(e.deletions=[a],e.flags|=16):o.push(a)}function Cg(e,o){switch(e.tag){case 5:var a=e.type;return o=o.nodeType!==1||a.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(e.stateNode=o,xg=e,yg=Lf(o.firstChild),!0):!1;case 6:return o=e.pendingProps===""||o.nodeType!==3?null:o,o!==null?(e.stateNode=o,xg=e,yg=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(a=qg!==null?{id:rg,overflow:sg}:null,e.memoizedState={dehydrated:o,treeContext:a,retryLane:1073741824},a=Bg(18,null,null,0),a.stateNode=o,a.return=e,e.child=a,xg=e,yg=null,!0):!1;default:return!1}}function Dg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Eg(e){if(I){var o=yg;if(o){var a=o;if(!Cg(e,o)){if(Dg(e))throw Error(p$1(418));o=Lf(a.nextSibling);var g=xg;o&&Cg(e,o)?Ag(g,a):(e.flags=e.flags&-4097|2,I=!1,xg=e)}}else{if(Dg(e))throw Error(p$1(418));e.flags=e.flags&-4097|2,I=!1,xg=e}}}function Fg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xg=e}function Gg(e){if(e!==xg)return!1;if(!I)return Fg(e),I=!0,!1;var o;if((o=e.tag!==3)&&!(o=e.tag!==5)&&(o=e.type,o=o!=="head"&&o!=="body"&&!Ef(e.type,e.memoizedProps)),o&&(o=yg)){if(Dg(e))throw Hg(),Error(p$1(418));for(;o;)Ag(e,o),o=Lf(o.nextSibling)}if(Fg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(p$1(317));e:{for(e=e.nextSibling,o=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"){if(o===0){yg=Lf(e.nextSibling);break e}o--}else a!=="$"&&a!=="$!"&&a!=="$?"||o++}e=e.nextSibling}yg=null}}else yg=xg?Lf(e.stateNode.nextSibling):null;return!0}function Hg(){for(var e=yg;e;)e=Lf(e.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(e){zg===null?zg=[e]:zg.push(e)}var Kg=ua.ReactCurrentBatchConfig;function Lg(e,o){if(e&&e.defaultProps){o=A({},o),e=e.defaultProps;for(var a in e)o[a]===void 0&&(o[a]=e[a]);return o}return o}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(e){var o=Mg.current;E(Mg),e._currentValue=o}function Sg(e,o,a){for(;e!==null;){var g=e.alternate;if((e.childLanes&o)!==o?(e.childLanes|=o,g!==null&&(g.childLanes|=o)):g!==null&&(g.childLanes&o)!==o&&(g.childLanes|=o),e===a)break;e=e.return}}function Tg(e,o){Ng=e,Pg=Og=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&o&&(Ug=!0),e.firstContext=null)}function Vg(e){var o=e._currentValue;if(Pg!==e)if(e={context:e,memoizedValue:o,next:null},Og===null){if(Ng===null)throw Error(p$1(308));Og=e,Ng.dependencies={lanes:0,firstContext:e}}else Og=Og.next=e;return o}var Wg=null;function Xg(e){Wg===null?Wg=[e]:Wg.push(e)}function Yg(e,o,a,g){var _=o.interleaved;return _===null?(a.next=a,Xg(o)):(a.next=_.next,_.next=a),o.interleaved=a,Zg(e,g)}function Zg(e,o){e.lanes|=o;var a=e.alternate;for(a!==null&&(a.lanes|=o),a=e,e=e.return;e!==null;)e.childLanes|=o,a=e.alternate,a!==null&&(a.childLanes|=o),a=e,e=e.return;return a.tag===3?a.stateNode:null}var $g=!1;function ah(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(e,o){e=e.updateQueue,o.updateQueue===e&&(o.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ch(e,o){return{eventTime:e,lane:o,tag:0,payload:null,callback:null,next:null}}function dh(e,o,a){var g=e.updateQueue;if(g===null)return null;if(g=g.shared,K&2){var _=g.pending;return _===null?o.next=o:(o.next=_.next,_.next=o),g.pending=o,Zg(e,a)}return _=g.interleaved,_===null?(o.next=o,Xg(g)):(o.next=_.next,_.next=o),g.interleaved=o,Zg(e,a)}function eh(e,o,a){if(o=o.updateQueue,o!==null&&(o=o.shared,(a&4194240)!==0)){var g=o.lanes;g&=e.pendingLanes,a|=g,o.lanes=a,Cc(e,a)}}function fh(e,o){var a=e.updateQueue,g=e.alternate;if(g!==null&&(g=g.updateQueue,a===g)){var _=null,j=null;if(a=a.firstBaseUpdate,a!==null){do{var $={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};j===null?_=j=$:j=j.next=$,a=a.next}while(a!==null);j===null?_=j=o:j=j.next=o}else _=j=o;a={baseState:g.baseState,firstBaseUpdate:_,lastBaseUpdate:j,shared:g.shared,effects:g.effects},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=o:e.next=o,a.lastBaseUpdate=o}function gh(e,o,a,g){var _=e.updateQueue;$g=!1;var j=_.firstBaseUpdate,$=_.lastBaseUpdate,ft=_.shared.pending;if(ft!==null){_.shared.pending=null;var et=ft,lt=et.next;et.next=null,$===null?j=lt:$.next=lt,$=et;var at=e.alternate;at!==null&&(at=at.updateQueue,ft=at.lastBaseUpdate,ft!==$&&(ft===null?at.firstBaseUpdate=lt:ft.next=lt,at.lastBaseUpdate=et))}if(j!==null){var At=_.baseState;$=0,at=lt=et=null,ft=j;do{var St=ft.lane,Et=ft.eventTime;if((g&St)===St){at!==null&&(at=at.next={eventTime:Et,lane:0,tag:ft.tag,payload:ft.payload,callback:ft.callback,next:null});e:{var yt=e,_t=ft;switch(St=o,Et=a,_t.tag){case 1:if(yt=_t.payload,typeof yt=="function"){At=yt.call(Et,At,St);break e}At=yt;break e;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=_t.payload,St=typeof yt=="function"?yt.call(Et,At,St):yt,St==null)break e;At=A({},At,St);break e;case 2:$g=!0}}ft.callback!==null&&ft.lane!==0&&(e.flags|=64,St=_.effects,St===null?_.effects=[ft]:St.push(ft))}else Et={eventTime:Et,lane:St,tag:ft.tag,payload:ft.payload,callback:ft.callback,next:null},at===null?(lt=at=Et,et=At):at=at.next=Et,$|=St;if(ft=ft.next,ft===null){if(ft=_.shared.pending,ft===null)break;St=ft,ft=St.next,St.next=null,_.lastBaseUpdate=St,_.shared.pending=null}}while(1);if(at===null&&(et=At),_.baseState=et,_.firstBaseUpdate=lt,_.lastBaseUpdate=at,o=_.shared.interleaved,o!==null){_=o;do $|=_.lane,_=_.next;while(_!==o)}else j===null&&(_.shared.lanes=0);hh|=$,e.lanes=$,e.memoizedState=At}}function ih(e,o,a){if(e=o.effects,o.effects=null,e!==null)for(o=0;o<e.length;o++){var g=e[o],_=g.callback;if(_!==null){if(g.callback=null,g=a,typeof _!="function")throw Error(p$1(191,_));_.call(g)}}}var jh=new aa.Component().refs;function kh(e,o,a,g){o=e.memoizedState,a=a(g,o),a=a==null?o:A({},o,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var nh={isMounted:function(e){return(e=e._reactInternals)?Vb(e)===e:!1},enqueueSetState:function(e,o,a){e=e._reactInternals;var g=L(),_=lh(e),j=ch(g,_);j.payload=o,a!=null&&(j.callback=a),o=dh(e,j,_),o!==null&&(mh(o,e,_,g),eh(o,e,_))},enqueueReplaceState:function(e,o,a){e=e._reactInternals;var g=L(),_=lh(e),j=ch(g,_);j.tag=1,j.payload=o,a!=null&&(j.callback=a),o=dh(e,j,_),o!==null&&(mh(o,e,_,g),eh(o,e,_))},enqueueForceUpdate:function(e,o){e=e._reactInternals;var a=L(),g=lh(e),_=ch(a,g);_.tag=2,o!=null&&(_.callback=o),o=dh(e,_,g),o!==null&&(mh(o,e,g,a),eh(o,e,g))}};function oh(e,o,a,g,_,j,$){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(g,j,$):o.prototype&&o.prototype.isPureReactComponent?!Ie(a,g)||!Ie(_,j):!0}function ph(e,o,a){var g=!1,_=Vf,j=o.contextType;return typeof j=="object"&&j!==null?j=Vg(j):(_=Zf(o)?Xf:H.current,g=o.contextTypes,j=(g=g!=null)?Yf(e,_):Vf),o=new o(a,j),e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=nh,e.stateNode=o,o._reactInternals=e,g&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=_,e.__reactInternalMemoizedMaskedChildContext=j),o}function qh(e,o,a,g){e=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(a,g),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(a,g),o.state!==e&&nh.enqueueReplaceState(o,o.state,null)}function rh(e,o,a,g){var _=e.stateNode;_.props=a,_.state=e.memoizedState,_.refs=jh,ah(e);var j=o.contextType;typeof j=="object"&&j!==null?_.context=Vg(j):(j=Zf(o)?Xf:H.current,_.context=Yf(e,j)),_.state=e.memoizedState,j=o.getDerivedStateFromProps,typeof j=="function"&&(kh(e,o,j,a),_.state=e.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(o=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),o!==_.state&&nh.enqueueReplaceState(_,_.state,null),gh(e,a,_,g),_.state=e.memoizedState),typeof _.componentDidMount=="function"&&(e.flags|=4194308)}function sh(e,o,a){if(e=a.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(p$1(309));var g=a.stateNode}if(!g)throw Error(p$1(147,e));var _=g,j=""+e;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===j?o.ref:(o=function($){var ft=_.refs;ft===jh&&(ft=_.refs={}),$===null?delete ft[j]:ft[j]=$},o._stringRef=j,o)}if(typeof e!="string")throw Error(p$1(284));if(!a._owner)throw Error(p$1(290,e))}return e}function th(e,o){throw e=Object.prototype.toString.call(o),Error(p$1(31,e==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":e))}function uh(e){var o=e._init;return o(e._payload)}function vh(e){function o(ot,it){if(e){var ct=ot.deletions;ct===null?(ot.deletions=[it],ot.flags|=16):ct.push(it)}}function a(ot,it){if(!e)return null;for(;it!==null;)o(ot,it),it=it.sibling;return null}function g(ot,it){for(ot=new Map;it!==null;)it.key!==null?ot.set(it.key,it):ot.set(it.index,it),it=it.sibling;return ot}function _(ot,it){return ot=wh(ot,it),ot.index=0,ot.sibling=null,ot}function j(ot,it,ct){return ot.index=ct,e?(ct=ot.alternate,ct!==null?(ct=ct.index,ct<it?(ot.flags|=2,it):ct):(ot.flags|=2,it)):(ot.flags|=1048576,it)}function $(ot){return e&&ot.alternate===null&&(ot.flags|=2),ot}function ft(ot,it,ct,pt){return it===null||it.tag!==6?(it=xh(ct,ot.mode,pt),it.return=ot,it):(it=_(it,ct),it.return=ot,it)}function et(ot,it,ct,pt){var rt=ct.type;return rt===ya?at(ot,it,ct.props.children,pt,ct.key):it!==null&&(it.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===Ha&&uh(rt)===it.type)?(pt=_(it,ct.props),pt.ref=sh(ot,it,ct),pt.return=ot,pt):(pt=yh(ct.type,ct.key,ct.props,null,ot.mode,pt),pt.ref=sh(ot,it,ct),pt.return=ot,pt)}function lt(ot,it,ct,pt){return it===null||it.tag!==4||it.stateNode.containerInfo!==ct.containerInfo||it.stateNode.implementation!==ct.implementation?(it=zh(ct,ot.mode,pt),it.return=ot,it):(it=_(it,ct.children||[]),it.return=ot,it)}function at(ot,it,ct,pt,rt){return it===null||it.tag!==7?(it=Ah(ct,ot.mode,pt,rt),it.return=ot,it):(it=_(it,ct),it.return=ot,it)}function At(ot,it,ct){if(typeof it=="string"&&it!==""||typeof it=="number")return it=xh(""+it,ot.mode,ct),it.return=ot,it;if(typeof it=="object"&&it!==null){switch(it.$$typeof){case va:return ct=yh(it.type,it.key,it.props,null,ot.mode,ct),ct.ref=sh(ot,null,it),ct.return=ot,ct;case wa:return it=zh(it,ot.mode,ct),it.return=ot,it;case Ha:var pt=it._init;return At(ot,pt(it._payload),ct)}if(eb(it)||Ka(it))return it=Ah(it,ot.mode,ct,null),it.return=ot,it;th(ot,it)}return null}function St(ot,it,ct,pt){var rt=it!==null?it.key:null;if(typeof ct=="string"&&ct!==""||typeof ct=="number")return rt!==null?null:ft(ot,it,""+ct,pt);if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case va:return ct.key===rt?et(ot,it,ct,pt):null;case wa:return ct.key===rt?lt(ot,it,ct,pt):null;case Ha:return rt=ct._init,St(ot,it,rt(ct._payload),pt)}if(eb(ct)||Ka(ct))return rt!==null?null:at(ot,it,ct,pt,null);th(ot,ct)}return null}function Et(ot,it,ct,pt,rt){if(typeof pt=="string"&&pt!==""||typeof pt=="number")return ot=ot.get(ct)||null,ft(it,ot,""+pt,rt);if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case va:return ot=ot.get(pt.key===null?ct:pt.key)||null,et(it,ot,pt,rt);case wa:return ot=ot.get(pt.key===null?ct:pt.key)||null,lt(it,ot,pt,rt);case Ha:var dt=pt._init;return Et(ot,it,ct,dt(pt._payload),rt)}if(eb(pt)||Ka(pt))return ot=ot.get(ct)||null,at(it,ot,pt,rt,null);th(it,pt)}return null}function yt(ot,it,ct,pt){for(var rt=null,dt=null,xt=it,vt=it=0,ht=null;xt!==null&&vt<ct.length;vt++){xt.index>vt?(ht=xt,xt=null):ht=xt.sibling;var kt=St(ot,xt,ct[vt],pt);if(kt===null){xt===null&&(xt=ht);break}e&&xt&&kt.alternate===null&&o(ot,xt),it=j(kt,it,vt),dt===null?rt=kt:dt.sibling=kt,dt=kt,xt=ht}if(vt===ct.length)return a(ot,xt),I&&tg(ot,vt),rt;if(xt===null){for(;vt<ct.length;vt++)xt=At(ot,ct[vt],pt),xt!==null&&(it=j(xt,it,vt),dt===null?rt=xt:dt.sibling=xt,dt=xt);return I&&tg(ot,vt),rt}for(xt=g(ot,xt);vt<ct.length;vt++)ht=Et(xt,ot,vt,ct[vt],pt),ht!==null&&(e&&ht.alternate!==null&&xt.delete(ht.key===null?vt:ht.key),it=j(ht,it,vt),dt===null?rt=ht:dt.sibling=ht,dt=ht);return e&&xt.forEach(function(wt){return o(ot,wt)}),I&&tg(ot,vt),rt}function _t(ot,it,ct,pt){var rt=Ka(ct);if(typeof rt!="function")throw Error(p$1(150));if(ct=rt.call(ct),ct==null)throw Error(p$1(151));for(var dt=rt=null,xt=it,vt=it=0,ht=null,kt=ct.next();xt!==null&&!kt.done;vt++,kt=ct.next()){xt.index>vt?(ht=xt,xt=null):ht=xt.sibling;var wt=St(ot,xt,kt.value,pt);if(wt===null){xt===null&&(xt=ht);break}e&&xt&&wt.alternate===null&&o(ot,xt),it=j(wt,it,vt),dt===null?rt=wt:dt.sibling=wt,dt=wt,xt=ht}if(kt.done)return a(ot,xt),I&&tg(ot,vt),rt;if(xt===null){for(;!kt.done;vt++,kt=ct.next())kt=At(ot,kt.value,pt),kt!==null&&(it=j(kt,it,vt),dt===null?rt=kt:dt.sibling=kt,dt=kt);return I&&tg(ot,vt),rt}for(xt=g(ot,xt);!kt.done;vt++,kt=ct.next())kt=Et(xt,ot,vt,kt.value,pt),kt!==null&&(e&&kt.alternate!==null&&xt.delete(kt.key===null?vt:kt.key),it=j(kt,it,vt),dt===null?rt=kt:dt.sibling=kt,dt=kt);return e&&xt.forEach(function(Nt){return o(ot,Nt)}),I&&tg(ot,vt),rt}function mt(ot,it,ct,pt){if(typeof ct=="object"&&ct!==null&&ct.type===ya&&ct.key===null&&(ct=ct.props.children),typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case va:e:{for(var rt=ct.key,dt=it;dt!==null;){if(dt.key===rt){if(rt=ct.type,rt===ya){if(dt.tag===7){a(ot,dt.sibling),it=_(dt,ct.props.children),it.return=ot,ot=it;break e}}else if(dt.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===Ha&&uh(rt)===dt.type){a(ot,dt.sibling),it=_(dt,ct.props),it.ref=sh(ot,dt,ct),it.return=ot,ot=it;break e}a(ot,dt);break}else o(ot,dt);dt=dt.sibling}ct.type===ya?(it=Ah(ct.props.children,ot.mode,pt,ct.key),it.return=ot,ot=it):(pt=yh(ct.type,ct.key,ct.props,null,ot.mode,pt),pt.ref=sh(ot,it,ct),pt.return=ot,ot=pt)}return $(ot);case wa:e:{for(dt=ct.key;it!==null;){if(it.key===dt)if(it.tag===4&&it.stateNode.containerInfo===ct.containerInfo&&it.stateNode.implementation===ct.implementation){a(ot,it.sibling),it=_(it,ct.children||[]),it.return=ot,ot=it;break e}else{a(ot,it);break}else o(ot,it);it=it.sibling}it=zh(ct,ot.mode,pt),it.return=ot,ot=it}return $(ot);case Ha:return dt=ct._init,mt(ot,it,dt(ct._payload),pt)}if(eb(ct))return yt(ot,it,ct,pt);if(Ka(ct))return _t(ot,it,ct,pt);th(ot,ct)}return typeof ct=="string"&&ct!==""||typeof ct=="number"?(ct=""+ct,it!==null&&it.tag===6?(a(ot,it.sibling),it=_(it,ct),it.return=ot,ot=it):(a(ot,it),it=xh(ct,ot.mode,pt),it.return=ot,ot=it),$(ot)):a(ot,it)}return mt}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(e){if(e===Dh)throw Error(p$1(174));return e}function Ih(e,o){switch(G(Gh,o),G(Fh,e),G(Eh,Dh),e=o.nodeType,e){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:lb(null,"");break;default:e=e===8?o.parentNode:o,o=e.namespaceURI||null,e=e.tagName,o=lb(o,e)}E(Eh),G(Eh,o)}function Jh(){E(Eh),E(Fh),E(Gh)}function Kh(e){Hh(Gh.current);var o=Hh(Eh.current),a=lb(o,e.type);o!==a&&(G(Fh,e),G(Eh,a))}function Lh(e){Fh.current===e&&(E(Eh),E(Fh))}var M=Uf(0);function Mh(e){for(var o=e;o!==null;){if(o.tag===13){var a=o.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===e)break;for(;o.sibling===null;){if(o.return===null||o.return===e)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Nh=[];function Oh(){for(var e=0;e<Nh.length;e++)Nh[e]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N=null,O=null,P=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q(){throw Error(p$1(321))}function Wh(e,o){if(o===null)return!1;for(var a=0;a<o.length&&a<e.length;a++)if(!He(e[a],o[a]))return!1;return!0}function Xh(e,o,a,g,_,j){if(Rh=j,N=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Ph.current=e===null||e.memoizedState===null?Yh:Zh,e=a(g,_),Th){j=0;do{if(Th=!1,Uh=0,25<=j)throw Error(p$1(301));j+=1,P=O=null,o.updateQueue=null,Ph.current=$h,e=a(g,_)}while(Th)}if(Ph.current=ai,o=O!==null&&O.next!==null,Rh=0,P=O=N=null,Sh=!1,o)throw Error(p$1(300));return e}function bi(){var e=Uh!==0;return Uh=0,e}function ci(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P===null?N.memoizedState=P=e:P=P.next=e,P}function di(){if(O===null){var e=N.alternate;e=e!==null?e.memoizedState:null}else e=O.next;var o=P===null?N.memoizedState:P.next;if(o!==null)P=o,O=e;else{if(e===null)throw Error(p$1(310));O=e,e={memoizedState:O.memoizedState,baseState:O.baseState,baseQueue:O.baseQueue,queue:O.queue,next:null},P===null?N.memoizedState=P=e:P=P.next=e}return P}function ei(e,o){return typeof o=="function"?o(e):o}function fi(e){var o=di(),a=o.queue;if(a===null)throw Error(p$1(311));a.lastRenderedReducer=e;var g=O,_=g.baseQueue,j=a.pending;if(j!==null){if(_!==null){var $=_.next;_.next=j.next,j.next=$}g.baseQueue=_=j,a.pending=null}if(_!==null){j=_.next,g=g.baseState;var ft=$=null,et=null,lt=j;do{var at=lt.lane;if((Rh&at)===at)et!==null&&(et=et.next={lane:0,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null}),g=lt.hasEagerState?lt.eagerState:e(g,lt.action);else{var At={lane:at,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null};et===null?(ft=et=At,$=g):et=et.next=At,N.lanes|=at,hh|=at}lt=lt.next}while(lt!==null&&lt!==j);et===null?$=g:et.next=ft,He(g,o.memoizedState)||(Ug=!0),o.memoizedState=g,o.baseState=$,o.baseQueue=et,a.lastRenderedState=g}if(e=a.interleaved,e!==null){_=e;do j=_.lane,N.lanes|=j,hh|=j,_=_.next;while(_!==e)}else _===null&&(a.lanes=0);return[o.memoizedState,a.dispatch]}function gi(e){var o=di(),a=o.queue;if(a===null)throw Error(p$1(311));a.lastRenderedReducer=e;var g=a.dispatch,_=a.pending,j=o.memoizedState;if(_!==null){a.pending=null;var $=_=_.next;do j=e(j,$.action),$=$.next;while($!==_);He(j,o.memoizedState)||(Ug=!0),o.memoizedState=j,o.baseQueue===null&&(o.baseState=j),a.lastRenderedState=j}return[j,g]}function hi(){}function ii(e,o){var a=N,g=di(),_=o(),j=!He(g.memoizedState,_);if(j&&(g.memoizedState=_,Ug=!0),g=g.queue,ji(ki.bind(null,a,g,e),[e]),g.getSnapshot!==o||j||P!==null&&P.memoizedState.tag&1){if(a.flags|=2048,li(9,mi.bind(null,a,g,_,o),void 0,null),R===null)throw Error(p$1(349));Rh&30||ni(a,o,_)}return _}function ni(e,o,a){e.flags|=16384,e={getSnapshot:o,value:a},o=N.updateQueue,o===null?(o={lastEffect:null,stores:null},N.updateQueue=o,o.stores=[e]):(a=o.stores,a===null?o.stores=[e]:a.push(e))}function mi(e,o,a,g){o.value=a,o.getSnapshot=g,oi(o)&&pi(e)}function ki(e,o,a){return a(function(){oi(o)&&pi(e)})}function oi(e){var o=e.getSnapshot;e=e.value;try{var a=o();return!He(e,a)}catch{return!0}}function pi(e){var o=Zg(e,1);o!==null&&mh(o,e,1,-1)}function qi(e){var o=ci();return typeof e=="function"&&(e=e()),o.memoizedState=o.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:e},o.queue=e,e=e.dispatch=ri.bind(null,N,e),[o.memoizedState,e]}function li(e,o,a,g){return e={tag:e,create:o,destroy:a,deps:g,next:null},o=N.updateQueue,o===null?(o={lastEffect:null,stores:null},N.updateQueue=o,o.lastEffect=e.next=e):(a=o.lastEffect,a===null?o.lastEffect=e.next=e:(g=a.next,a.next=e,e.next=g,o.lastEffect=e)),e}function si(){return di().memoizedState}function ti(e,o,a,g){var _=ci();N.flags|=e,_.memoizedState=li(1|o,a,void 0,g===void 0?null:g)}function ui(e,o,a,g){var _=di();g=g===void 0?null:g;var j=void 0;if(O!==null){var $=O.memoizedState;if(j=$.destroy,g!==null&&Wh(g,$.deps)){_.memoizedState=li(o,a,j,g);return}}N.flags|=e,_.memoizedState=li(1|o,a,j,g)}function vi(e,o){return ti(8390656,8,e,o)}function ji(e,o){return ui(2048,8,e,o)}function wi(e,o){return ui(4,2,e,o)}function xi(e,o){return ui(4,4,e,o)}function yi(e,o){if(typeof o=="function")return e=e(),o(e),function(){o(null)};if(o!=null)return e=e(),o.current=e,function(){o.current=null}}function zi(e,o,a){return a=a!=null?a.concat([e]):null,ui(4,4,yi.bind(null,o,e),a)}function Ai(){}function Bi(e,o){var a=di();o=o===void 0?null:o;var g=a.memoizedState;return g!==null&&o!==null&&Wh(o,g[1])?g[0]:(a.memoizedState=[e,o],e)}function Ci(e,o){var a=di();o=o===void 0?null:o;var g=a.memoizedState;return g!==null&&o!==null&&Wh(o,g[1])?g[0]:(e=e(),a.memoizedState=[e,o],e)}function Di(e,o,a){return Rh&21?(He(a,o)||(a=yc(),N.lanes|=a,hh|=a,e.baseState=!0),o):(e.baseState&&(e.baseState=!1,Ug=!0),e.memoizedState=a)}function Ei(e,o){var a=C;C=a!==0&&4>a?a:4,e(!0);var g=Qh.transition;Qh.transition={};try{e(!1),o()}finally{C=a,Qh.transition=g}}function Fi(){return di().memoizedState}function Gi(e,o,a){var g=lh(e);if(a={lane:g,action:a,hasEagerState:!1,eagerState:null,next:null},Hi(e))Ii(o,a);else if(a=Yg(e,o,a,g),a!==null){var _=L();mh(a,e,g,_),Ji(a,o,g)}}function ri(e,o,a){var g=lh(e),_={lane:g,action:a,hasEagerState:!1,eagerState:null,next:null};if(Hi(e))Ii(o,_);else{var j=e.alternate;if(e.lanes===0&&(j===null||j.lanes===0)&&(j=o.lastRenderedReducer,j!==null))try{var $=o.lastRenderedState,ft=j($,a);if(_.hasEagerState=!0,_.eagerState=ft,He(ft,$)){var et=o.interleaved;et===null?(_.next=_,Xg(o)):(_.next=et.next,et.next=_),o.interleaved=_;return}}catch{}finally{}a=Yg(e,o,_,g),a!==null&&(_=L(),mh(a,e,g,_),Ji(a,o,g))}}function Hi(e){var o=e.alternate;return e===N||o!==null&&o===N}function Ii(e,o){Th=Sh=!0;var a=e.pending;a===null?o.next=o:(o.next=a.next,a.next=o),e.pending=o}function Ji(e,o,a){if(a&4194240){var g=o.lanes;g&=e.pendingLanes,a|=g,o.lanes=a,Cc(e,a)}}var ai={readContext:Vg,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useInsertionEffect:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useDeferredValue:Q,useTransition:Q,useMutableSource:Q,useSyncExternalStore:Q,useId:Q,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(e,o){return ci().memoizedState=[e,o===void 0?null:o],e},useContext:Vg,useEffect:vi,useImperativeHandle:function(e,o,a){return a=a!=null?a.concat([e]):null,ti(4194308,4,yi.bind(null,o,e),a)},useLayoutEffect:function(e,o){return ti(4194308,4,e,o)},useInsertionEffect:function(e,o){return ti(4,2,e,o)},useMemo:function(e,o){var a=ci();return o=o===void 0?null:o,e=e(),a.memoizedState=[e,o],e},useReducer:function(e,o,a){var g=ci();return o=a!==void 0?a(o):o,g.memoizedState=g.baseState=o,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},g.queue=e,e=e.dispatch=Gi.bind(null,N,e),[g.memoizedState,e]},useRef:function(e){var o=ci();return e={current:e},o.memoizedState=e},useState:qi,useDebugValue:Ai,useDeferredValue:function(e){return ci().memoizedState=e},useTransition:function(){var e=qi(!1),o=e[0];return e=Ei.bind(null,e[1]),ci().memoizedState=e,[o,e]},useMutableSource:function(){},useSyncExternalStore:function(e,o,a){var g=N,_=ci();if(I){if(a===void 0)throw Error(p$1(407));a=a()}else{if(a=o(),R===null)throw Error(p$1(349));Rh&30||ni(g,o,a)}_.memoizedState=a;var j={value:a,getSnapshot:o};return _.queue=j,vi(ki.bind(null,g,j,e),[e]),g.flags|=2048,li(9,mi.bind(null,g,j,a,o),void 0,null),a},useId:function(){var e=ci(),o=R.identifierPrefix;if(I){var a=sg,g=rg;a=(g&~(1<<32-oc(g)-1)).toString(32)+a,o=":"+o+"R"+a,a=Uh++,0<a&&(o+="H"+a.toString(32)),o+=":"}else a=Vh++,o=":"+o+"r"+a.toString(32)+":";return e.memoizedState=o},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(e){var o=di();return Di(o,O.memoizedState,e)},useTransition:function(){var e=fi(ei)[0],o=di().memoizedState;return[e,o]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(e){var o=di();return O===null?o.memoizedState=e:Di(o,O.memoizedState,e)},useTransition:function(){var e=gi(ei)[0],o=di().memoizedState;return[e,o]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(e,o){try{var a="",g=o;do a+=Pa(g),g=g.return;while(g);var _=a}catch(j){_=`
Error generating stack: `+j.message+`
`+j.stack}return{value:e,source:o,stack:_,digest:null}}function Li(e,o,a){return{value:e,source:null,stack:a??null,digest:o??null}}function Mi(e,o){try{console.error(o.value)}catch(a){setTimeout(function(){throw a})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(e,o,a){a=ch(-1,a),a.tag=3,a.payload={element:null};var g=o.value;return a.callback=function(){Pi||(Pi=!0,Qi=g),Mi(e,o)},a}function Ri(e,o,a){a=ch(-1,a),a.tag=3;var g=e.type.getDerivedStateFromError;if(typeof g=="function"){var _=o.value;a.payload=function(){return g(_)},a.callback=function(){Mi(e,o)}}var j=e.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(a.callback=function(){Mi(e,o),typeof g!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var $=o.stack;this.componentDidCatch(o.value,{componentStack:$!==null?$:""})}),a}function Ti(e,o,a){var g=e.pingCache;if(g===null){g=e.pingCache=new Ni;var _=new Set;g.set(o,_)}else _=g.get(o),_===void 0&&(_=new Set,g.set(o,_));_.has(a)||(_.add(a),e=Ui.bind(null,e,o,a),o.then(e,e))}function Vi(e){do{var o;if((o=e.tag===13)&&(o=e.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return e;e=e.return}while(e!==null);return null}function Wi(e,o,a,g,_){return e.mode&1?(e.flags|=65536,e.lanes=_,e):(e===o?e.flags|=65536:(e.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(o=ch(-1,1),o.tag=2,dh(a,o,1))),a.lanes|=1),e)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(e,o,a,g){o.child=e===null?Ch(o,null,a,g):Bh(o,e.child,a,g)}function Zi(e,o,a,g,_){a=a.render;var j=o.ref;return Tg(o,_),g=Xh(e,o,a,g,j,_),a=bi(),e!==null&&!Ug?(o.updateQueue=e.updateQueue,o.flags&=-2053,e.lanes&=~_,$i(e,o,_)):(I&&a&&vg(o),o.flags|=1,Yi(e,o,g,_),o.child)}function aj(e,o,a,g,_){if(e===null){var j=a.type;return typeof j=="function"&&!bj(j)&&j.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(o.tag=15,o.type=j,cj(e,o,j,g,_)):(e=yh(a.type,null,g,o,o.mode,_),e.ref=o.ref,e.return=o,o.child=e)}if(j=e.child,!(e.lanes&_)){var $=j.memoizedProps;if(a=a.compare,a=a!==null?a:Ie,a($,g)&&e.ref===o.ref)return $i(e,o,_)}return o.flags|=1,e=wh(j,g),e.ref=o.ref,e.return=o,o.child=e}function cj(e,o,a,g,_){if(e!==null){var j=e.memoizedProps;if(Ie(j,g)&&e.ref===o.ref)if(Ug=!1,o.pendingProps=g=j,(e.lanes&_)!==0)e.flags&131072&&(Ug=!0);else return o.lanes=e.lanes,$i(e,o,_)}return dj(e,o,a,g,_)}function ej(e,o,a){var g=o.pendingProps,_=g.children,j=e!==null?e.memoizedState:null;if(g.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(fj,gj),gj|=a;else{if(!(a&1073741824))return e=j!==null?j.baseLanes|a:a,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:e,cachePool:null,transitions:null},o.updateQueue=null,G(fj,gj),gj|=e,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=j!==null?j.baseLanes:a,G(fj,gj),gj|=g}else j!==null?(g=j.baseLanes|a,o.memoizedState=null):g=a,G(fj,gj),gj|=g;return Yi(e,o,_,a),o.child}function hj(e,o){var a=o.ref;(e===null&&a!==null||e!==null&&e.ref!==a)&&(o.flags|=512,o.flags|=2097152)}function dj(e,o,a,g,_){var j=Zf(a)?Xf:H.current;return j=Yf(o,j),Tg(o,_),a=Xh(e,o,a,g,j,_),g=bi(),e!==null&&!Ug?(o.updateQueue=e.updateQueue,o.flags&=-2053,e.lanes&=~_,$i(e,o,_)):(I&&g&&vg(o),o.flags|=1,Yi(e,o,a,_),o.child)}function ij(e,o,a,g,_){if(Zf(a)){var j=!0;cg(o)}else j=!1;if(Tg(o,_),o.stateNode===null)jj(e,o),ph(o,a,g),rh(o,a,g,_),g=!0;else if(e===null){var $=o.stateNode,ft=o.memoizedProps;$.props=ft;var et=$.context,lt=a.contextType;typeof lt=="object"&&lt!==null?lt=Vg(lt):(lt=Zf(a)?Xf:H.current,lt=Yf(o,lt));var at=a.getDerivedStateFromProps,At=typeof at=="function"||typeof $.getSnapshotBeforeUpdate=="function";At||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(ft!==g||et!==lt)&&qh(o,$,g,lt),$g=!1;var St=o.memoizedState;$.state=St,gh(o,g,$,_),et=o.memoizedState,ft!==g||St!==et||Wf.current||$g?(typeof at=="function"&&(kh(o,a,at,g),et=o.memoizedState),(ft=$g||oh(o,a,ft,g,St,et,lt))?(At||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(o.flags|=4194308)):(typeof $.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=g,o.memoizedState=et),$.props=g,$.state=et,$.context=lt,g=ft):(typeof $.componentDidMount=="function"&&(o.flags|=4194308),g=!1)}else{$=o.stateNode,bh(e,o),ft=o.memoizedProps,lt=o.type===o.elementType?ft:Lg(o.type,ft),$.props=lt,At=o.pendingProps,St=$.context,et=a.contextType,typeof et=="object"&&et!==null?et=Vg(et):(et=Zf(a)?Xf:H.current,et=Yf(o,et));var Et=a.getDerivedStateFromProps;(at=typeof Et=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(ft!==At||St!==et)&&qh(o,$,g,et),$g=!1,St=o.memoizedState,$.state=St,gh(o,g,$,_);var yt=o.memoizedState;ft!==At||St!==yt||Wf.current||$g?(typeof Et=="function"&&(kh(o,a,Et,g),yt=o.memoizedState),(lt=$g||oh(o,a,lt,g,St,yt,et)||!1)?(at||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(g,yt,et),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(g,yt,et)),typeof $.componentDidUpdate=="function"&&(o.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof $.componentDidUpdate!="function"||ft===e.memoizedProps&&St===e.memoizedState||(o.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||ft===e.memoizedProps&&St===e.memoizedState||(o.flags|=1024),o.memoizedProps=g,o.memoizedState=yt),$.props=g,$.state=yt,$.context=et,g=lt):(typeof $.componentDidUpdate!="function"||ft===e.memoizedProps&&St===e.memoizedState||(o.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||ft===e.memoizedProps&&St===e.memoizedState||(o.flags|=1024),g=!1)}return kj(e,o,a,g,j,_)}function kj(e,o,a,g,_,j){hj(e,o);var $=(o.flags&128)!==0;if(!g&&!$)return _&&dg(o,a,!1),$i(e,o,j);g=o.stateNode,Xi.current=o;var ft=$&&typeof a.getDerivedStateFromError!="function"?null:g.render();return o.flags|=1,e!==null&&$?(o.child=Bh(o,e.child,null,j),o.child=Bh(o,null,ft,j)):Yi(e,o,ft,j),o.memoizedState=g.state,_&&dg(o,a,!0),o.child}function lj(e){var o=e.stateNode;o.pendingContext?ag(e,o.pendingContext,o.pendingContext!==o.context):o.context&&ag(e,o.context,!1),Ih(e,o.containerInfo)}function mj(e,o,a,g,_){return Ig(),Jg(_),o.flags|=256,Yi(e,o,a,g),o.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(e){return{baseLanes:e,cachePool:null,transitions:null}}function pj(e,o,a){var g=o.pendingProps,_=M.current,j=!1,$=(o.flags&128)!==0,ft;if((ft=$)||(ft=e!==null&&e.memoizedState===null?!1:(_&2)!==0),ft?(j=!0,o.flags&=-129):(e===null||e.memoizedState!==null)&&(_|=1),G(M,_&1),e===null)return Eg(o),e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(o.mode&1?e.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):($=g.children,e=g.fallback,j?(g=o.mode,j=o.child,$={mode:"hidden",children:$},!(g&1)&&j!==null?(j.childLanes=0,j.pendingProps=$):j=qj($,g,0,null),e=Ah(e,g,a,null),j.return=o,e.return=o,j.sibling=e,o.child=j,o.child.memoizedState=oj(a),o.memoizedState=nj,e):rj(o,$));if(_=e.memoizedState,_!==null&&(ft=_.dehydrated,ft!==null))return sj(e,o,$,g,ft,_,a);if(j){j=g.fallback,$=o.mode,_=e.child,ft=_.sibling;var et={mode:"hidden",children:g.children};return!($&1)&&o.child!==_?(g=o.child,g.childLanes=0,g.pendingProps=et,o.deletions=null):(g=wh(_,et),g.subtreeFlags=_.subtreeFlags&14680064),ft!==null?j=wh(ft,j):(j=Ah(j,$,a,null),j.flags|=2),j.return=o,g.return=o,g.sibling=j,o.child=g,g=j,j=o.child,$=e.child.memoizedState,$=$===null?oj(a):{baseLanes:$.baseLanes|a,cachePool:null,transitions:$.transitions},j.memoizedState=$,j.childLanes=e.childLanes&~a,o.memoizedState=nj,g}return j=e.child,e=j.sibling,g=wh(j,{mode:"visible",children:g.children}),!(o.mode&1)&&(g.lanes=a),g.return=o,g.sibling=null,e!==null&&(a=o.deletions,a===null?(o.deletions=[e],o.flags|=16):a.push(e)),o.child=g,o.memoizedState=null,g}function rj(e,o){return o=qj({mode:"visible",children:o},e.mode,0,null),o.return=e,e.child=o}function tj(e,o,a,g){return g!==null&&Jg(g),Bh(o,e.child,null,a),e=rj(o,o.pendingProps.children),e.flags|=2,o.memoizedState=null,e}function sj(e,o,a,g,_,j,$){if(a)return o.flags&256?(o.flags&=-257,g=Li(Error(p$1(422))),tj(e,o,$,g)):o.memoizedState!==null?(o.child=e.child,o.flags|=128,null):(j=g.fallback,_=o.mode,g=qj({mode:"visible",children:g.children},_,0,null),j=Ah(j,_,$,null),j.flags|=2,g.return=o,j.return=o,g.sibling=j,o.child=g,o.mode&1&&Bh(o,e.child,null,$),o.child.memoizedState=oj($),o.memoizedState=nj,j);if(!(o.mode&1))return tj(e,o,$,null);if(_.data==="$!"){if(g=_.nextSibling&&_.nextSibling.dataset,g)var ft=g.dgst;return g=ft,j=Error(p$1(419)),g=Li(j,g,void 0),tj(e,o,$,g)}if(ft=($&e.childLanes)!==0,Ug||ft){if(g=R,g!==null){switch($&-$){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=_&(g.suspendedLanes|$)?0:_,_!==0&&_!==j.retryLane&&(j.retryLane=_,Zg(e,_),mh(g,e,_,-1))}return uj(),g=Li(Error(p$1(421))),tj(e,o,$,g)}return _.data==="$?"?(o.flags|=128,o.child=e.child,o=vj.bind(null,e),_._reactRetry=o,null):(e=j.treeContext,yg=Lf(_.nextSibling),xg=o,I=!0,zg=null,e!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=e.id,sg=e.overflow,qg=o),o=rj(o,g.children),o.flags|=4096,o)}function wj(e,o,a){e.lanes|=o;var g=e.alternate;g!==null&&(g.lanes|=o),Sg(e.return,o,a)}function xj(e,o,a,g,_){var j=e.memoizedState;j===null?e.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:g,tail:a,tailMode:_}:(j.isBackwards=o,j.rendering=null,j.renderingStartTime=0,j.last=g,j.tail=a,j.tailMode=_)}function yj(e,o,a){var g=o.pendingProps,_=g.revealOrder,j=g.tail;if(Yi(e,o,g.children,a),g=M.current,g&2)g=g&1|2,o.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=o.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wj(e,a,o);else if(e.tag===19)wj(e,a,o);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===o)break e;for(;e.sibling===null;){if(e.return===null||e.return===o)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}g&=1}if(G(M,g),!(o.mode&1))o.memoizedState=null;else switch(_){case"forwards":for(a=o.child,_=null;a!==null;)e=a.alternate,e!==null&&Mh(e)===null&&(_=a),a=a.sibling;a=_,a===null?(_=o.child,o.child=null):(_=a.sibling,a.sibling=null),xj(o,!1,_,a,j);break;case"backwards":for(a=null,_=o.child,o.child=null;_!==null;){if(e=_.alternate,e!==null&&Mh(e)===null){o.child=_;break}e=_.sibling,_.sibling=a,a=_,_=e}xj(o,!0,a,null,j);break;case"together":xj(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function jj(e,o){!(o.mode&1)&&e!==null&&(e.alternate=null,o.alternate=null,o.flags|=2)}function $i(e,o,a){if(e!==null&&(o.dependencies=e.dependencies),hh|=o.lanes,!(a&o.childLanes))return null;if(e!==null&&o.child!==e.child)throw Error(p$1(153));if(o.child!==null){for(e=o.child,a=wh(e,e.pendingProps),o.child=a,a.return=o;e.sibling!==null;)e=e.sibling,a=a.sibling=wh(e,e.pendingProps),a.return=o;a.sibling=null}return o.child}function zj(e,o,a){switch(o.tag){case 3:lj(o),Ig();break;case 5:Kh(o);break;case 1:Zf(o.type)&&cg(o);break;case 4:Ih(o,o.stateNode.containerInfo);break;case 10:var g=o.type._context,_=o.memoizedProps.value;G(Mg,g._currentValue),g._currentValue=_;break;case 13:if(g=o.memoizedState,g!==null)return g.dehydrated!==null?(G(M,M.current&1),o.flags|=128,null):a&o.child.childLanes?pj(e,o,a):(G(M,M.current&1),e=$i(e,o,a),e!==null?e.sibling:null);G(M,M.current&1);break;case 19:if(g=(a&o.childLanes)!==0,e.flags&128){if(g)return yj(e,o,a);o.flags|=128}if(_=o.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),G(M,M.current),g)break;return null;case 22:case 23:return o.lanes=0,ej(e,o,a)}return $i(e,o,a)}var Aj,Bj,Cj,Dj;Aj=function(e,o){for(var a=o.child;a!==null;){if(a.tag===5||a.tag===6)e.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};Bj=function(){};Cj=function(e,o,a,g){var _=e.memoizedProps;if(_!==g){e=o.stateNode,Hh(Eh.current);var j=null;switch(a){case"input":_=Ya(e,_),g=Ya(e,g),j=[];break;case"select":_=A({},_,{value:void 0}),g=A({},g,{value:void 0}),j=[];break;case"textarea":_=gb(e,_),g=gb(e,g),j=[];break;default:typeof _.onClick!="function"&&typeof g.onClick=="function"&&(e.onclick=Bf)}ub(a,g);var $;a=null;for(lt in _)if(!g.hasOwnProperty(lt)&&_.hasOwnProperty(lt)&&_[lt]!=null)if(lt==="style"){var ft=_[lt];for($ in ft)ft.hasOwnProperty($)&&(a||(a={}),a[$]="")}else lt!=="dangerouslySetInnerHTML"&&lt!=="children"&&lt!=="suppressContentEditableWarning"&&lt!=="suppressHydrationWarning"&&lt!=="autoFocus"&&(ea.hasOwnProperty(lt)?j||(j=[]):(j=j||[]).push(lt,null));for(lt in g){var et=g[lt];if(ft=_!=null?_[lt]:void 0,g.hasOwnProperty(lt)&&et!==ft&&(et!=null||ft!=null))if(lt==="style")if(ft){for($ in ft)!ft.hasOwnProperty($)||et&&et.hasOwnProperty($)||(a||(a={}),a[$]="");for($ in et)et.hasOwnProperty($)&&ft[$]!==et[$]&&(a||(a={}),a[$]=et[$])}else a||(j||(j=[]),j.push(lt,a)),a=et;else lt==="dangerouslySetInnerHTML"?(et=et?et.__html:void 0,ft=ft?ft.__html:void 0,et!=null&&ft!==et&&(j=j||[]).push(lt,et)):lt==="children"?typeof et!="string"&&typeof et!="number"||(j=j||[]).push(lt,""+et):lt!=="suppressContentEditableWarning"&&lt!=="suppressHydrationWarning"&&(ea.hasOwnProperty(lt)?(et!=null&&lt==="onScroll"&&D("scroll",e),j||ft===et||(j=[])):(j=j||[]).push(lt,et))}a&&(j=j||[]).push("style",a);var lt=j;(o.updateQueue=lt)&&(o.flags|=4)}};Dj=function(e,o,a,g){a!==g&&(o.flags|=4)};function Ej(e,o){if(!I)switch(e.tailMode){case"hidden":o=e.tail;for(var a=null;o!==null;)o.alternate!==null&&(a=o),o=o.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var g=null;a!==null;)a.alternate!==null&&(g=a),a=a.sibling;g===null?o||e.tail===null?e.tail=null:e.tail.sibling=null:g.sibling=null}}function S(e){var o=e.alternate!==null&&e.alternate.child===e.child,a=0,g=0;if(o)for(var _=e.child;_!==null;)a|=_.lanes|_.childLanes,g|=_.subtreeFlags&14680064,g|=_.flags&14680064,_.return=e,_=_.sibling;else for(_=e.child;_!==null;)a|=_.lanes|_.childLanes,g|=_.subtreeFlags,g|=_.flags,_.return=e,_=_.sibling;return e.subtreeFlags|=g,e.childLanes=a,o}function Fj(e,o,a){var g=o.pendingProps;switch(wg(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(o),null;case 1:return Zf(o.type)&&$f(),S(o),null;case 3:return g=o.stateNode,Jh(),E(Wf),E(H),Oh(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(e===null||e.child===null)&&(Gg(o)?o.flags|=4:e===null||e.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(e,o),S(o),null;case 5:Lh(o);var _=Hh(Gh.current);if(a=o.type,e!==null&&o.stateNode!=null)Cj(e,o,a,g,_),e.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!g){if(o.stateNode===null)throw Error(p$1(166));return S(o),null}if(e=Hh(Eh.current),Gg(o)){g=o.stateNode,a=o.type;var j=o.memoizedProps;switch(g[Of]=o,g[Pf]=j,e=(o.mode&1)!==0,a){case"dialog":D("cancel",g),D("close",g);break;case"iframe":case"object":case"embed":D("load",g);break;case"video":case"audio":for(_=0;_<lf.length;_++)D(lf[_],g);break;case"source":D("error",g);break;case"img":case"image":case"link":D("error",g),D("load",g);break;case"details":D("toggle",g);break;case"input":Za(g,j),D("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!j.multiple},D("invalid",g);break;case"textarea":hb(g,j),D("invalid",g)}ub(a,j),_=null;for(var $ in j)if(j.hasOwnProperty($)){var ft=j[$];$==="children"?typeof ft=="string"?g.textContent!==ft&&(j.suppressHydrationWarning!==!0&&Af(g.textContent,ft,e),_=["children",ft]):typeof ft=="number"&&g.textContent!==""+ft&&(j.suppressHydrationWarning!==!0&&Af(g.textContent,ft,e),_=["children",""+ft]):ea.hasOwnProperty($)&&ft!=null&&$==="onScroll"&&D("scroll",g)}switch(a){case"input":Va(g),db(g,j,!0);break;case"textarea":Va(g),jb(g);break;case"select":case"option":break;default:typeof j.onClick=="function"&&(g.onclick=Bf)}g=_,o.updateQueue=g,g!==null&&(o.flags|=4)}else{$=_.nodeType===9?_:_.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kb(a)),e==="http://www.w3.org/1999/xhtml"?a==="script"?(e=$.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof g.is=="string"?e=$.createElement(a,{is:g.is}):(e=$.createElement(a),a==="select"&&($=e,g.multiple?$.multiple=!0:g.size&&($.size=g.size))):e=$.createElementNS(e,a),e[Of]=o,e[Pf]=g,Aj(e,o,!1,!1),o.stateNode=e;e:{switch($=vb(a,g),a){case"dialog":D("cancel",e),D("close",e),_=g;break;case"iframe":case"object":case"embed":D("load",e),_=g;break;case"video":case"audio":for(_=0;_<lf.length;_++)D(lf[_],e);_=g;break;case"source":D("error",e),_=g;break;case"img":case"image":case"link":D("error",e),D("load",e),_=g;break;case"details":D("toggle",e),_=g;break;case"input":Za(e,g),_=Ya(e,g),D("invalid",e);break;case"option":_=g;break;case"select":e._wrapperState={wasMultiple:!!g.multiple},_=A({},g,{value:void 0}),D("invalid",e);break;case"textarea":hb(e,g),_=gb(e,g),D("invalid",e);break;default:_=g}ub(a,_),ft=_;for(j in ft)if(ft.hasOwnProperty(j)){var et=ft[j];j==="style"?sb(e,et):j==="dangerouslySetInnerHTML"?(et=et?et.__html:void 0,et!=null&&nb(e,et)):j==="children"?typeof et=="string"?(a!=="textarea"||et!=="")&&ob(e,et):typeof et=="number"&&ob(e,""+et):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(ea.hasOwnProperty(j)?et!=null&&j==="onScroll"&&D("scroll",e):et!=null&&ta(e,j,et,$))}switch(a){case"input":Va(e),db(e,g,!1);break;case"textarea":Va(e),jb(e);break;case"option":g.value!=null&&e.setAttribute("value",""+Sa(g.value));break;case"select":e.multiple=!!g.multiple,j=g.value,j!=null?fb(e,!!g.multiple,j,!1):g.defaultValue!=null&&fb(e,!!g.multiple,g.defaultValue,!0);break;default:typeof _.onClick=="function"&&(e.onclick=Bf)}switch(a){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return S(o),null;case 6:if(e&&o.stateNode!=null)Dj(e,o,e.memoizedProps,g);else{if(typeof g!="string"&&o.stateNode===null)throw Error(p$1(166));if(a=Hh(Gh.current),Hh(Eh.current),Gg(o)){if(g=o.stateNode,a=o.memoizedProps,g[Of]=o,(j=g.nodeValue!==a)&&(e=xg,e!==null))switch(e.tag){case 3:Af(g.nodeValue,a,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Af(g.nodeValue,a,(e.mode&1)!==0)}j&&(o.flags|=4)}else g=(a.nodeType===9?a:a.ownerDocument).createTextNode(g),g[Of]=o,o.stateNode=g}return S(o),null;case 13:if(E(M),g=o.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(I&&yg!==null&&o.mode&1&&!(o.flags&128))Hg(),Ig(),o.flags|=98560,j=!1;else if(j=Gg(o),g!==null&&g.dehydrated!==null){if(e===null){if(!j)throw Error(p$1(318));if(j=o.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(p$1(317));j[Of]=o}else Ig(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;S(o),j=!1}else zg!==null&&(Gj(zg),zg=null),j=!0;if(!j)return o.flags&65536?o:null}return o.flags&128?(o.lanes=a,o):(g=g!==null,g!==(e!==null&&e.memoizedState!==null)&&g&&(o.child.flags|=8192,o.mode&1&&(e===null||M.current&1?T===0&&(T=3):uj())),o.updateQueue!==null&&(o.flags|=4),S(o),null);case 4:return Jh(),Bj(e,o),e===null&&sf(o.stateNode.containerInfo),S(o),null;case 10:return Rg(o.type._context),S(o),null;case 17:return Zf(o.type)&&$f(),S(o),null;case 19:if(E(M),j=o.memoizedState,j===null)return S(o),null;if(g=(o.flags&128)!==0,$=j.rendering,$===null)if(g)Ej(j,!1);else{if(T!==0||e!==null&&e.flags&128)for(e=o.child;e!==null;){if($=Mh(e),$!==null){for(o.flags|=128,Ej(j,!1),g=$.updateQueue,g!==null&&(o.updateQueue=g,o.flags|=4),o.subtreeFlags=0,g=a,a=o.child;a!==null;)j=a,e=g,j.flags&=14680066,$=j.alternate,$===null?(j.childLanes=0,j.lanes=e,j.child=null,j.subtreeFlags=0,j.memoizedProps=null,j.memoizedState=null,j.updateQueue=null,j.dependencies=null,j.stateNode=null):(j.childLanes=$.childLanes,j.lanes=$.lanes,j.child=$.child,j.subtreeFlags=0,j.deletions=null,j.memoizedProps=$.memoizedProps,j.memoizedState=$.memoizedState,j.updateQueue=$.updateQueue,j.type=$.type,e=$.dependencies,j.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),a=a.sibling;return G(M,M.current&1|2),o.child}e=e.sibling}j.tail!==null&&B()>Hj&&(o.flags|=128,g=!0,Ej(j,!1),o.lanes=4194304)}else{if(!g)if(e=Mh($),e!==null){if(o.flags|=128,g=!0,a=e.updateQueue,a!==null&&(o.updateQueue=a,o.flags|=4),Ej(j,!0),j.tail===null&&j.tailMode==="hidden"&&!$.alternate&&!I)return S(o),null}else 2*B()-j.renderingStartTime>Hj&&a!==1073741824&&(o.flags|=128,g=!0,Ej(j,!1),o.lanes=4194304);j.isBackwards?($.sibling=o.child,o.child=$):(a=j.last,a!==null?a.sibling=$:o.child=$,j.last=$)}return j.tail!==null?(o=j.tail,j.rendering=o,j.tail=o.sibling,j.renderingStartTime=B(),o.sibling=null,a=M.current,G(M,g?a&1|2:a&1),o):(S(o),null);case 22:case 23:return Ij(),g=o.memoizedState!==null,e!==null&&e.memoizedState!==null!==g&&(o.flags|=8192),g&&o.mode&1?gj&1073741824&&(S(o),o.subtreeFlags&6&&(o.flags|=8192)):S(o),null;case 24:return null;case 25:return null}throw Error(p$1(156,o.tag))}function Jj(e,o){switch(wg(o),o.tag){case 1:return Zf(o.type)&&$f(),e=o.flags,e&65536?(o.flags=e&-65537|128,o):null;case 3:return Jh(),E(Wf),E(H),Oh(),e=o.flags,e&65536&&!(e&128)?(o.flags=e&-65537|128,o):null;case 5:return Lh(o),null;case 13:if(E(M),e=o.memoizedState,e!==null&&e.dehydrated!==null){if(o.alternate===null)throw Error(p$1(340));Ig()}return e=o.flags,e&65536?(o.flags=e&-65537|128,o):null;case 19:return E(M),null;case 4:return Jh(),null;case 10:return Rg(o.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Mj(e,o){var a=e.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(g){W(e,o,g)}else a.current=null}function Nj(e,o,a){try{a()}catch(g){W(e,o,g)}}var Oj=!1;function Pj(e,o){if(Cf=dd,e=Me(),Ne(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var g=a.getSelection&&a.getSelection();if(g&&g.rangeCount!==0){a=g.anchorNode;var _=g.anchorOffset,j=g.focusNode;g=g.focusOffset;try{a.nodeType,j.nodeType}catch{a=null;break e}var $=0,ft=-1,et=-1,lt=0,at=0,At=e,St=null;t:for(;;){for(var Et;At!==a||_!==0&&At.nodeType!==3||(ft=$+_),At!==j||g!==0&&At.nodeType!==3||(et=$+g),At.nodeType===3&&($+=At.nodeValue.length),(Et=At.firstChild)!==null;)St=At,At=Et;for(;;){if(At===e)break t;if(St===a&&++lt===_&&(ft=$),St===j&&++at===g&&(et=$),(Et=At.nextSibling)!==null)break;At=St,St=At.parentNode}At=Et}a=ft===-1||et===-1?null:{start:ft,end:et}}else a=null}a=a||{start:0,end:0}}else a=null;for(Df={focusedElem:e,selectionRange:a},dd=!1,V=o;V!==null;)if(o=V,e=o.child,(o.subtreeFlags&1028)!==0&&e!==null)e.return=o,V=e;else for(;V!==null;){o=V;try{var yt=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(yt!==null){var _t=yt.memoizedProps,mt=yt.memoizedState,ot=o.stateNode,it=ot.getSnapshotBeforeUpdate(o.elementType===o.type?_t:Lg(o.type,_t),mt);ot.__reactInternalSnapshotBeforeUpdate=it}break;case 3:var ct=o.stateNode.containerInfo;ct.nodeType===1?ct.textContent="":ct.nodeType===9&&ct.documentElement&&ct.removeChild(ct.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$1(163))}}catch(pt){W(o,o.return,pt)}if(e=o.sibling,e!==null){e.return=o.return,V=e;break}V=o.return}return yt=Oj,Oj=!1,yt}function Qj(e,o,a){var g=o.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var _=g=g.next;do{if((_.tag&e)===e){var j=_.destroy;_.destroy=void 0,j!==void 0&&Nj(o,a,j)}_=_.next}while(_!==g)}}function Rj(e,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var a=o=o.next;do{if((a.tag&e)===e){var g=a.create;a.destroy=g()}a=a.next}while(a!==o)}}function Sj(e){var o=e.ref;if(o!==null){var a=e.stateNode;switch(e.tag){case 5:e=a;break;default:e=a}typeof o=="function"?o(e):o.current=e}}function Tj(e){var o=e.alternate;o!==null&&(e.alternate=null,Tj(o)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(o=e.stateNode,o!==null&&(delete o[Of],delete o[Pf],delete o[of],delete o[Qf],delete o[Rf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Uj(e){return e.tag===5||e.tag===3||e.tag===4}function Vj(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Uj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wj(e,o,a){var g=e.tag;if(g===5||g===6)e=e.stateNode,o?a.nodeType===8?a.parentNode.insertBefore(e,o):a.insertBefore(e,o):(a.nodeType===8?(o=a.parentNode,o.insertBefore(e,a)):(o=a,o.appendChild(e)),a=a._reactRootContainer,a!=null||o.onclick!==null||(o.onclick=Bf));else if(g!==4&&(e=e.child,e!==null))for(Wj(e,o,a),e=e.sibling;e!==null;)Wj(e,o,a),e=e.sibling}function Xj(e,o,a){var g=e.tag;if(g===5||g===6)e=e.stateNode,o?a.insertBefore(e,o):a.appendChild(e);else if(g!==4&&(e=e.child,e!==null))for(Xj(e,o,a),e=e.sibling;e!==null;)Xj(e,o,a),e=e.sibling}var X=null,Yj=!1;function Zj(e,o,a){for(a=a.child;a!==null;)ak(e,o,a),a=a.sibling}function ak(e,o,a){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,a)}catch{}switch(a.tag){case 5:U||Mj(a,o);case 6:var g=X,_=Yj;X=null,Zj(e,o,a),X=g,Yj=_,X!==null&&(Yj?(e=X,a=a.stateNode,e.nodeType===8?e.parentNode.removeChild(a):e.removeChild(a)):X.removeChild(a.stateNode));break;case 18:X!==null&&(Yj?(e=X,a=a.stateNode,e.nodeType===8?Kf(e.parentNode,a):e.nodeType===1&&Kf(e,a),bd(e)):Kf(X,a.stateNode));break;case 4:g=X,_=Yj,X=a.stateNode.containerInfo,Yj=!0,Zj(e,o,a),X=g,Yj=_;break;case 0:case 11:case 14:case 15:if(!U&&(g=a.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){_=g=g.next;do{var j=_,$=j.destroy;j=j.tag,$!==void 0&&(j&2||j&4)&&Nj(a,o,$),_=_.next}while(_!==g)}Zj(e,o,a);break;case 1:if(!U&&(Mj(a,o),g=a.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=a.memoizedProps,g.state=a.memoizedState,g.componentWillUnmount()}catch(ft){W(a,o,ft)}Zj(e,o,a);break;case 21:Zj(e,o,a);break;case 22:a.mode&1?(U=(g=U)||a.memoizedState!==null,Zj(e,o,a),U=g):Zj(e,o,a);break;default:Zj(e,o,a)}}function bk(e){var o=e.updateQueue;if(o!==null){e.updateQueue=null;var a=e.stateNode;a===null&&(a=e.stateNode=new Lj),o.forEach(function(g){var _=ck.bind(null,e,g);a.has(g)||(a.add(g),g.then(_,_))})}}function dk(e,o){var a=o.deletions;if(a!==null)for(var g=0;g<a.length;g++){var _=a[g];try{var j=e,$=o,ft=$;e:for(;ft!==null;){switch(ft.tag){case 5:X=ft.stateNode,Yj=!1;break e;case 3:X=ft.stateNode.containerInfo,Yj=!0;break e;case 4:X=ft.stateNode.containerInfo,Yj=!0;break e}ft=ft.return}if(X===null)throw Error(p$1(160));ak(j,$,_),X=null,Yj=!1;var et=_.alternate;et!==null&&(et.return=null),_.return=null}catch(lt){W(_,o,lt)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)ek(o,e),o=o.sibling}function ek(e,o){var a=e.alternate,g=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(dk(o,e),fk(e),g&4){try{Qj(3,e,e.return),Rj(3,e)}catch(_t){W(e,e.return,_t)}try{Qj(5,e,e.return)}catch(_t){W(e,e.return,_t)}}break;case 1:dk(o,e),fk(e),g&512&&a!==null&&Mj(a,a.return);break;case 5:if(dk(o,e),fk(e),g&512&&a!==null&&Mj(a,a.return),e.flags&32){var _=e.stateNode;try{ob(_,"")}catch(_t){W(e,e.return,_t)}}if(g&4&&(_=e.stateNode,_!=null)){var j=e.memoizedProps,$=a!==null?a.memoizedProps:j,ft=e.type,et=e.updateQueue;if(e.updateQueue=null,et!==null)try{ft==="input"&&j.type==="radio"&&j.name!=null&&ab(_,j),vb(ft,$);var lt=vb(ft,j);for($=0;$<et.length;$+=2){var at=et[$],At=et[$+1];at==="style"?sb(_,At):at==="dangerouslySetInnerHTML"?nb(_,At):at==="children"?ob(_,At):ta(_,at,At,lt)}switch(ft){case"input":bb(_,j);break;case"textarea":ib(_,j);break;case"select":var St=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!j.multiple;var Et=j.value;Et!=null?fb(_,!!j.multiple,Et,!1):St!==!!j.multiple&&(j.defaultValue!=null?fb(_,!!j.multiple,j.defaultValue,!0):fb(_,!!j.multiple,j.multiple?[]:"",!1))}_[Pf]=j}catch(_t){W(e,e.return,_t)}}break;case 6:if(dk(o,e),fk(e),g&4){if(e.stateNode===null)throw Error(p$1(162));_=e.stateNode,j=e.memoizedProps;try{_.nodeValue=j}catch(_t){W(e,e.return,_t)}}break;case 3:if(dk(o,e),fk(e),g&4&&a!==null&&a.memoizedState.isDehydrated)try{bd(o.containerInfo)}catch(_t){W(e,e.return,_t)}break;case 4:dk(o,e),fk(e);break;case 13:dk(o,e),fk(e),_=e.child,_.flags&8192&&(j=_.memoizedState!==null,_.stateNode.isHidden=j,!j||_.alternate!==null&&_.alternate.memoizedState!==null||(gk=B())),g&4&&bk(e);break;case 22:if(at=a!==null&&a.memoizedState!==null,e.mode&1?(U=(lt=U)||at,dk(o,e),U=lt):dk(o,e),fk(e),g&8192){if(lt=e.memoizedState!==null,(e.stateNode.isHidden=lt)&&!at&&e.mode&1)for(V=e,at=e.child;at!==null;){for(At=V=at;V!==null;){switch(St=V,Et=St.child,St.tag){case 0:case 11:case 14:case 15:Qj(4,St,St.return);break;case 1:Mj(St,St.return);var yt=St.stateNode;if(typeof yt.componentWillUnmount=="function"){g=St,a=St.return;try{o=g,yt.props=o.memoizedProps,yt.state=o.memoizedState,yt.componentWillUnmount()}catch(_t){W(g,a,_t)}}break;case 5:Mj(St,St.return);break;case 22:if(St.memoizedState!==null){hk(At);continue}}Et!==null?(Et.return=St,V=Et):hk(At)}at=at.sibling}e:for(at=null,At=e;;){if(At.tag===5){if(at===null){at=At;try{_=At.stateNode,lt?(j=_.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none"):(ft=At.stateNode,et=At.memoizedProps.style,$=et!=null&&et.hasOwnProperty("display")?et.display:null,ft.style.display=rb("display",$))}catch(_t){W(e,e.return,_t)}}}else if(At.tag===6){if(at===null)try{At.stateNode.nodeValue=lt?"":At.memoizedProps}catch(_t){W(e,e.return,_t)}}else if((At.tag!==22&&At.tag!==23||At.memoizedState===null||At===e)&&At.child!==null){At.child.return=At,At=At.child;continue}if(At===e)break e;for(;At.sibling===null;){if(At.return===null||At.return===e)break e;at===At&&(at=null),At=At.return}at===At&&(at=null),At.sibling.return=At.return,At=At.sibling}}break;case 19:dk(o,e),fk(e),g&4&&bk(e);break;case 21:break;default:dk(o,e),fk(e)}}function fk(e){var o=e.flags;if(o&2){try{e:{for(var a=e.return;a!==null;){if(Uj(a)){var g=a;break e}a=a.return}throw Error(p$1(160))}switch(g.tag){case 5:var _=g.stateNode;g.flags&32&&(ob(_,""),g.flags&=-33);var j=Vj(e);Xj(e,j,_);break;case 3:case 4:var $=g.stateNode.containerInfo,ft=Vj(e);Wj(e,ft,$);break;default:throw Error(p$1(161))}}catch(et){W(e,e.return,et)}e.flags&=-3}o&4096&&(e.flags&=-4097)}function ik(e,o,a){V=e,jk(e)}function jk(e,o,a){for(var g=(e.mode&1)!==0;V!==null;){var _=V,j=_.child;if(_.tag===22&&g){var $=_.memoizedState!==null||Kj;if(!$){var ft=_.alternate,et=ft!==null&&ft.memoizedState!==null||U;ft=Kj;var lt=U;if(Kj=$,(U=et)&&!lt)for(V=_;V!==null;)$=V,et=$.child,$.tag===22&&$.memoizedState!==null?kk(_):et!==null?(et.return=$,V=et):kk(_);for(;j!==null;)V=j,jk(j),j=j.sibling;V=_,Kj=ft,U=lt}lk(e)}else _.subtreeFlags&8772&&j!==null?(j.return=_,V=j):lk(e)}}function lk(e){for(;V!==null;){var o=V;if(o.flags&8772){var a=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:U||Rj(5,o);break;case 1:var g=o.stateNode;if(o.flags&4&&!U)if(a===null)g.componentDidMount();else{var _=o.elementType===o.type?a.memoizedProps:Lg(o.type,a.memoizedProps);g.componentDidUpdate(_,a.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var j=o.updateQueue;j!==null&&ih(o,j,g);break;case 3:var $=o.updateQueue;if($!==null){if(a=null,o.child!==null)switch(o.child.tag){case 5:a=o.child.stateNode;break;case 1:a=o.child.stateNode}ih(o,$,a)}break;case 5:var ft=o.stateNode;if(a===null&&o.flags&4){a=ft;var et=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":et.autoFocus&&a.focus();break;case"img":et.src&&(a.src=et.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var lt=o.alternate;if(lt!==null){var at=lt.memoizedState;if(at!==null){var At=at.dehydrated;At!==null&&bd(At)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$1(163))}U||o.flags&512&&Sj(o)}catch(St){W(o,o.return,St)}}if(o===e){V=null;break}if(a=o.sibling,a!==null){a.return=o.return,V=a;break}V=o.return}}function hk(e){for(;V!==null;){var o=V;if(o===e){V=null;break}var a=o.sibling;if(a!==null){a.return=o.return,V=a;break}V=o.return}}function kk(e){for(;V!==null;){var o=V;try{switch(o.tag){case 0:case 11:case 15:var a=o.return;try{Rj(4,o)}catch(et){W(o,a,et)}break;case 1:var g=o.stateNode;if(typeof g.componentDidMount=="function"){var _=o.return;try{g.componentDidMount()}catch(et){W(o,_,et)}}var j=o.return;try{Sj(o)}catch(et){W(o,j,et)}break;case 5:var $=o.return;try{Sj(o)}catch(et){W(o,$,et)}}}catch(et){W(o,o.return,et)}if(o===e){V=null;break}var ft=o.sibling;if(ft!==null){ft.return=o.return,V=ft;break}V=o.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K=0,R=null,Y=null,Z=0,gj=0,fj=Uf(0),T=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L(){return K&6?B():Bk!==-1?Bk:Bk=B()}function lh(e){return e.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(e=C,e!==0||(e=window.event,e=e===void 0?16:jd(e.type)),e):1}function mh(e,o,a,g){if(50<zk)throw zk=0,Ak=null,Error(p$1(185));Ac(e,a,g),(!(K&2)||e!==R)&&(e===R&&(!(K&2)&&(rk|=a),T===4&&Dk(e,Z)),Ek(e,g),a===1&&K===0&&!(o.mode&1)&&(Hj=B()+500,fg&&jg()))}function Ek(e,o){var a=e.callbackNode;wc(e,o);var g=uc(e,e===R?Z:0);if(g===0)a!==null&&bc(a),e.callbackNode=null,e.callbackPriority=0;else if(o=g&-g,e.callbackPriority!==o){if(a!=null&&bc(a),o===1)e.tag===0?ig(Fk.bind(null,e)):hg(Fk.bind(null,e)),Jf(function(){!(K&6)&&jg()}),a=null;else{switch(Dc(g)){case 1:a=fc;break;case 4:a=gc;break;case 16:a=hc;break;case 536870912:a=jc;break;default:a=hc}a=Gk(a,Hk.bind(null,e))}e.callbackPriority=o,e.callbackNode=a}}function Hk(e,o){if(Bk=-1,Ck=0,K&6)throw Error(p$1(327));var a=e.callbackNode;if(Ik()&&e.callbackNode!==a)return null;var g=uc(e,e===R?Z:0);if(g===0)return null;if(g&30||g&e.expiredLanes||o)o=Jk(e,g);else{o=g;var _=K;K|=2;var j=Kk();(R!==e||Z!==o)&&(vk=null,Hj=B()+500,Lk(e,o));do try{Mk();break}catch(ft){Nk(e,ft)}while(1);Qg(),nk.current=j,K=_,Y!==null?o=0:(R=null,Z=0,o=T)}if(o!==0){if(o===2&&(_=xc(e),_!==0&&(g=_,o=Ok(e,_))),o===1)throw a=qk,Lk(e,0),Dk(e,g),Ek(e,B()),a;if(o===6)Dk(e,g);else{if(_=e.current.alternate,!(g&30)&&!Pk(_)&&(o=Jk(e,g),o===2&&(j=xc(e),j!==0&&(g=j,o=Ok(e,j))),o===1))throw a=qk,Lk(e,0),Dk(e,g),Ek(e,B()),a;switch(e.finishedWork=_,e.finishedLanes=g,o){case 0:case 1:throw Error(p$1(345));case 2:Qk(e,uk,vk);break;case 3:if(Dk(e,g),(g&130023424)===g&&(o=gk+500-B(),10<o)){if(uc(e,0)!==0)break;if(_=e.suspendedLanes,(_&g)!==g){L(),e.pingedLanes|=e.suspendedLanes&_;break}e.timeoutHandle=Ff(Qk.bind(null,e,uk,vk),o);break}Qk(e,uk,vk);break;case 4:if(Dk(e,g),(g&4194240)===g)break;for(o=e.eventTimes,_=-1;0<g;){var $=31-oc(g);j=1<<$,$=o[$],$>_&&(_=$),g&=~j}if(g=_,g=B()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*mk(g/1960))-g,10<g){e.timeoutHandle=Ff(Qk.bind(null,e,uk,vk),g);break}Qk(e,uk,vk);break;case 5:Qk(e,uk,vk);break;default:throw Error(p$1(329))}}}return Ek(e,B()),e.callbackNode===a?Hk.bind(null,e):null}function Ok(e,o){var a=tk;return e.current.memoizedState.isDehydrated&&(Lk(e,o).flags|=256),e=Jk(e,o),e!==2&&(o=uk,uk=a,o!==null&&Gj(o)),e}function Gj(e){uk===null?uk=e:uk.push.apply(uk,e)}function Pk(e){for(var o=e;;){if(o.flags&16384){var a=o.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var g=0;g<a.length;g++){var _=a[g],j=_.getSnapshot;_=_.value;try{if(!He(j(),_))return!1}catch{return!1}}}if(a=o.child,o.subtreeFlags&16384&&a!==null)a.return=o,o=a;else{if(o===e)break;for(;o.sibling===null;){if(o.return===null||o.return===e)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Dk(e,o){for(o&=~sk,o&=~rk,e.suspendedLanes|=o,e.pingedLanes&=~o,e=e.expirationTimes;0<o;){var a=31-oc(o),g=1<<a;e[a]=-1,o&=~g}}function Fk(e){if(K&6)throw Error(p$1(327));Ik();var o=uc(e,0);if(!(o&1))return Ek(e,B()),null;var a=Jk(e,o);if(e.tag!==0&&a===2){var g=xc(e);g!==0&&(o=g,a=Ok(e,g))}if(a===1)throw a=qk,Lk(e,0),Dk(e,o),Ek(e,B()),a;if(a===6)throw Error(p$1(345));return e.finishedWork=e.current.alternate,e.finishedLanes=o,Qk(e,uk,vk),Ek(e,B()),null}function Rk(e,o){var a=K;K|=1;try{return e(o)}finally{K=a,K===0&&(Hj=B()+500,fg&&jg())}}function Sk(e){xk!==null&&xk.tag===0&&!(K&6)&&Ik();var o=K;K|=1;var a=pk.transition,g=C;try{if(pk.transition=null,C=1,e)return e()}finally{C=g,pk.transition=a,K=o,!(K&6)&&jg()}}function Ij(){gj=fj.current,E(fj)}function Lk(e,o){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;if(a!==-1&&(e.timeoutHandle=-1,Gf(a)),Y!==null)for(a=Y.return;a!==null;){var g=a;switch(wg(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&$f();break;case 3:Jh(),E(Wf),E(H),Oh();break;case 5:Lh(g);break;case 4:Jh();break;case 13:E(M);break;case 19:E(M);break;case 10:Rg(g.type._context);break;case 22:case 23:Ij()}a=a.return}if(R=e,Y=e=wh(e.current,null),Z=gj=o,T=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(o=0;o<Wg.length;o++)if(a=Wg[o],g=a.interleaved,g!==null){a.interleaved=null;var _=g.next,j=a.pending;if(j!==null){var $=j.next;j.next=_,g.next=$}a.pending=g}Wg=null}return e}function Nk(e,o){do{var a=Y;try{if(Qg(),Ph.current=ai,Sh){for(var g=N.memoizedState;g!==null;){var _=g.queue;_!==null&&(_.pending=null),g=g.next}Sh=!1}if(Rh=0,P=O=N=null,Th=!1,Uh=0,ok.current=null,a===null||a.return===null){T=1,qk=o,Y=null;break}e:{var j=e,$=a.return,ft=a,et=o;if(o=Z,ft.flags|=32768,et!==null&&typeof et=="object"&&typeof et.then=="function"){var lt=et,at=ft,At=at.tag;if(!(at.mode&1)&&(At===0||At===11||At===15)){var St=at.alternate;St?(at.updateQueue=St.updateQueue,at.memoizedState=St.memoizedState,at.lanes=St.lanes):(at.updateQueue=null,at.memoizedState=null)}var Et=Vi($);if(Et!==null){Et.flags&=-257,Wi(Et,$,ft,j,o),Et.mode&1&&Ti(j,lt,o),o=Et,et=lt;var yt=o.updateQueue;if(yt===null){var _t=new Set;_t.add(et),o.updateQueue=_t}else yt.add(et);break e}else{if(!(o&1)){Ti(j,lt,o),uj();break e}et=Error(p$1(426))}}else if(I&&ft.mode&1){var mt=Vi($);if(mt!==null){!(mt.flags&65536)&&(mt.flags|=256),Wi(mt,$,ft,j,o),Jg(Ki(et,ft));break e}}j=et=Ki(et,ft),T!==4&&(T=2),tk===null?tk=[j]:tk.push(j),j=$;do{switch(j.tag){case 3:j.flags|=65536,o&=-o,j.lanes|=o;var ot=Oi(j,et,o);fh(j,ot);break e;case 1:ft=et;var it=j.type,ct=j.stateNode;if(!(j.flags&128)&&(typeof it.getDerivedStateFromError=="function"||ct!==null&&typeof ct.componentDidCatch=="function"&&(Si===null||!Si.has(ct)))){j.flags|=65536,o&=-o,j.lanes|=o;var pt=Ri(j,ft,o);fh(j,pt);break e}}j=j.return}while(j!==null)}Tk(a)}catch(rt){o=rt,Y===a&&a!==null&&(Y=a=a.return);continue}break}while(1)}function Kk(){var e=nk.current;return nk.current=ai,e===null?ai:e}function uj(){(T===0||T===3||T===2)&&(T=4),R===null||!(hh&268435455)&&!(rk&268435455)||Dk(R,Z)}function Jk(e,o){var a=K;K|=2;var g=Kk();(R!==e||Z!==o)&&(vk=null,Lk(e,o));do try{Uk();break}catch(_){Nk(e,_)}while(1);if(Qg(),K=a,nk.current=g,Y!==null)throw Error(p$1(261));return R=null,Z=0,T}function Uk(){for(;Y!==null;)Vk(Y)}function Mk(){for(;Y!==null&&!cc();)Vk(Y)}function Vk(e){var o=Wk(e.alternate,e,gj);e.memoizedProps=e.pendingProps,o===null?Tk(e):Y=o,ok.current=null}function Tk(e){var o=e;do{var a=o.alternate;if(e=o.return,o.flags&32768){if(a=Jj(a,o),a!==null){a.flags&=32767,Y=a;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{T=6,Y=null;return}}else if(a=Fj(a,o,gj),a!==null){Y=a;return}if(o=o.sibling,o!==null){Y=o;return}Y=o=e}while(o!==null);T===0&&(T=5)}function Qk(e,o,a){var g=C,_=pk.transition;try{pk.transition=null,C=1,Xk(e,o,a,g)}finally{pk.transition=_,C=g}return null}function Xk(e,o,a,g){do Ik();while(xk!==null);if(K&6)throw Error(p$1(327));a=e.finishedWork;var _=e.finishedLanes;if(a===null)return null;if(e.finishedWork=null,e.finishedLanes=0,a===e.current)throw Error(p$1(177));e.callbackNode=null,e.callbackPriority=0;var j=a.lanes|a.childLanes;if(Bc(e,j),e===R&&(Y=R=null,Z=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),j=(a.flags&15990)!==0,a.subtreeFlags&15990||j){j=pk.transition,pk.transition=null;var $=C;C=1;var ft=K;K|=4,ok.current=null,Pj(e,a),ek(a,e),Oe(Df),dd=!!Cf,Df=Cf=null,e.current=a,ik(a),dc(),K=ft,C=$,pk.transition=j}else e.current=a;if(wk&&(wk=!1,xk=e,yk=_),j=e.pendingLanes,j===0&&(Si=null),mc(a.stateNode),Ek(e,B()),o!==null)for(g=e.onRecoverableError,a=0;a<o.length;a++)_=o[a],g(_.value,{componentStack:_.stack,digest:_.digest});if(Pi)throw Pi=!1,e=Qi,Qi=null,e;return yk&1&&e.tag!==0&&Ik(),j=e.pendingLanes,j&1?e===Ak?zk++:(zk=0,Ak=e):zk=0,jg(),null}function Ik(){if(xk!==null){var e=Dc(yk),o=pk.transition,a=C;try{if(pk.transition=null,C=16>e?16:e,xk===null)var g=!1;else{if(e=xk,xk=null,yk=0,K&6)throw Error(p$1(331));var _=K;for(K|=4,V=e.current;V!==null;){var j=V,$=j.child;if(V.flags&16){var ft=j.deletions;if(ft!==null){for(var et=0;et<ft.length;et++){var lt=ft[et];for(V=lt;V!==null;){var at=V;switch(at.tag){case 0:case 11:case 15:Qj(8,at,j)}var At=at.child;if(At!==null)At.return=at,V=At;else for(;V!==null;){at=V;var St=at.sibling,Et=at.return;if(Tj(at),at===lt){V=null;break}if(St!==null){St.return=Et,V=St;break}V=Et}}}var yt=j.alternate;if(yt!==null){var _t=yt.child;if(_t!==null){yt.child=null;do{var mt=_t.sibling;_t.sibling=null,_t=mt}while(_t!==null)}}V=j}}if(j.subtreeFlags&2064&&$!==null)$.return=j,V=$;else e:for(;V!==null;){if(j=V,j.flags&2048)switch(j.tag){case 0:case 11:case 15:Qj(9,j,j.return)}var ot=j.sibling;if(ot!==null){ot.return=j.return,V=ot;break e}V=j.return}}var it=e.current;for(V=it;V!==null;){$=V;var ct=$.child;if($.subtreeFlags&2064&&ct!==null)ct.return=$,V=ct;else e:for($=it;V!==null;){if(ft=V,ft.flags&2048)try{switch(ft.tag){case 0:case 11:case 15:Rj(9,ft)}}catch(rt){W(ft,ft.return,rt)}if(ft===$){V=null;break e}var pt=ft.sibling;if(pt!==null){pt.return=ft.return,V=pt;break e}V=ft.return}}if(K=_,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,e)}catch{}g=!0}return g}finally{C=a,pk.transition=o}}return!1}function Yk(e,o,a){o=Ki(a,o),o=Oi(e,o,1),e=dh(e,o,1),o=L(),e!==null&&(Ac(e,1,o),Ek(e,o))}function W(e,o,a){if(e.tag===3)Yk(e,e,a);else for(;o!==null;){if(o.tag===3){Yk(o,e,a);break}else if(o.tag===1){var g=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Si===null||!Si.has(g))){e=Ki(a,e),e=Ri(o,e,1),o=dh(o,e,1),e=L(),o!==null&&(Ac(o,1,e),Ek(o,e));break}}o=o.return}}function Ui(e,o,a){var g=e.pingCache;g!==null&&g.delete(o),o=L(),e.pingedLanes|=e.suspendedLanes&a,R===e&&(Z&a)===a&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-gk?Lk(e,0):sk|=a),Ek(e,o)}function Zk(e,o){o===0&&(e.mode&1?(o=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):o=1);var a=L();e=Zg(e,o),e!==null&&(Ac(e,o,a),Ek(e,a))}function vj(e){var o=e.memoizedState,a=0;o!==null&&(a=o.retryLane),Zk(e,a)}function ck(e,o){var a=0;switch(e.tag){case 13:var g=e.stateNode,_=e.memoizedState;_!==null&&(a=_.retryLane);break;case 19:g=e.stateNode;break;default:throw Error(p$1(314))}g!==null&&g.delete(o),Zk(e,a)}var Wk;Wk=function(e,o,a){if(e!==null)if(e.memoizedProps!==o.pendingProps||Wf.current)Ug=!0;else{if(!(e.lanes&a)&&!(o.flags&128))return Ug=!1,zj(e,o,a);Ug=!!(e.flags&131072)}else Ug=!1,I&&o.flags&1048576&&ug(o,ng,o.index);switch(o.lanes=0,o.tag){case 2:var g=o.type;jj(e,o),e=o.pendingProps;var _=Yf(o,H.current);Tg(o,a),_=Xh(null,o,g,e,_,a);var j=bi();return o.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Zf(g)?(j=!0,cg(o)):j=!1,o.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,ah(o),_.updater=nh,o.stateNode=_,_._reactInternals=o,rh(o,g,e,a),o=kj(null,o,g,!0,j,a)):(o.tag=0,I&&j&&vg(o),Yi(null,o,_,a),o=o.child),o;case 16:g=o.elementType;e:{switch(jj(e,o),e=o.pendingProps,_=g._init,g=_(g._payload),o.type=g,_=o.tag=$k(g),e=Lg(g,e),_){case 0:o=dj(null,o,g,e,a);break e;case 1:o=ij(null,o,g,e,a);break e;case 11:o=Zi(null,o,g,e,a);break e;case 14:o=aj(null,o,g,Lg(g.type,e),a);break e}throw Error(p$1(306,g,""))}return o;case 0:return g=o.type,_=o.pendingProps,_=o.elementType===g?_:Lg(g,_),dj(e,o,g,_,a);case 1:return g=o.type,_=o.pendingProps,_=o.elementType===g?_:Lg(g,_),ij(e,o,g,_,a);case 3:e:{if(lj(o),e===null)throw Error(p$1(387));g=o.pendingProps,j=o.memoizedState,_=j.element,bh(e,o),gh(o,g,null,a);var $=o.memoizedState;if(g=$.element,j.isDehydrated)if(j={element:g,isDehydrated:!1,cache:$.cache,pendingSuspenseBoundaries:$.pendingSuspenseBoundaries,transitions:$.transitions},o.updateQueue.baseState=j,o.memoizedState=j,o.flags&256){_=Ki(Error(p$1(423)),o),o=mj(e,o,g,a,_);break e}else if(g!==_){_=Ki(Error(p$1(424)),o),o=mj(e,o,g,a,_);break e}else for(yg=Lf(o.stateNode.containerInfo.firstChild),xg=o,I=!0,zg=null,a=Ch(o,null,g,a),o.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ig(),g===_){o=$i(e,o,a);break e}Yi(e,o,g,a)}o=o.child}return o;case 5:return Kh(o),e===null&&Eg(o),g=o.type,_=o.pendingProps,j=e!==null?e.memoizedProps:null,$=_.children,Ef(g,_)?$=null:j!==null&&Ef(g,j)&&(o.flags|=32),hj(e,o),Yi(e,o,$,a),o.child;case 6:return e===null&&Eg(o),null;case 13:return pj(e,o,a);case 4:return Ih(o,o.stateNode.containerInfo),g=o.pendingProps,e===null?o.child=Bh(o,null,g,a):Yi(e,o,g,a),o.child;case 11:return g=o.type,_=o.pendingProps,_=o.elementType===g?_:Lg(g,_),Zi(e,o,g,_,a);case 7:return Yi(e,o,o.pendingProps,a),o.child;case 8:return Yi(e,o,o.pendingProps.children,a),o.child;case 12:return Yi(e,o,o.pendingProps.children,a),o.child;case 10:e:{if(g=o.type._context,_=o.pendingProps,j=o.memoizedProps,$=_.value,G(Mg,g._currentValue),g._currentValue=$,j!==null)if(He(j.value,$)){if(j.children===_.children&&!Wf.current){o=$i(e,o,a);break e}}else for(j=o.child,j!==null&&(j.return=o);j!==null;){var ft=j.dependencies;if(ft!==null){$=j.child;for(var et=ft.firstContext;et!==null;){if(et.context===g){if(j.tag===1){et=ch(-1,a&-a),et.tag=2;var lt=j.updateQueue;if(lt!==null){lt=lt.shared;var at=lt.pending;at===null?et.next=et:(et.next=at.next,at.next=et),lt.pending=et}}j.lanes|=a,et=j.alternate,et!==null&&(et.lanes|=a),Sg(j.return,a,o),ft.lanes|=a;break}et=et.next}}else if(j.tag===10)$=j.type===o.type?null:j.child;else if(j.tag===18){if($=j.return,$===null)throw Error(p$1(341));$.lanes|=a,ft=$.alternate,ft!==null&&(ft.lanes|=a),Sg($,a,o),$=j.sibling}else $=j.child;if($!==null)$.return=j;else for($=j;$!==null;){if($===o){$=null;break}if(j=$.sibling,j!==null){j.return=$.return,$=j;break}$=$.return}j=$}Yi(e,o,_.children,a),o=o.child}return o;case 9:return _=o.type,g=o.pendingProps.children,Tg(o,a),_=Vg(_),g=g(_),o.flags|=1,Yi(e,o,g,a),o.child;case 14:return g=o.type,_=Lg(g,o.pendingProps),_=Lg(g.type,_),aj(e,o,g,_,a);case 15:return cj(e,o,o.type,o.pendingProps,a);case 17:return g=o.type,_=o.pendingProps,_=o.elementType===g?_:Lg(g,_),jj(e,o),o.tag=1,Zf(g)?(e=!0,cg(o)):e=!1,Tg(o,a),ph(o,g,_),rh(o,g,_,a),kj(null,o,g,!0,e,a);case 19:return yj(e,o,a);case 22:return ej(e,o,a)}throw Error(p$1(156,o.tag))};function Gk(e,o){return ac(e,o)}function al(e,o,a,g){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(e,o,a,g){return new al(e,o,a,g)}function bj(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $k(e){if(typeof e=="function")return bj(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Da)return 11;if(e===Ga)return 14}return 2}function wh(e,o){var a=e.alternate;return a===null?(a=Bg(e.tag,o,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=o,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&14680064,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,o=e.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a}function yh(e,o,a,g,_,j){var $=2;if(g=e,typeof e=="function")bj(e)&&($=1);else if(typeof e=="string")$=5;else e:switch(e){case ya:return Ah(a.children,_,j,o);case za:$=8,_|=8;break;case Aa:return e=Bg(12,a,o,_|2),e.elementType=Aa,e.lanes=j,e;case Ea:return e=Bg(13,a,o,_),e.elementType=Ea,e.lanes=j,e;case Fa:return e=Bg(19,a,o,_),e.elementType=Fa,e.lanes=j,e;case Ia:return qj(a,_,j,o);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ba:$=10;break e;case Ca:$=9;break e;case Da:$=11;break e;case Ga:$=14;break e;case Ha:$=16,g=null;break e}throw Error(p$1(130,e==null?e:typeof e,""))}return o=Bg($,a,o,_),o.elementType=e,o.type=g,o.lanes=j,o}function Ah(e,o,a,g){return e=Bg(7,e,g,o),e.lanes=a,e}function qj(e,o,a,g){return e=Bg(22,e,g,o),e.elementType=Ia,e.lanes=a,e.stateNode={isHidden:!1},e}function xh(e,o,a){return e=Bg(6,e,null,o),e.lanes=a,e}function zh(e,o,a){return o=Bg(4,e.children!==null?e.children:[],e.key,o),o.lanes=a,o.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},o}function bl(e,o,a,g,_){this.tag=o,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=g,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function cl(e,o,a,g,_,j,$,ft,et){return e=new bl(e,o,a,ft,et),o===1?(o=1,j===!0&&(o|=8)):o=0,j=Bg(3,null,null,o),e.current=j,j.stateNode=e,j.memoizedState={element:g,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(j),e}function dl(e,o,a){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:g==null?null:""+g,children:e,containerInfo:o,implementation:a}}function el(e){if(!e)return Vf;e=e._reactInternals;e:{if(Vb(e)!==e||e.tag!==1)throw Error(p$1(170));var o=e;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Zf(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(p$1(171))}if(e.tag===1){var a=e.type;if(Zf(a))return bg(e,a,o)}return o}function fl(e,o,a,g,_,j,$,ft,et){return e=cl(a,g,!0,e,_,j,$,ft,et),e.context=el(null),a=e.current,g=L(),_=lh(a),j=ch(g,_),j.callback=o??null,dh(a,j,_),e.current.lanes=_,Ac(e,_,g),Ek(e,g),e}function gl(e,o,a,g){var _=o.current,j=L(),$=lh(_);return a=el(a),o.context===null?o.context=a:o.pendingContext=a,o=ch(j,$),o.payload={element:e},g=g===void 0?null:g,g!==null&&(o.callback=g),e=dh(_,o,$),e!==null&&(mh(e,_,$,j),eh(e,_,$)),$}function hl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function il(e,o){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<o?a:o}}function jl(e,o){il(e,o),(e=e.alternate)&&il(e,o)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(e){console.error(e)};function ml(e){this._internalRoot=e}nl.prototype.render=ml.prototype.render=function(e){var o=this._internalRoot;if(o===null)throw Error(p$1(409));gl(e,o,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var o=e.containerInfo;Sk(function(){gl(null,e,null,null)}),o[uf]=null}};function nl(e){this._internalRoot=e}nl.prototype.unstable_scheduleHydration=function(e){if(e){var o=Hc();e={blockedOn:null,target:e,priority:o};for(var a=0;a<Qc.length&&o!==0&&o<Qc[a].priority;a++);Qc.splice(a,0,e),a===0&&Vc(e)}};function ol(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function pl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(e,o,a,g,_){if(_){if(typeof g=="function"){var j=g;g=function(){var lt=hl($);j.call(lt)}}var $=fl(o,g,e,0,null,!1,!1,"",ql);return e._reactRootContainer=$,e[uf]=$.current,sf(e.nodeType===8?e.parentNode:e),Sk(),$}for(;_=e.lastChild;)e.removeChild(_);if(typeof g=="function"){var ft=g;g=function(){var lt=hl(et);ft.call(lt)}}var et=cl(e,0,!1,null,null,!1,!1,"",ql);return e._reactRootContainer=et,e[uf]=et.current,sf(e.nodeType===8?e.parentNode:e),Sk(function(){gl(o,et,a,g)}),et}function sl(e,o,a,g,_){var j=a._reactRootContainer;if(j){var $=j;if(typeof _=="function"){var ft=_;_=function(){var et=hl($);ft.call(et)}}gl(o,$,e,_)}else $=rl(a,o,e,_,g);return hl($)}Ec=function(e){switch(e.tag){case 3:var o=e.stateNode;if(o.current.memoizedState.isDehydrated){var a=tc(o.pendingLanes);a!==0&&(Cc(o,a|1),Ek(o,B()),!(K&6)&&(Hj=B()+500,jg()))}break;case 13:Sk(function(){var g=Zg(e,1);if(g!==null){var _=L();mh(g,e,1,_)}}),jl(e,1)}};Fc=function(e){if(e.tag===13){var o=Zg(e,134217728);if(o!==null){var a=L();mh(o,e,134217728,a)}jl(e,134217728)}};Gc=function(e){if(e.tag===13){var o=lh(e),a=Zg(e,o);if(a!==null){var g=L();mh(a,e,o,g)}jl(e,o)}};Hc=function(){return C};Ic=function(e,o){var a=C;try{return C=e,o()}finally{C=a}};yb=function(e,o,a){switch(o){case"input":if(bb(e,a),o=a.name,a.type==="radio"&&o!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<a.length;o++){var g=a[o];if(g!==e&&g.form===e.form){var _=Db(g);if(!_)throw Error(p$1(90));Wa(g),bb(g,_)}}}break;case"textarea":ib(e,a);break;case"select":o=a.value,o!=null&&fb(e,!!a.multiple,o,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Zb(e),e===null?null:e.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(e,o){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(o))throw Error(p$1(200));return dl(e,o,null,a)};reactDom_production_min.createRoot=function(e,o){if(!ol(e))throw Error(p$1(299));var a=!1,g="",_=ll;return o!=null&&(o.unstable_strictMode===!0&&(a=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onRecoverableError!==void 0&&(_=o.onRecoverableError)),o=cl(e,1,!1,null,null,a,!1,g,_),e[uf]=o.current,sf(e.nodeType===8?e.parentNode:e),new ml(o)};reactDom_production_min.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var o=e._reactInternals;if(o===void 0)throw typeof e.render=="function"?Error(p$1(188)):(e=Object.keys(e).join(","),Error(p$1(268,e)));return e=Zb(o),e=e===null?null:e.stateNode,e};reactDom_production_min.flushSync=function(e){return Sk(e)};reactDom_production_min.hydrate=function(e,o,a){if(!pl(o))throw Error(p$1(200));return sl(null,e,o,!0,a)};reactDom_production_min.hydrateRoot=function(e,o,a){if(!ol(e))throw Error(p$1(405));var g=a!=null&&a.hydratedSources||null,_=!1,j="",$=ll;if(a!=null&&(a.unstable_strictMode===!0&&(_=!0),a.identifierPrefix!==void 0&&(j=a.identifierPrefix),a.onRecoverableError!==void 0&&($=a.onRecoverableError)),o=fl(o,null,e,1,a??null,_,!1,j,$),e[uf]=o.current,sf(e),g)for(e=0;e<g.length;e++)a=g[e],_=a._getVersion,_=_(a._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[a,_]:o.mutableSourceEagerHydrationData.push(a,_);return new nl(o)};reactDom_production_min.render=function(e,o,a){if(!pl(o))throw Error(p$1(200));return sl(null,e,o,!1,a)};reactDom_production_min.unmountComponentAtNode=function(e){if(!pl(e))throw Error(p$1(40));return e._reactRootContainer?(Sk(function(){sl(null,null,e,!1,function(){e._reactRootContainer=null,e[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(e,o,a,g){if(!pl(a))throw Error(p$1(200));if(e==null||e._reactInternals===void 0)throw Error(p$1(38));return sl(e,o,a,!1,g)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(e){console.error(e)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,m$1=reactDomExports;client.createRoot=m$1.createRoot,client.hydrateRoot=m$1.hydrateRoot;const App$1="",NavBar=({toggleCV:e})=>jsxRuntimeExports.jsx("div",{id:"navigation",children:jsxRuntimeExports.jsxs("nav",{className:"navbar container",children:[jsxRuntimeExports.jsx("span",{className:"title",children:"lucasgraham"}),jsxRuntimeExports.jsx("span",{className:"nav-link",onClick:e,children:"CV"}),jsxRuntimeExports.jsx("a",{className:"nav-link",href:"https://github.com/lukexgraham",children:"github"}),jsxRuntimeExports.jsx("a",{className:"nav-link",href:"https://www.linkedin.com/in/lucas-graham-677228261/",children:"linkedin"})]})});function i(e,o,a,g){return new(a||(a=Promise))(function(_,j){function $(lt){try{et(g.next(lt))}catch(at){j(at)}}function ft(lt){try{et(g.throw(lt))}catch(at){j(at)}}function et(lt){var at;lt.done?_(lt.value):(at=lt.value,at instanceof a?at:new a(function(At){At(at)})).then($,ft)}et((g=g.apply(e,o||[])).next())})}function u(e,o){var a,g,_,j,$={label:0,sent:function(){if(1&_[0])throw _[1];return _[1]},trys:[],ops:[]};return j={next:ft(0),throw:ft(1),return:ft(2)},typeof Symbol=="function"&&(j[Symbol.iterator]=function(){return this}),j;function ft(et){return function(lt){return function(at){if(a)throw new TypeError("Generator is already executing.");for(;$;)try{if(a=1,g&&(_=2&at[0]?g.return:at[0]?g.throw||((_=g.return)&&_.call(g),0):g.next)&&!(_=_.call(g,at[1])).done)return _;switch(g=0,_&&(at=[2&at[0],_.value]),at[0]){case 0:case 1:_=at;break;case 4:return $.label++,{value:at[1],done:!1};case 5:$.label++,g=at[1],at=[0];continue;case 7:at=$.ops.pop(),$.trys.pop();continue;default:if(_=$.trys,!((_=_.length>0&&_[_.length-1])||at[0]!==6&&at[0]!==2)){$=0;continue}if(at[0]===3&&(!_||at[1]>_[0]&&at[1]<_[3])){$.label=at[1];break}if(at[0]===6&&$.label<_[1]){$.label=_[1],_=at;break}if(_&&$.label<_[2]){$.label=_[2],$.ops.push(at);break}_[2]&&$.ops.pop(),$.trys.pop();continue}at=o.call(e,$)}catch(At){at=[6,At],g=0}finally{a=_=0}if(5&at[0])throw at[1];return{value:at[0]?at[1]:void 0,done:!0}}([et,lt])}}}function c(e){var o=typeof Symbol=="function"&&Symbol.iterator,a=o&&e[o],g=0;if(a)return a.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&g>=e.length&&(e=void 0),{value:e&&e[g++],done:!e}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(e,o){var a=typeof Symbol=="function"&&e[Symbol.iterator];if(!a)return e;var g,_,j=a.call(e),$=[];try{for(;(o===void 0||o-- >0)&&!(g=j.next()).done;)$.push(g.value)}catch(ft){_={error:ft}}finally{try{g&&!g.done&&(a=j.return)&&a.call(j)}finally{if(_)throw _.error}}return $}function s(e,o,a){if(a||arguments.length===2)for(var g,_=0,j=o.length;_<j;_++)!g&&_ in o||(g||(g=Array.prototype.slice.call(o,0,_)),g[_]=o[_]);return e.concat(g||Array.prototype.slice.call(o))}function f(e,o,a,g,_){for(var j=[],$=5;$<arguments.length;$++)j[$-5]=arguments[$];return i(this,void 0,void 0,function(){var ft,et,lt,at,At,St;return u(this,function(Et){switch(Et.label){case 0:Et.trys.push([0,12,13,14]),ft=c(j),et=ft.next(),Et.label=1;case 1:if(et.done)return[3,11];switch(lt=et.value,typeof lt){case"string":return[3,2];case"number":return[3,4];case"function":return[3,6]}return[3,8];case 2:return[4,d(e,o,lt,a,g,_)];case 3:return Et.sent(),[3,10];case 4:return[4,p(lt)];case 5:return Et.sent(),[3,10];case 6:return[4,lt.apply(void 0,s([e,o,a,g,_],l(j),!1))];case 7:return Et.sent(),[3,10];case 8:return[4,lt];case 9:Et.sent(),Et.label=10;case 10:return et=ft.next(),[3,1];case 11:return[3,14];case 12:return at=Et.sent(),At={error:at},[3,14];case 13:try{et&&!et.done&&(St=ft.return)&&St.call(ft)}finally{if(At)throw At.error}return[7];case 14:return[2]}})})}function d(e,o,a,g,_,j){return i(this,void 0,void 0,function(){var $,ft;return u(this,function(et){switch(et.label){case 0:return $=e.textContent||"",ft=function(lt,at){var At=l(at).slice(0);return s(s([],l(lt),!1),[NaN],!1).findIndex(function(St,Et){return At[Et]!==St})}($,a),[4,h(e,s(s([],l(v($,o,ft)),!1),l(y(a,o,ft)),!1),g,_,j)];case 1:return et.sent(),[2]}})})}function p(e){return i(this,void 0,void 0,function(){return u(this,function(o){switch(o.label){case 0:return[4,new Promise(function(a){return setTimeout(a,e)})];case 1:return o.sent(),[2]}})})}function h(e,o,a,g,_){return i(this,void 0,void 0,function(){var j,$,ft,et,lt,at,At,St,Et,yt,_t,mt,ot;return u(this,function(it){switch(it.label){case 0:if(j=o,_){for($=0,ft=1;ft<o.length;ft++)if(et=l([o[ft-1],o[ft]],2),lt=et[0],(at=et[1]).length>lt.length||at===""){$=ft;break}j=o.slice($,o.length)}it.label=1;case 1:it.trys.push([1,6,7,8]),At=c(function(ct){var pt,rt,dt,xt,vt,ht,kt;return u(this,function(wt){switch(wt.label){case 0:pt=function(Nt){return u(this,function(jt){switch(jt.label){case 0:return[4,{op:function(Pt){return requestAnimationFrame(function(){return Pt.textContent=Nt})},opCode:function(Pt){var Ut=Pt.textContent||"";return Nt===""||Ut.length>Nt.length?"DELETE":"WRITING"}}];case 1:return jt.sent(),[2]}})},wt.label=1;case 1:wt.trys.push([1,6,7,8]),rt=c(ct),dt=rt.next(),wt.label=2;case 2:return dt.done?[3,5]:(xt=dt.value,[5,pt(xt)]);case 3:wt.sent(),wt.label=4;case 4:return dt=rt.next(),[3,2];case 5:return[3,8];case 6:return vt=wt.sent(),ht={error:vt},[3,8];case 7:try{dt&&!dt.done&&(kt=rt.return)&&kt.call(rt)}finally{if(ht)throw ht.error}return[7];case 8:return[2]}})}(j)),St=At.next(),it.label=2;case 2:return St.done?[3,5]:(Et=St.value,yt=Et.opCode(e)==="WRITING"?a+a*(Math.random()-.5):g+g*(Math.random()-.5),Et.op(e),[4,p(yt)]);case 3:it.sent(),it.label=4;case 4:return St=At.next(),[3,2];case 5:return[3,8];case 6:return _t=it.sent(),mt={error:_t},[3,8];case 7:try{St&&!St.done&&(ot=At.return)&&ot.call(At)}finally{if(mt)throw mt.error}return[7];case 8:return[2]}})})}function y(e,o,a){var g,_;return a===void 0&&(a=0),u(this,function(j){switch(j.label){case 0:g=o(e),_=g.length,j.label=1;case 1:return a<_?[4,g.slice(0,++a).join("")]:[3,3];case 2:return j.sent(),[3,1];case 3:return[2]}})}function v(e,o,a){var g,_;return a===void 0&&(a=0),u(this,function(j){switch(j.label){case 0:g=o(e),_=g.length,j.label=1;case 1:return _>a?[4,g.slice(0,--_).join("")]:[3,3];case 2:return j.sent(),[3,1];case 3:return[2]}})}var b="index-module_type__E-SaG";(function(e,o){o===void 0&&(o={});var a=o.insertAt;if(e&&typeof document<"u"){var g=document.head||document.getElementsByTagName("head")[0],_=document.createElement("style");_.type="text/css",a==="top"&&g.firstChild?g.insertBefore(_,g.firstChild):g.appendChild(_),_.styleSheet?_.styleSheet.cssText=e:_.appendChild(document.createTextNode(e))}})(`.index-module_type__E-SaG::after {
  content: '|';
  animation: index-module_cursor__PQg0P 1.1s infinite step-start;
}

@keyframes index-module_cursor__PQg0P {
  50% {
    opacity: 0;
  }
}
`);var m=reactExports.memo(reactExports.forwardRef(function(e,o){var a=e.sequence,g=e.repeat,_=e.className,j=e.speed,$=j===void 0?40:j,ft=e.deletionSpeed,et=e.omitDeletionAnimation,lt=et!==void 0&&et,at=e.preRenderFirstString,At=at!==void 0&&at,St=e.wrapper,Et=St===void 0?"span":St,yt=e.splitter,_t=yt===void 0?function(Ht){return s([],l(Ht),!1)}:yt,mt=e.cursor,ot=mt===void 0||mt,it=e.style,ct=function(Ht,ln){var cn={};for(var Ct in Ht)Object.prototype.hasOwnProperty.call(Ht,Ct)&&ln.indexOf(Ct)<0&&(cn[Ct]=Ht[Ct]);if(Ht!=null&&typeof Object.getOwnPropertySymbols=="function"){var tt=0;for(Ct=Object.getOwnPropertySymbols(Ht);tt<Ct.length;tt++)ln.indexOf(Ct[tt])<0&&Object.prototype.propertyIsEnumerable.call(Ht,Ct[tt])&&(cn[Ct[tt]]=Ht[Ct[tt]])}return cn}(e,["sequence","repeat","className","speed","deletionSpeed","omitDeletionAnimation","preRenderFirstString","wrapper","splitter","cursor","style"]),pt=ct["aria-label"],rt=ct["aria-hidden"],dt=ct.role;ft||(ft=$);var xt=new Array(2).fill(40);[$,ft].forEach(function(Ht,ln){switch(typeof Ht){case"number":xt[ln]=Math.abs(Ht-100);break;case"object":var cn=Ht.type,Ct=Ht.value;if(typeof Ct!="number")break;cn==="keyStrokeDelayInMs"&&(xt[ln]=Ct)}});var vt,ht,kt,wt,Nt,jt,Pt=xt[0],Ut=xt[1],Xt=function(Ht,ln){ln===void 0&&(ln=null);var cn=reactExports.useRef(ln);return reactExports.useEffect(function(){Ht&&(typeof Ht=="function"?Ht(cn.current):Ht.current=cn.current)},[Ht]),cn}(o),tn=b;vt=_?"".concat(ot?tn+" ":"").concat(_):ot?tn:"",ht=reactExports.useRef(function(){var Ht,ln=a;g===1/0?Ht=f:typeof g=="number"&&(ln=Array(1+g).fill(a).flat());var cn=Ht?s(s([],l(ln),!1),[Ht],!1):s([],l(ln),!1);return f.apply(void 0,s([Xt.current,_t,Pt,Ut,lt],l(cn),!1)),function(){Xt.current}}),kt=reactExports.useRef(),wt=reactExports.useRef(!1),Nt=reactExports.useRef(!1),jt=l(reactExports.useState(0),2)[1],wt.current&&(Nt.current=!0),reactExports.useEffect(function(){return wt.current||(kt.current=ht.current(),wt.current=!0),jt(function(Ht){return Ht+1}),function(){Nt.current&&kt.current&&kt.current()}},[]);var Mt=Et,Wt=At?a.find(function(Ht){return typeof Ht=="string"})||"":null;return React.createElement(Mt,{"aria-hidden":rt,"aria-label":pt,role:dt,style:it,className:vt,children:pt?React.createElement("span",{"aria-hidden":"true",ref:Xt,children:Wt}):Wt,ref:pt?void 0:Xt})}),function(e,o){return!0});const LandingPage=()=>jsxRuntimeExports.jsx("div",{id:"landing-page",children:jsxRuntimeExports.jsx("div",{className:"container",children:jsxRuntimeExports.jsxs("div",{className:"content-box",children:[jsxRuntimeExports.jsxs("h1",{className:"landing-title",children:["Hey, I'm ",jsxRuntimeExports.jsx("span",{style:{color:"#42776a"},children:"Lucas"})," ","- A ",jsxRuntimeExports.jsx("span",{children:jsxRuntimeExports.jsx(m,{preRenderFirstString:!0,sequence:[1e3,"Software Developer",3e3,"Problem Solver",3e3,"Team Player",3e3],repeat:1/0})}),jsxRuntimeExports.jsx("br",{}),"From Edinburgh",jsxRuntimeExports.jsx("span",{style:{color:"#42776a"},children:"."})]}),jsxRuntimeExports.jsx("p",{children:"I am a highly motivated individual seeking the opportunity to start a full-time career where I can build upon the skills that I've gained and developed throughout my time at university."}),jsxRuntimeExports.jsx("a",{className:"email-link",href:"mailto:lukexgraham@gmail.com",children:"lukexgraham@gmail.com"})]})})}),projectBoston=""+new URL("project-boston-ac4025cc.png",import.meta.url).href,__vite_glob_0_0=Object.freeze(Object.defineProperty({__proto__:null,default:projectBoston},Symbol.toStringTag,{value:"Module"})),projectQuarry$1=""+new URL("project-quarry-2d991007.jpg",import.meta.url).href,__vite_glob_0_1=Object.freeze(Object.defineProperty({__proto__:null,default:projectQuarry$1},Symbol.toStringTag,{value:"Module"})),projectQuarry=""+new URL("project-quarry-16295b31.png",import.meta.url).href,__vite_glob_0_2=Object.freeze(Object.defineProperty({__proto__:null,default:projectQuarry},Symbol.toStringTag,{value:"Module"})),projectWatt=""+new URL("project-watt-e6424e3f.png",import.meta.url).href,__vite_glob_0_3=Object.freeze(Object.defineProperty({__proto__:null,default:projectWatt},Symbol.toStringTag,{value:"Module"})),projectWellbeing=""+new URL("project-wellbeing-bb737c9f.png",import.meta.url).href,__vite_glob_0_4=Object.freeze(Object.defineProperty({__proto__:null,default:projectWellbeing},Symbol.toStringTag,{value:"Module"})),wattMockup=""+new URL("watt-mockup-2c6003bd.jpg",import.meta.url).href,__vite_glob_0_5=Object.freeze(Object.defineProperty({__proto__:null,default:wattMockup},Symbol.toStringTag,{value:"Module"})),getAssetSrc$1=e=>{if(!e)return;const o=`/src/assets/images/${e}`;return Object.assign({"/src/assets/images/project-boston.png":__vite_glob_0_0,"/src/assets/images/project-quarry.jpg":__vite_glob_0_1,"/src/assets/images/project-quarry.png":__vite_glob_0_2,"/src/assets/images/project-watt.png":__vite_glob_0_3,"/src/assets/images/project-wellbeing.png":__vite_glob_0_4,"/src/assets/images/watt-mockup.jpg":__vite_glob_0_5})[o].default},ProjectCard=({project:e,toggleModal:o})=>jsxRuntimeExports.jsx("div",{className:"card-container",children:jsxRuntimeExports.jsxs("div",{className:"project",onClick:()=>{o(e)},children:[jsxRuntimeExports.jsx("div",{className:"image",children:jsxRuntimeExports.jsx("img",{src:getAssetSrc$1(e.img),alt:e.title,srcSet:"",style:e.noBoxShadow?{boxShadow:"none"}:null})}),jsxRuntimeExports.jsx("div",{className:"image-overlay",children:jsxRuntimeExports.jsxs("div",{className:"image-overlay-text",children:[jsxRuntimeExports.jsx("p",{className:"project-title",children:e.title}),jsxRuntimeExports.jsx("p",{className:"project-subheading",children:e.tools})]})})]})}),projects=[{title:"Deep Learning Honours Project",src:"https://www.techdonut.co.uk/sites/default/files/styles/landing_pages_lists/public/what-is-screen-resolution_1042807015.jpg?itok=WCoZxuoC",tools:"Python, PyTorch, Docker",date:"September 2022 - March 2023",desc:["Researched and Developed a quarry vehicle detection solution utilising satellite imagery and a deep learning object detection algorithm","Gathered, labeled and processed a bespoke dataset of satellite imagery","Developed and fine-tuned a CNN object detector to accurately identify vehicles in real-time","Worked towards defined deadlines to give progress reports and final project presentation"],img:"project-quarry.jpg"},{title:"Boston Railway Pathfinder",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQdinQY2U9pKk6jqlWd8HR7EwCeKx5aOlR8VUxiLKWgkyqQ5oGlB_ftkGXntNkJpuA0lG8&usqp=CAU",tools:"Java, JavaFX",date:"February 2022 - April 2022",desc:["Developed an interactive path finder for navigating the Boston railway network","Powered by an A-star algorithm considering cost of travel time and line switching","Built an intuitive UI-based desktop app using JavaFX to interface the backend in a decoupled architecture style","Automated unit testing of the app using JUnit"],img:"project-boston.png"},{title:"Wellbeing Mobile Web App",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQdinQY2U9pKk6jqlWd8HR7EwCeKx5aOlR8VUxiLKWgkyqQ5oGlB_ftkGXntNkJpuA0lG8&usqp=CAU",tools:"HTML/ CSS, Javascript, PHP, MySQL",date:"February 2022 – March 2022",desc:["Worked with peers to design and develop a mobile-focused web application comprised of a variety of mini games and puzzles aimed to stimulate the brain in a fun and interactive manner","Employed the use of device geolocation sensors in game functionality to increase user immersion","Implemented server-side leaderboard functionality and browser cookies allowing users to compare scores amongst others and themselves","Utilised Git for version control and collaboration during development, allowing streamlined implementation of individual members’ contributions"],img:"project-wellbeing.png",noBoxShadow:!0},{title:"Watt? A Social Fitness Web App",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQdinQY2U9pKk6jqlWd8HR7EwCeKx5aOlR8VUxiLKWgkyqQ5oGlB_ftkGXntNkJpuA0lG8&usqp=CAU",tools:"React, Node.js, Postgresql",github:"https://github.com/lukexgraham/watt",website:"https://lukegraham.co.uk",date:"October 2023 – November 2023",desc:["Designed and developed a fullstack webapp for users to post and share running and cycling activities","Developed a dynamic SPA frontend in React with a focus on responsiveness and user experience","Implemented a robust backend using Express and Node.js, incorporating RESTful APIs to facilitate seamless interaction with the frontend, DB and external APIs","Integrated a PostgreSQL database to store and manage user and application data"],img:"project-watt.png"}],FeaturedWork=({toggleModal:e})=>jsxRuntimeExports.jsx("div",{id:"featured-work",children:jsxRuntimeExports.jsxs("div",{className:"container",children:[jsxRuntimeExports.jsxs("h2",{className:"section-title",children:["Featured Work",jsxRuntimeExports.jsx("span",{style:{color:"#42776a"},children:"."})]}),jsxRuntimeExports.jsxs("div",{className:"card-row",children:[jsxRuntimeExports.jsx(ProjectCard,{project:projects[0],toggleModal:e}),jsxRuntimeExports.jsx(ProjectCard,{project:projects[1],toggleModal:e})]}),jsxRuntimeExports.jsxs("div",{className:"card-row",children:[jsxRuntimeExports.jsx(ProjectCard,{project:projects[2],toggleModal:e}),jsxRuntimeExports.jsx(ProjectCard,{project:projects[3],toggleModal:e})]})]})});var DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=React.createContext&&React.createContext(DefaultContext),__assign=globalThis&&globalThis.__assign||function(){return __assign=Object.assign||function(e){for(var o,a=1,g=arguments.length;a<g;a++){o=arguments[a];for(var _ in o)Object.prototype.hasOwnProperty.call(o,_)&&(e[_]=o[_])}return e},__assign.apply(this,arguments)},__rest$2=globalThis&&globalThis.__rest||function(e,o){var a={};for(var g in e)Object.prototype.hasOwnProperty.call(e,g)&&o.indexOf(g)<0&&(a[g]=e[g]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var _=0,g=Object.getOwnPropertySymbols(e);_<g.length;_++)o.indexOf(g[_])<0&&Object.prototype.propertyIsEnumerable.call(e,g[_])&&(a[g[_]]=e[g[_]]);return a};function Tree2Element(e){return e&&e.map(function(o,a){return React.createElement(o.tag,__assign({key:a},o.attr),Tree2Element(o.child))})}function GenIcon(e){return function(o){return React.createElement(IconBase,__assign({attr:__assign({},e.attr)},o),Tree2Element(e.child))}}function IconBase(e){var o=function(a){var g=e.attr,_=e.size,j=e.title,$=__rest$2(e,["attr","size","title"]),ft=_||a.size||"1em",et;return a.className&&(et=a.className),e.className&&(et=(et?et+" ":"")+e.className),React.createElement("svg",__assign({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},a.attr,g,$,{className:et,style:__assign(__assign({color:e.color||a.color},a.style),e.style),height:ft,width:ft,xmlns:"http://www.w3.org/2000/svg"}),j&&React.createElement("title",null,j),e.children)};return IconContext!==void 0?React.createElement(IconContext.Consumer,null,function(a){return o(a)}):o(DefaultContext)}function AiFillGithub(e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M511.6 76.3C264.3 76.2 64 276.4 64 523.5 64 718.9 189.3 885 363.8 946c23.5 5.9 19.9-10.8 19.9-22.2v-77.5c-135.7 15.9-141.2-73.9-150.3-88.9C215 726 171.5 718 184.5 703c30.9-15.9 62.4 4 98.9 57.9 26.4 39.1 77.9 32.5 104 26 5.7-23.5 17.9-44.5 34.7-60.8-140.6-25.2-199.2-111-199.2-213 0-49.5 16.3-95 48.3-131.7-20.4-60.5 1.9-112.3 4.9-120 58.1-5.2 118.5 41.6 123.2 45.3 33-8.9 70.7-13.6 112.9-13.6 42.4 0 80.2 4.9 113.5 13.9 11.3-8.6 67.3-48.8 121.3-43.9 2.9 7.7 24.7 58.3 5.5 118 32.4 36.8 48.9 82.7 48.9 132.3 0 102.2-59 188.1-200 212.9a127.5 127.5 0 0 1 38.1 91v112.5c.8 9 0 17.9 15 17.9 177.1-59.7 304.6-227 304.6-424.1 0-247.2-200.4-447.3-447.5-447.3z"}}]})(e)}function AiFillLinkedin(e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zM349.3 793.7H230.6V411.9h118.7v381.8zm-59.3-434a68.8 68.8 0 1 1 68.8-68.8c-.1 38-30.9 68.8-68.8 68.8zm503.7 434H675.1V608c0-44.3-.8-101.2-61.7-101.2-61.7 0-71.2 48.2-71.2 98v188.9H423.7V411.9h113.8v52.2h1.6c15.8-30 54.5-61.7 112.3-61.7 120.2 0 142.3 79.1 142.3 181.9v209.4z"}}]})(e)}function AiOutlineClose(e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 1024 1024",fill:"currentColor",fillRule:"evenodd"},child:[{tag:"path",attr:{d:"M799.855 166.312c.023.007.043.018.084.059l57.69 57.69c.041.041.052.06.059.084a.118.118 0 0 1 0 .069c-.007.023-.018.042-.059.083L569.926 512l287.703 287.703c.041.04.052.06.059.083a.118.118 0 0 1 0 .07c-.007.022-.018.042-.059.083l-57.69 57.69c-.041.041-.06.052-.084.059a.118.118 0 0 1-.069 0c-.023-.007-.042-.018-.083-.059L512 569.926 224.297 857.629c-.04.041-.06.052-.083.059a.118.118 0 0 1-.07 0c-.022-.007-.042-.018-.083-.059l-57.69-57.69c-.041-.041-.052-.06-.059-.084a.118.118 0 0 1 0-.069c.007-.023.018-.042.059-.083L454.073 512 166.371 224.297c-.041-.04-.052-.06-.059-.083a.118.118 0 0 1 0-.07c.007-.022.018-.042.059-.083l57.69-57.69c.041-.041.06-.052.084-.059a.118.118 0 0 1 .069 0c.023.007.042.018.083.059L512 454.073l287.703-287.702c.04-.041.06-.052.083-.059a.118.118 0 0 1 .07 0Z"}}]})(e)}function AiOutlineDownload(e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M505.7 661a8 8 0 0 0 12.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]})(e)}function AiOutlineMail(e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0 0 68.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"}}]})(e)}const getAssetSrc=e=>{if(!e)return;const o=`/src/assets/images/${e}`;return Object.assign({"/src/assets/images/project-boston.png":__vite_glob_0_0,"/src/assets/images/project-quarry.jpg":__vite_glob_0_1,"/src/assets/images/project-quarry.png":__vite_glob_0_2,"/src/assets/images/project-watt.png":__vite_glob_0_3,"/src/assets/images/project-wellbeing.png":__vite_glob_0_4,"/src/assets/images/watt-mockup.jpg":__vite_glob_0_5})[o].default},Modal=({handleClose:e,show:o,project:a})=>{const g=o?"display-block":"display-none";return jsxRuntimeExports.jsxs("div",{id:"modal",className:g,children:[jsxRuntimeExports.jsx("div",{className:"cover",onClick:e}),jsxRuntimeExports.jsxs("div",{className:"modal-main",children:[jsxRuntimeExports.jsx("div",{className:"popup-buttons",children:jsxRuntimeExports.jsx("span",{className:"popup-button",onClick:e,children:jsxRuntimeExports.jsx(AiOutlineClose,{size:"24px"})})}),jsxRuntimeExports.jsx("div",{className:"modal-top",children:jsxRuntimeExports.jsx("div",{className:"modal-image",children:jsxRuntimeExports.jsx("img",{src:getAssetSrc(a.img),alt:a.title})})}),jsxRuntimeExports.jsxs("div",{className:"modal-bottom",children:[jsxRuntimeExports.jsx("p",{className:"project-title",children:a.title}),a.github?jsxRuntimeExports.jsx("p",{className:"project-github",children:jsxRuntimeExports.jsx("a",{href:a.github,children:jsxRuntimeExports.jsx(AiFillGithub,{size:30})})}):null,jsxRuntimeExports.jsx("p",{className:"project-subheading",children:a.tools}),a.website?jsxRuntimeExports.jsx("a",{href:a.website,children:"lukexxgraham.co.uk"}):null,jsxRuntimeExports.jsx("ul",{children:a.desc.map(_=>jsxRuntimeExports.jsx("li",{children:_}))})]})]})]})},Footer=()=>jsxRuntimeExports.jsx("footer",{children:jsxRuntimeExports.jsxs("div",{className:"container",children:[jsxRuntimeExports.jsx("div",{className:"footer-social",children:jsxRuntimeExports.jsxs(IconContext.Provider,{value:{size:36},children:[jsxRuntimeExports.jsx("a",{href:"https://github.com/lukexgraham",children:jsxRuntimeExports.jsx(AiFillGithub,{})}),jsxRuntimeExports.jsx("a",{href:"https://www.linkedin.com/in/lucas-graham-677228261/",children:jsxRuntimeExports.jsx(AiFillLinkedin,{})}),jsxRuntimeExports.jsx("a",{href:"mailto:lukexgraham@gmail.com",children:jsxRuntimeExports.jsx(AiOutlineMail,{})})]})}),jsxRuntimeExports.jsx("div",{className:"footer-copyright",children:jsxRuntimeExports.jsx("span",{children:"© 2023, Lucas Graham"})})]})});function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf$1={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(o,a){module.exports=o.pdfjsLib=a()})(globalThis,()=>(()=>{var __webpack_modules__=[,(e,o)=>{var $n;Object.defineProperty(o,"__esModule",{value:!0}),o.VerbosityLevel=o.Util=o.UnknownErrorException=o.UnexpectedResponseException=o.TextRenderingMode=o.RenderingIntentFlag=o.PromiseCapability=o.PermissionFlag=o.PasswordResponses=o.PasswordException=o.PageActionEventType=o.OPS=o.MissingPDFException=o.MAX_IMAGE_SIZE_TO_CACHE=o.LINE_FACTOR=o.LINE_DESCENT_FACTOR=o.InvalidPDFException=o.ImageKind=o.IDENTITY_MATRIX=o.FormatError=o.FeatureTest=o.FONT_IDENTITY_MATRIX=o.DocumentActionEventType=o.CMapCompressionType=o.BaseException=o.BASELINE_FACTOR=o.AnnotationType=o.AnnotationReplyType=o.AnnotationPrefix=o.AnnotationMode=o.AnnotationFlag=o.AnnotationFieldFlag=o.AnnotationEditorType=o.AnnotationEditorPrefix=o.AnnotationEditorParamsType=o.AnnotationBorderStyleType=o.AnnotationActionEventType=o.AbortException=void 0,o.assert=Wt,o.bytesToString=Ot,o.createValidAbsoluteUrl=ln,o.getModificationDate=_n,o.getUuid=In,o.getVerbosityLevel=Ut,o.info=Xt,o.isArrayBuffer=an,o.isArrayEqual=vn,o.isNodeJS=void 0,o.normalizeUnicode=jn,o.objectFromMap=rn,o.objectSize=Kt,o.setVerbosityLevel=Pt,o.shadow=cn,o.string32=qt,o.stringToBytes=Jt,o.stringToPDFString=un,o.stringToUTF8String=Qt,o.unreachable=Mt,o.utf8StringToString=Zt,o.warn=tn;const a=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");o.isNodeJS=a;const g=[1,0,0,1,0,0];o.IDENTITY_MATRIX=g;const _=[.001,0,0,.001,0,0];o.FONT_IDENTITY_MATRIX=_;const j=1e7;o.MAX_IMAGE_SIZE_TO_CACHE=j;const $=1.35;o.LINE_FACTOR=$;const ft=.35;o.LINE_DESCENT_FACTOR=ft;const et=ft/$;o.BASELINE_FACTOR=et;const lt={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};o.RenderingIntentFlag=lt;const at={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};o.AnnotationMode=at;const At="pdfjs_internal_editor_";o.AnnotationEditorPrefix=At;const St={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};o.AnnotationEditorType=St;const Et={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};o.AnnotationEditorParamsType=Et;const yt={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};o.PermissionFlag=yt;const _t={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};o.TextRenderingMode=_t;const mt={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};o.ImageKind=mt;const ot={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};o.AnnotationType=ot;const it={GROUP:"Group",REPLY:"R"};o.AnnotationReplyType=it;const ct={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};o.AnnotationFlag=ct;const pt={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};o.AnnotationFieldFlag=pt;const rt={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};o.AnnotationBorderStyleType=rt;const dt={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};o.AnnotationActionEventType=dt;const xt={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};o.DocumentActionEventType=xt;const vt={O:"PageOpen",C:"PageClose"};o.PageActionEventType=vt;const ht={ERRORS:0,WARNINGS:1,INFOS:5};o.VerbosityLevel=ht;const kt={NONE:0,BINARY:1};o.CMapCompressionType=kt;const wt={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};o.OPS=wt;const Nt={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};o.PasswordResponses=Nt;let jt=ht.WARNINGS;function Pt(on){Number.isInteger(on)&&(jt=on)}function Ut(){return jt}function Xt(on){jt>=ht.INFOS&&console.log(`Info: ${on}`)}function tn(on){jt>=ht.WARNINGS&&console.log(`Warning: ${on}`)}function Mt(on){throw new Error(on)}function Wt(on,Yt){on||Mt(Yt)}function Ht(on){switch(on==null?void 0:on.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function ln(on,Yt=null,zt=null){if(!on)return null;try{if(zt&&typeof on=="string"){if(zt.addDefaultProtocol&&on.startsWith("www.")){const gn=on.match(/\./g);(gn==null?void 0:gn.length)>=2&&(on=`http://${on}`)}if(zt.tryConvertEncoding)try{on=Qt(on)}catch{}}const fn=Yt?new URL(on,Yt):new URL(on);if(Ht(fn))return fn}catch{}return null}function cn(on,Yt,zt,fn=!1){return Object.defineProperty(on,Yt,{value:zt,enumerable:!fn,configurable:!0,writable:!1}),zt}const Ct=function(){function Yt(zt,fn){this.constructor===Yt&&Mt("Cannot initialize BaseException."),this.message=zt,this.name=fn}return Yt.prototype=new Error,Yt.constructor=Yt,Yt}();o.BaseException=Ct;class tt extends Ct{constructor(Yt,zt){super(Yt,"PasswordException"),this.code=zt}}o.PasswordException=tt;class ut extends Ct{constructor(Yt,zt){super(Yt,"UnknownErrorException"),this.details=zt}}o.UnknownErrorException=ut;class st extends Ct{constructor(Yt){super(Yt,"InvalidPDFException")}}o.InvalidPDFException=st;class gt extends Ct{constructor(Yt){super(Yt,"MissingPDFException")}}o.MissingPDFException=gt;class bt extends Ct{constructor(Yt,zt){super(Yt,"UnexpectedResponseException"),this.status=zt}}o.UnexpectedResponseException=bt;class Rt extends Ct{constructor(Yt){super(Yt,"FormatError")}}o.FormatError=Rt;class Ft extends Ct{constructor(Yt){super(Yt,"AbortException")}}o.AbortException=Ft;function Ot(on){(typeof on!="object"||(on==null?void 0:on.length)===void 0)&&Mt("Invalid argument for bytesToString");const Yt=on.length,zt=8192;if(Yt<zt)return String.fromCharCode.apply(null,on);const fn=[];for(let gn=0;gn<Yt;gn+=zt){const Xn=Math.min(gn+zt,Yt),Gn=on.subarray(gn,Xn);fn.push(String.fromCharCode.apply(null,Gn))}return fn.join("")}function Jt(on){typeof on!="string"&&Mt("Invalid argument for stringToBytes");const Yt=on.length,zt=new Uint8Array(Yt);for(let fn=0;fn<Yt;++fn)zt[fn]=on.charCodeAt(fn)&255;return zt}function qt(on){return String.fromCharCode(on>>24&255,on>>16&255,on>>8&255,on&255)}function Kt(on){return Object.keys(on).length}function rn(on){const Yt=Object.create(null);for(const[zt,fn]of on)Yt[zt]=fn;return Yt}function dn(){const on=new Uint8Array(4);return on[0]=1,new Uint32Array(on.buffer,0,1)[0]===1}function sn(){try{return new Function(""),!0}catch{return!1}}class bn{static get isLittleEndian(){return cn(this,"isLittleEndian",dn())}static get isEvalSupported(){return cn(this,"isEvalSupported",sn())}static get isOffscreenCanvasSupported(){return cn(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?cn(this,"platform",{isWin:!1,isMac:!1}):cn(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var Yt,zt;return cn(this,"isCSSRoundSupported",(zt=(Yt=globalThis.CSS)==null?void 0:Yt.supports)==null?void 0:zt.call(Yt,"width: round(1.5px, 1px)"))}}o.FeatureTest=bn;const Mn=[...Array(256).keys()].map(on=>on.toString(16).padStart(2,"0"));class mn{static makeHexColor(Yt,zt,fn){return`#${Mn[Yt]}${Mn[zt]}${Mn[fn]}`}static scaleMinMax(Yt,zt){let fn;Yt[0]?(Yt[0]<0&&(fn=zt[0],zt[0]=zt[1],zt[1]=fn),zt[0]*=Yt[0],zt[1]*=Yt[0],Yt[3]<0&&(fn=zt[2],zt[2]=zt[3],zt[3]=fn),zt[2]*=Yt[3],zt[3]*=Yt[3]):(fn=zt[0],zt[0]=zt[2],zt[2]=fn,fn=zt[1],zt[1]=zt[3],zt[3]=fn,Yt[1]<0&&(fn=zt[2],zt[2]=zt[3],zt[3]=fn),zt[2]*=Yt[1],zt[3]*=Yt[1],Yt[2]<0&&(fn=zt[0],zt[0]=zt[1],zt[1]=fn),zt[0]*=Yt[2],zt[1]*=Yt[2]),zt[0]+=Yt[4],zt[1]+=Yt[4],zt[2]+=Yt[5],zt[3]+=Yt[5]}static transform(Yt,zt){return[Yt[0]*zt[0]+Yt[2]*zt[1],Yt[1]*zt[0]+Yt[3]*zt[1],Yt[0]*zt[2]+Yt[2]*zt[3],Yt[1]*zt[2]+Yt[3]*zt[3],Yt[0]*zt[4]+Yt[2]*zt[5]+Yt[4],Yt[1]*zt[4]+Yt[3]*zt[5]+Yt[5]]}static applyTransform(Yt,zt){const fn=Yt[0]*zt[0]+Yt[1]*zt[2]+zt[4],gn=Yt[0]*zt[1]+Yt[1]*zt[3]+zt[5];return[fn,gn]}static applyInverseTransform(Yt,zt){const fn=zt[0]*zt[3]-zt[1]*zt[2],gn=(Yt[0]*zt[3]-Yt[1]*zt[2]+zt[2]*zt[5]-zt[4]*zt[3])/fn,Xn=(-Yt[0]*zt[1]+Yt[1]*zt[0]+zt[4]*zt[1]-zt[5]*zt[0])/fn;return[gn,Xn]}static getAxialAlignedBoundingBox(Yt,zt){const fn=this.applyTransform(Yt,zt),gn=this.applyTransform(Yt.slice(2,4),zt),Xn=this.applyTransform([Yt[0],Yt[3]],zt),Gn=this.applyTransform([Yt[2],Yt[1]],zt);return[Math.min(fn[0],gn[0],Xn[0],Gn[0]),Math.min(fn[1],gn[1],Xn[1],Gn[1]),Math.max(fn[0],gn[0],Xn[0],Gn[0]),Math.max(fn[1],gn[1],Xn[1],Gn[1])]}static inverseTransform(Yt){const zt=Yt[0]*Yt[3]-Yt[1]*Yt[2];return[Yt[3]/zt,-Yt[1]/zt,-Yt[2]/zt,Yt[0]/zt,(Yt[2]*Yt[5]-Yt[4]*Yt[3])/zt,(Yt[4]*Yt[1]-Yt[5]*Yt[0])/zt]}static singularValueDecompose2dScale(Yt){const zt=[Yt[0],Yt[2],Yt[1],Yt[3]],fn=Yt[0]*zt[0]+Yt[1]*zt[2],gn=Yt[0]*zt[1]+Yt[1]*zt[3],Xn=Yt[2]*zt[0]+Yt[3]*zt[2],Gn=Yt[2]*zt[1]+Yt[3]*zt[3],Gt=(fn+Gn)/2,yn=Math.sqrt((fn+Gn)**2-4*(fn*Gn-Xn*gn))/2,Pn=Gt+yn||1,En=Gt-yn||1;return[Math.sqrt(Pn),Math.sqrt(En)]}static normalizeRect(Yt){const zt=Yt.slice(0);return Yt[0]>Yt[2]&&(zt[0]=Yt[2],zt[2]=Yt[0]),Yt[1]>Yt[3]&&(zt[1]=Yt[3],zt[3]=Yt[1]),zt}static intersect(Yt,zt){const fn=Math.max(Math.min(Yt[0],Yt[2]),Math.min(zt[0],zt[2])),gn=Math.min(Math.max(Yt[0],Yt[2]),Math.max(zt[0],zt[2]));if(fn>gn)return null;const Xn=Math.max(Math.min(Yt[1],Yt[3]),Math.min(zt[1],zt[3])),Gn=Math.min(Math.max(Yt[1],Yt[3]),Math.max(zt[1],zt[3]));return Xn>Gn?null:[fn,Xn,gn,Gn]}static bezierBoundingBox(Yt,zt,fn,gn,Xn,Gn,Gt,yn){const Pn=[],En=[[],[]];let Cn,Rn,Vn,pn,zn,Tn,Lt,nt;for(let Vt=0;Vt<2;++Vt){if(Vt===0?(Rn=6*Yt-12*fn+6*Xn,Cn=-3*Yt+9*fn-9*Xn+3*Gt,Vn=3*fn-3*Yt):(Rn=6*zt-12*gn+6*Gn,Cn=-3*zt+9*gn-9*Gn+3*yn,Vn=3*gn-3*zt),Math.abs(Cn)<1e-12){if(Math.abs(Rn)<1e-12)continue;pn=-Vn/Rn,0<pn&&pn<1&&Pn.push(pn);continue}Lt=Rn*Rn-4*Vn*Cn,nt=Math.sqrt(Lt),!(Lt<0)&&(zn=(-Rn+nt)/(2*Cn),0<zn&&zn<1&&Pn.push(zn),Tn=(-Rn-nt)/(2*Cn),0<Tn&&Tn<1&&Pn.push(Tn))}let Tt=Pn.length,Dt;const $t=Tt;for(;Tt--;)pn=Pn[Tt],Dt=1-pn,En[0][Tt]=Dt*Dt*Dt*Yt+3*Dt*Dt*pn*fn+3*Dt*pn*pn*Xn+pn*pn*pn*Gt,En[1][Tt]=Dt*Dt*Dt*zt+3*Dt*Dt*pn*gn+3*Dt*pn*pn*Gn+pn*pn*pn*yn;return En[0][$t]=Yt,En[1][$t]=zt,En[0][$t+1]=Gt,En[1][$t+1]=yn,En[0].length=En[1].length=$t+2,[Math.min(...En[0]),Math.min(...En[1]),Math.max(...En[0]),Math.max(...En[1])]}}o.Util=mn;const kn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function un(on){if(on[0]>="ï"){let zt;if(on[0]==="þ"&&on[1]==="ÿ"?zt="utf-16be":on[0]==="ÿ"&&on[1]==="þ"?zt="utf-16le":on[0]==="ï"&&on[1]==="»"&&on[2]==="¿"&&(zt="utf-8"),zt)try{const fn=new TextDecoder(zt,{fatal:!0}),gn=Jt(on);return fn.decode(gn)}catch(fn){tn(`stringToPDFString: "${fn}".`)}}const Yt=[];for(let zt=0,fn=on.length;zt<fn;zt++){const gn=kn[on.charCodeAt(zt)];Yt.push(gn?String.fromCharCode(gn):on.charAt(zt))}return Yt.join("")}function Qt(on){return decodeURIComponent(escape(on))}function Zt(on){return unescape(encodeURIComponent(on))}function an(on){return typeof on=="object"&&(on==null?void 0:on.byteLength)!==void 0}function vn(on,Yt){if(on.length!==Yt.length)return!1;for(let zt=0,fn=on.length;zt<fn;zt++)if(on[zt]!==Yt[zt])return!1;return!0}function _n(on=new Date){return[on.getUTCFullYear().toString(),(on.getUTCMonth()+1).toString().padStart(2,"0"),on.getUTCDate().toString().padStart(2,"0"),on.getUTCHours().toString().padStart(2,"0"),on.getUTCMinutes().toString().padStart(2,"0"),on.getUTCSeconds().toString().padStart(2,"0")].join("")}class Fn{constructor(){It(this,$n,!1);this.promise=new Promise((Yt,zt)=>{this.resolve=fn=>{en(this,$n,!0),Yt(fn)},this.reject=fn=>{en(this,$n,!0),zt(fn)}})}get settled(){return _e(this,$n)}}$n=new WeakMap,o.PromiseCapability=Fn;let Nn=null,Ln=null;function jn(on){return Nn||(Nn=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Ln=new Map([["ﬅ","ſt"]])),on.replaceAll(Nn,(Yt,zt,fn)=>zt?zt.normalize("NFKC"):Ln.get(fn))}function In(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const on=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(on);else for(let Yt=0;Yt<32;Yt++)on[Yt]=Math.floor(Math.random()*255);return Ot(on)}const Dn="pdfjs_internal_id_";o.AnnotationPrefix=Dn},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var e,a,g,_,rr,$,mr,et,lt,at,At,St,Et,yt,_t,mt,yr,it,ct,Mr,rt,dt;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(vt){if(typeof vt=="string"||vt instanceof URL?vt={url:vt}:(0,_util.isArrayBuffer)(vt)&&(vt={data:vt}),typeof vt!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!vt.url&&!vt.data&&!vt.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const ht=new PDFDocumentLoadingTask,{docId:kt}=ht,wt=vt.url?getUrlProp(vt.url):null,Nt=vt.data?getDataProp(vt.data):null,jt=vt.httpHeaders||null,Pt=vt.withCredentials===!0,Ut=vt.password??null,Xt=vt.range instanceof PDFDataRangeTransport?vt.range:null,tn=Number.isInteger(vt.rangeChunkSize)&&vt.rangeChunkSize>0?vt.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let Mt=vt.worker instanceof PDFWorker?vt.worker:null;const Wt=vt.verbosity,Ht=typeof vt.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(vt.docBaseUrl)?vt.docBaseUrl:null,ln=typeof vt.cMapUrl=="string"?vt.cMapUrl:null,cn=vt.cMapPacked!==!1,Ct=vt.CMapReaderFactory||DefaultCMapReaderFactory,tt=typeof vt.standardFontDataUrl=="string"?vt.standardFontDataUrl:null,ut=vt.StandardFontDataFactory||DefaultStandardFontDataFactory,st=vt.stopAtErrors!==!0,gt=Number.isInteger(vt.maxImageSize)&&vt.maxImageSize>-1?vt.maxImageSize:-1,bt=vt.isEvalSupported!==!1,Rt=typeof vt.isOffscreenCanvasSupported=="boolean"?vt.isOffscreenCanvasSupported:!_util.isNodeJS,Ft=Number.isInteger(vt.canvasMaxAreaInBytes)?vt.canvasMaxAreaInBytes:-1,Ot=typeof vt.disableFontFace=="boolean"?vt.disableFontFace:_util.isNodeJS,Jt=vt.fontExtraProperties===!0,qt=vt.enableXfa===!0,Kt=vt.ownerDocument||globalThis.document,rn=vt.disableRange===!0,dn=vt.disableStream===!0,sn=vt.disableAutoFetch===!0,bn=vt.pdfBug===!0,Mn=Xt?Xt.length:vt.length??NaN,mn=typeof vt.useSystemFonts=="boolean"?vt.useSystemFonts:!_util.isNodeJS&&!Ot,kn=typeof vt.useWorkerFetch=="boolean"?vt.useWorkerFetch:Ct===_display_utils.DOMCMapReaderFactory&&ut===_display_utils.DOMStandardFontDataFactory&&ln&&tt&&(0,_display_utils.isValidFetchUrl)(ln,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(tt,document.baseURI),un=vt.canvasFactory||new DefaultCanvasFactory({ownerDocument:Kt}),Qt=vt.filterFactory||new DefaultFilterFactory({docId:kt,ownerDocument:Kt}),Zt=null;(0,_util.setVerbosityLevel)(Wt);const an={canvasFactory:un,filterFactory:Qt};if(kn||(an.cMapReaderFactory=new Ct({baseUrl:ln,isCompressed:cn}),an.standardFontDataFactory=new ut({baseUrl:tt})),!Mt){const Fn={verbosity:Wt,port:_worker_options.GlobalWorkerOptions.workerPort};Mt=Fn.port?PDFWorker.fromPort(Fn):new PDFWorker(Fn),ht._worker=Mt}const vn={docId:kt,apiVersion:"3.11.174",data:Nt,password:Ut,disableAutoFetch:sn,rangeChunkSize:tn,length:Mn,docBaseUrl:Ht,enableXfa:qt,evaluatorOptions:{maxImageSize:gt,disableFontFace:Ot,ignoreErrors:st,isEvalSupported:bt,isOffscreenCanvasSupported:Rt,canvasMaxAreaInBytes:Ft,fontExtraProperties:Jt,useSystemFonts:mn,cMapUrl:kn?ln:null,standardFontDataUrl:kn?tt:null}},_n={ignoreErrors:st,isEvalSupported:bt,disableFontFace:Ot,fontExtraProperties:Jt,enableXfa:qt,ownerDocument:Kt,disableAutoFetch:sn,pdfBug:bn,styleElement:Zt};return Mt.promise.then(function(){if(ht.destroyed)throw new Error("Loading aborted");const Fn=_fetchDocument(Mt,vn),Nn=new Promise(function(Ln){let jn;Xt?jn=new _transport_stream.PDFDataTransportStream({length:Mn,initialData:Xt.initialData,progressiveDone:Xt.progressiveDone,contentDispositionFilename:Xt.contentDispositionFilename,disableRange:rn,disableStream:dn},Xt):Nt||(jn=(Dn=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(Dn):(0,_display_utils.isValidFetchUrl)(Dn.url)?new _displayFetch_stream.PDFFetchStream(Dn):new _displayNetwork.PDFNetworkStream(Dn))({url:wt,length:Mn,httpHeaders:jt,withCredentials:Pt,rangeChunkSize:tn,disableRange:rn,disableStream:dn})),Ln(jn)});return Promise.all([Fn,Nn]).then(function([Ln,jn]){if(ht.destroyed)throw new Error("Loading aborted");const In=new _message_handler.MessageHandler(kt,Ln,Mt.port),Dn=new WorkerTransport(In,ht,jn,_n,an);ht._transport=Dn,In.send("Ready",null)})}).catch(ht._capability.reject),ht}async function _fetchDocument(vt,ht){if(vt.destroyed)throw new Error("Worker was destroyed");const kt=await vt.messageHandler.sendWithPromise("GetDocRequest",ht,ht.data?[ht.data.buffer]:null);if(vt.destroyed)throw new Error("Worker was destroyed");return kt}function getUrlProp(vt){if(vt instanceof URL)return vt.href;try{return new URL(vt,window.location).href}catch{if(_util.isNodeJS&&typeof vt=="string")return vt}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(vt){if(_util.isNodeJS&&typeof Buffer<"u"&&vt instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(vt instanceof Uint8Array&&vt.byteLength===vt.buffer.byteLength)return vt;if(typeof vt=="string")return(0,_util.stringToBytes)(vt);if(typeof vt=="object"&&!isNaN(vt==null?void 0:vt.length)||(0,_util.isArrayBuffer)(vt))return new Uint8Array(vt);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const o=class o{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${lr(o,e)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var ht,kt,wt;this.destroyed=!0;try{(ht=this._worker)!=null&&ht.port&&(this._worker._pendingDestroy=!0),await((kt=this._transport)==null?void 0:kt.destroy())}catch(Nt){throw(wt=this._worker)!=null&&wt.port&&delete this._worker._pendingDestroy,Nt}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};e=new WeakMap,It(o,e,0);let PDFDocumentLoadingTask=o;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(ht,kt,wt=!1,Nt=null){this.length=ht,this.initialData=kt,this.progressiveDone=wt,this.contentDispositionFilename=Nt,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(ht){this._rangeListeners.push(ht)}addProgressListener(ht){this._progressListeners.push(ht)}addProgressiveReadListener(ht){this._progressiveReadListeners.push(ht)}addProgressiveDoneListener(ht){this._progressiveDoneListeners.push(ht)}onDataRange(ht,kt){for(const wt of this._rangeListeners)wt(ht,kt)}onDataProgress(ht,kt){this._readyCapability.promise.then(()=>{for(const wt of this._progressListeners)wt(ht,kt)})}onDataProgressiveRead(ht){this._readyCapability.promise.then(()=>{for(const kt of this._progressiveReadListeners)kt(ht)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const ht of this._progressiveDoneListeners)ht()})}transportReady(){this._readyCapability.resolve()}requestDataRange(ht,kt){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(ht,kt){this._pdfInfo=ht,this._transport=kt,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(wt=>{if(!wt)return wt;const Nt=[];for(const jt in wt)Nt.push(...wt[jt]);return Nt}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(ht){return this._transport.getPage(ht)}getPageIndex(ht){return this._transport.getPageIndex(ht)}getDestinations(){return this._transport.getDestinations()}getDestination(ht){return this._transport.getDestination(ht)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(ht=!1){return this._transport.startCleanup(ht||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(ht,kt,wt,Nt=!1){It(this,_);It(this,$);It(this,a,null);It(this,g,!1);this._pageIndex=ht,this._pageInfo=kt,this._transport=wt,this._stats=Nt?new _display_utils.StatTimer:null,this._pdfBug=Nt,this.commonObjs=wt.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:ht,rotation:kt=this.rotate,offsetX:wt=0,offsetY:Nt=0,dontFlip:jt=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:ht,rotation:kt,offsetX:wt,offsetY:Nt,dontFlip:jt})}getAnnotations({intent:ht="display"}={}){const kt=this._transport.getRenderingIntent(ht);return this._transport.getAnnotations(this._pageIndex,kt.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var ht;return((ht=this._transport._htmlForXfa)==null?void 0:ht.children[this._pageIndex])||null}render({canvasContext:ht,viewport:kt,intent:wt="display",annotationMode:Nt=_util.AnnotationMode.ENABLE,transform:jt=null,background:Pt=null,optionalContentConfigPromise:Ut=null,annotationCanvasMap:Xt=null,pageColors:tn=null,printAnnotationStorage:Mt=null}){var ut,st;(ut=this._stats)==null||ut.time("Overall");const Wt=this._transport.getRenderingIntent(wt,Nt,Mt);en(this,g,!1),Bt(this,$,mr).call(this),Ut||(Ut=this._transport.getOptionalContentConfig());let Ht=this._intentStates.get(Wt.cacheKey);Ht||(Ht=Object.create(null),this._intentStates.set(Wt.cacheKey,Ht)),Ht.streamReaderCancelTimeout&&(clearTimeout(Ht.streamReaderCancelTimeout),Ht.streamReaderCancelTimeout=null);const ln=!!(Wt.renderingIntent&_util.RenderingIntentFlag.PRINT);Ht.displayReadyCapability||(Ht.displayReadyCapability=new _util.PromiseCapability,Ht.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(st=this._stats)==null||st.time("Page Request"),this._pumpOperatorList(Wt));const cn=gt=>{var bt,Rt;Ht.renderTasks.delete(Ct),(this._maybeCleanupAfterRender||ln)&&en(this,g,!0),Bt(this,_,rr).call(this,!ln),gt?(Ct.capability.reject(gt),this._abortOperatorList({intentState:Ht,reason:gt instanceof Error?gt:new Error(gt)})):Ct.capability.resolve(),(bt=this._stats)==null||bt.timeEnd("Rendering"),(Rt=this._stats)==null||Rt.timeEnd("Overall")},Ct=new InternalRenderTask({callback:cn,params:{canvasContext:ht,viewport:kt,transform:jt,background:Pt},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Xt,operatorList:Ht.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!ln,pdfBug:this._pdfBug,pageColors:tn});(Ht.renderTasks||(Ht.renderTasks=new Set)).add(Ct);const tt=Ct.task;return Promise.all([Ht.displayReadyCapability.promise,Ut]).then(([gt,bt])=>{var Rt;if(this.destroyed){cn();return}(Rt=this._stats)==null||Rt.time("Rendering"),Ct.initializeGraphics({transparency:gt,optionalContentConfig:bt}),Ct.operatorListChanged()}).catch(cn),tt}getOperatorList({intent:ht="display",annotationMode:kt=_util.AnnotationMode.ENABLE,printAnnotationStorage:wt=null}={}){var Xt;function Nt(){Pt.operatorList.lastChunk&&(Pt.opListReadCapability.resolve(Pt.operatorList),Pt.renderTasks.delete(Ut))}const jt=this._transport.getRenderingIntent(ht,kt,wt,!0);let Pt=this._intentStates.get(jt.cacheKey);Pt||(Pt=Object.create(null),this._intentStates.set(jt.cacheKey,Pt));let Ut;return Pt.opListReadCapability||(Ut=Object.create(null),Ut.operatorListChanged=Nt,Pt.opListReadCapability=new _util.PromiseCapability,(Pt.renderTasks||(Pt.renderTasks=new Set)).add(Ut),Pt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Xt=this._stats)==null||Xt.time("Page Request"),this._pumpOperatorList(jt)),Pt.opListReadCapability.promise}streamTextContent({includeMarkedContent:ht=!1,disableNormalization:kt=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:ht===!0,disableNormalization:kt===!0},{highWaterMark:100,size(Nt){return Nt.items.length}})}getTextContent(ht={}){if(this._transport._htmlForXfa)return this.getXfa().then(wt=>_xfa_text.XfaText.textContent(wt));const kt=this.streamTextContent(ht);return new Promise(function(wt,Nt){function jt(){Pt.read().then(function({value:Xt,done:tn}){if(tn){wt(Ut);return}Object.assign(Ut.styles,Xt.styles),Ut.items.push(...Xt.items),jt()},Nt)}const Pt=kt.getReader(),Ut={items:[],styles:Object.create(null)};jt()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const ht=[];for(const kt of this._intentStates.values())if(this._abortOperatorList({intentState:kt,reason:new Error("Page was destroyed."),force:!0}),!kt.opListReadCapability)for(const wt of kt.renderTasks)ht.push(wt.completed),wt.cancel();return this.objs.clear(),en(this,g,!1),Bt(this,$,mr).call(this),Promise.all(ht)}cleanup(ht=!1){en(this,g,!0);const kt=Bt(this,_,rr).call(this,!1);return ht&&kt&&this._stats&&(this._stats=new _display_utils.StatTimer),kt}_startRenderPage(ht,kt){var Nt,jt;const wt=this._intentStates.get(kt);wt&&((Nt=this._stats)==null||Nt.timeEnd("Page Request"),(jt=wt.displayReadyCapability)==null||jt.resolve(ht))}_renderPageChunk(ht,kt){for(let wt=0,Nt=ht.length;wt<Nt;wt++)kt.operatorList.fnArray.push(ht.fnArray[wt]),kt.operatorList.argsArray.push(ht.argsArray[wt]);kt.operatorList.lastChunk=ht.lastChunk,kt.operatorList.separateAnnots=ht.separateAnnots;for(const wt of kt.renderTasks)wt.operatorListChanged();ht.lastChunk&&Bt(this,_,rr).call(this,!0)}_pumpOperatorList({renderingIntent:ht,cacheKey:kt,annotationStorageSerializable:wt}){const{map:Nt,transfers:jt}=wt,Ut=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:ht,cacheKey:kt,annotationStorage:Nt},jt).getReader(),Xt=this._intentStates.get(kt);Xt.streamReader=Ut;const tn=()=>{Ut.read().then(({value:Mt,done:Wt})=>{if(Wt){Xt.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(Mt,Xt),tn())},Mt=>{if(Xt.streamReader=null,!this._transport.destroyed){if(Xt.operatorList){Xt.operatorList.lastChunk=!0;for(const Wt of Xt.renderTasks)Wt.operatorListChanged();Bt(this,_,rr).call(this,!0)}if(Xt.displayReadyCapability)Xt.displayReadyCapability.reject(Mt);else if(Xt.opListReadCapability)Xt.opListReadCapability.reject(Mt);else throw Mt}})};tn()}_abortOperatorList({intentState:ht,reason:kt,force:wt=!1}){if(ht.streamReader){if(ht.streamReaderCancelTimeout&&(clearTimeout(ht.streamReaderCancelTimeout),ht.streamReaderCancelTimeout=null),!wt){if(ht.renderTasks.size>0)return;if(kt instanceof _display_utils.RenderingCancelledException){let Nt=RENDERING_CANCELLED_TIMEOUT;kt.extraDelay>0&&kt.extraDelay<1e3&&(Nt+=kt.extraDelay),ht.streamReaderCancelTimeout=setTimeout(()=>{ht.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:ht,reason:kt,force:!0})},Nt);return}}if(ht.streamReader.cancel(new _util.AbortException(kt.message)).catch(()=>{}),ht.streamReader=null,!this._transport.destroyed){for(const[Nt,jt]of this._intentStates)if(jt===ht){this._intentStates.delete(Nt);break}this.cleanup()}}}get stats(){return this._stats}}a=new WeakMap,g=new WeakMap,_=new WeakSet,rr=function(ht=!1){if(Bt(this,$,mr).call(this),!_e(this,g)||this.destroyed)return!1;if(ht)return en(this,a,setTimeout(()=>{en(this,a,null),Bt(this,_,rr).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:kt,operatorList:wt}of this._intentStates.values())if(kt.size>0||!wt.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),en(this,g,!1),!0},$=new WeakSet,mr=function(){_e(this,a)&&(clearTimeout(_e(this,a)),en(this,a,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){It(this,et,new Set);It(this,lt,Promise.resolve())}postMessage(ht,kt){const wt={data:structuredClone(ht,kt?{transfer:kt}:null)};_e(this,lt).then(()=>{for(const Nt of _e(this,et))Nt.call(this,wt)})}addEventListener(ht,kt){_e(this,et).add(kt)}removeEventListener(ht,kt){_e(this,et).delete(kt)}terminate(){_e(this,et).clear()}}et=new WeakMap,lt=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const vt=(at=document==null?void 0:document.currentScript)==null?void 0:at.src;vt&&(PDFWorkerUtil.fallbackWorkerSrc=vt.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(vt,ht){let kt;try{if(kt=new URL(vt),!kt.origin||kt.origin==="null")return!1}catch{return!1}const wt=new URL(ht,kt);return kt.origin===wt.origin},PDFWorkerUtil.createCDNWrapper=function(vt){const ht=`importScripts("${vt}");`;return URL.createObjectURL(new Blob([ht]))}}const _PDFWorker=class _PDFWorker{constructor({name:vt=null,port:ht=null,verbosity:kt=(0,_util.getVerbosityLevel)()}={}){var wt;if(this.name=vt,this.destroyed=!1,this.verbosity=kt,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,ht){if((wt=_e(_PDFWorker,At))!=null&&wt.has(ht))throw new Error("Cannot use more than one PDFWorker per port.");(_e(_PDFWorker,At)||en(_PDFWorker,At,new WeakMap)).set(ht,this),this._initializeFromPort(ht);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(vt){this._port=vt,this._messageHandler=new _message_handler.MessageHandler("main","worker",vt),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:vt}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,vt)||(vt=PDFWorkerUtil.createCDNWrapper(new URL(vt,window.location).href));const ht=new Worker(vt),kt=new _message_handler.MessageHandler("main","worker",ht),wt=()=>{ht.removeEventListener("error",Nt),kt.destroy(),ht.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},Nt=()=>{this._webWorker||wt()};ht.addEventListener("error",Nt),kt.on("test",Pt=>{if(ht.removeEventListener("error",Nt),this.destroyed){wt();return}Pt?(this._messageHandler=kt,this._port=ht,this._webWorker=ht,this._readyCapability.resolve(),kt.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),kt.destroy(),ht.terminate())}),kt.on("ready",Pt=>{if(ht.removeEventListener("error",Nt),this.destroyed){wt();return}try{jt()}catch{this._setupFakeWorker()}});const jt=()=>{const Pt=new Uint8Array;kt.send("test",Pt,[Pt.buffer])};jt();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(vt=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const ht=new LoopbackPort;this._port=ht;const kt=`fake${PDFWorkerUtil.fakeWorkerId++}`,wt=new _message_handler.MessageHandler(kt+"_worker",kt,ht);vt.setup(wt,ht);const Nt=new _message_handler.MessageHandler(kt,kt+"_worker",ht);this._messageHandler=Nt,this._readyCapability.resolve(),Nt.send("configure",{verbosity:this.verbosity})}).catch(vt=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${vt.message}".`))})}destroy(){var vt;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(vt=_e(_PDFWorker,At))==null||vt.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(vt){var kt;if(!(vt!=null&&vt.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const ht=(kt=_e(this,At))==null?void 0:kt.get(vt.port);if(ht){if(ht._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return ht}return new _PDFWorker(vt)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var vt;try{return((vt=globalThis.pdfjsWorker)==null?void 0:vt.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};At=new WeakMap,It(_PDFWorker,At,void 0);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(ht,kt,wt,Nt,jt){It(this,mt);It(this,St,new Map);It(this,Et,new Map);It(this,yt,new Map);It(this,_t,null);this.messageHandler=ht,this.loadingTask=kt,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:Nt.ownerDocument,styleElement:Nt.styleElement}),this._params=Nt,this.canvasFactory=jt.canvasFactory,this.filterFactory=jt.filterFactory,this.cMapReaderFactory=jt.cMapReaderFactory,this.standardFontDataFactory=jt.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=wt,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(ht,kt=_util.AnnotationMode.ENABLE,wt=null,Nt=!1){let jt=_util.RenderingIntentFlag.DISPLAY,Pt=_annotation_storage.SerializableEmpty;switch(ht){case"any":jt=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":jt=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${ht}`)}switch(kt){case _util.AnnotationMode.DISABLE:jt+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:jt+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:jt+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,Pt=(jt&_util.RenderingIntentFlag.PRINT&&wt instanceof _annotation_storage.PrintAnnotationStorage?wt:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${kt}`)}return Nt&&(jt+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:jt,cacheKey:`${jt}_${Pt.hash}`,annotationStorageSerializable:Pt}}destroy(){var wt;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(wt=_e(this,_t))==null||wt.reject(new Error("Worker was destroyed during onPassword callback"));const ht=[];for(const Nt of _e(this,Et).values())ht.push(Nt._destroy());_e(this,Et).clear(),_e(this,yt).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const kt=this.messageHandler.sendWithPromise("Terminate",null);return ht.push(kt),Promise.all(ht).then(()=>{var Nt;this.commonObjs.clear(),this.fontLoader.clear(),_e(this,St).clear(),this.filterFactory.destroy(),(Nt=this._networkStream)==null||Nt.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:ht,loadingTask:kt}=this;ht.on("GetReader",(wt,Nt)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=jt=>{this._lastProgress={loaded:jt.loaded,total:jt.total}},Nt.onPull=()=>{this._fullReader.read().then(function({value:jt,done:Pt}){if(Pt){Nt.close();return}(0,_util.assert)(jt instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),Nt.enqueue(new Uint8Array(jt),1,[jt])}).catch(jt=>{Nt.error(jt)})},Nt.onCancel=jt=>{this._fullReader.cancel(jt),Nt.ready.catch(Pt=>{if(!this.destroyed)throw Pt})}}),ht.on("ReaderHeadersReady",wt=>{const Nt=new _util.PromiseCapability,jt=this._fullReader;return jt.headersReady.then(()=>{var Pt;(!jt.isStreamingSupported||!jt.isRangeSupported)&&(this._lastProgress&&((Pt=kt.onProgress)==null||Pt.call(kt,this._lastProgress)),jt.onProgress=Ut=>{var Xt;(Xt=kt.onProgress)==null||Xt.call(kt,{loaded:Ut.loaded,total:Ut.total})}),Nt.resolve({isStreamingSupported:jt.isStreamingSupported,isRangeSupported:jt.isRangeSupported,contentLength:jt.contentLength})},Nt.reject),Nt.promise}),ht.on("GetRangeReader",(wt,Nt)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const jt=this._networkStream.getRangeReader(wt.begin,wt.end);if(!jt){Nt.close();return}Nt.onPull=()=>{jt.read().then(function({value:Pt,done:Ut}){if(Ut){Nt.close();return}(0,_util.assert)(Pt instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),Nt.enqueue(new Uint8Array(Pt),1,[Pt])}).catch(Pt=>{Nt.error(Pt)})},Nt.onCancel=Pt=>{jt.cancel(Pt),Nt.ready.catch(Ut=>{if(!this.destroyed)throw Ut})}}),ht.on("GetDoc",({pdfInfo:wt})=>{this._numPages=wt.numPages,this._htmlForXfa=wt.htmlForXfa,delete wt.htmlForXfa,kt._capability.resolve(new PDFDocumentProxy(wt,this))}),ht.on("DocException",function(wt){let Nt;switch(wt.name){case"PasswordException":Nt=new _util.PasswordException(wt.message,wt.code);break;case"InvalidPDFException":Nt=new _util.InvalidPDFException(wt.message);break;case"MissingPDFException":Nt=new _util.MissingPDFException(wt.message);break;case"UnexpectedResponseException":Nt=new _util.UnexpectedResponseException(wt.message,wt.status);break;case"UnknownErrorException":Nt=new _util.UnknownErrorException(wt.message,wt.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}kt._capability.reject(Nt)}),ht.on("PasswordRequest",wt=>{if(en(this,_t,new _util.PromiseCapability),kt.onPassword){const Nt=jt=>{jt instanceof Error?_e(this,_t).reject(jt):_e(this,_t).resolve({password:jt})};try{kt.onPassword(Nt,wt.code)}catch(jt){_e(this,_t).reject(jt)}}else _e(this,_t).reject(new _util.PasswordException(wt.message,wt.code));return _e(this,_t).promise}),ht.on("DataLoaded",wt=>{var Nt;(Nt=kt.onProgress)==null||Nt.call(kt,{loaded:wt.length,total:wt.length}),this.downloadInfoCapability.resolve(wt)}),ht.on("StartRenderPage",wt=>{if(this.destroyed)return;_e(this,Et).get(wt.pageIndex)._startRenderPage(wt.transparency,wt.cacheKey)}),ht.on("commonobj",([wt,Nt,jt])=>{var Pt;if(!this.destroyed&&!this.commonObjs.has(wt))switch(Nt){case"Font":const Ut=this._params;if("error"in jt){const Mt=jt.error;(0,_util.warn)(`Error during font loading: ${Mt}`),this.commonObjs.resolve(wt,Mt);break}const Xt=Ut.pdfBug&&((Pt=globalThis.FontInspector)!=null&&Pt.enabled)?(Mt,Wt)=>globalThis.FontInspector.fontAdded(Mt,Wt):null,tn=new _font_loader.FontFaceObject(jt,{isEvalSupported:Ut.isEvalSupported,disableFontFace:Ut.disableFontFace,ignoreErrors:Ut.ignoreErrors,inspectFont:Xt});this.fontLoader.bind(tn).catch(Mt=>ht.sendWithPromise("FontFallback",{id:wt})).finally(()=>{!Ut.fontExtraProperties&&tn.data&&(tn.data=null),this.commonObjs.resolve(wt,tn)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(wt,jt);break;default:throw new Error(`Got unknown common object type ${Nt}`)}}),ht.on("obj",([wt,Nt,jt,Pt])=>{var Xt;if(this.destroyed)return;const Ut=_e(this,Et).get(Nt);if(!Ut.objs.has(wt))switch(jt){case"Image":if(Ut.objs.resolve(wt,Pt),Pt){let tn;if(Pt.bitmap){const{width:Mt,height:Wt}=Pt;tn=Mt*Wt*4}else tn=((Xt=Pt.data)==null?void 0:Xt.length)||0;tn>_util.MAX_IMAGE_SIZE_TO_CACHE&&(Ut._maybeCleanupAfterRender=!0)}break;case"Pattern":Ut.objs.resolve(wt,Pt);break;default:throw new Error(`Got unknown object type ${jt}`)}}),ht.on("DocProgress",wt=>{var Nt;this.destroyed||(Nt=kt.onProgress)==null||Nt.call(kt,{loaded:wt.loaded,total:wt.total})}),ht.on("FetchBuiltInCMap",wt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(wt):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),ht.on("FetchStandardFontData",wt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(wt):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var wt;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:ht,transfers:kt}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:ht,filename:((wt=this._fullReader)==null?void 0:wt.filename)??null},kt).finally(()=>{this.annotationStorage.resetModified()})}getPage(ht){if(!Number.isInteger(ht)||ht<=0||ht>this._numPages)return Promise.reject(new Error("Invalid page request."));const kt=ht-1,wt=_e(this,yt).get(kt);if(wt)return wt;const Nt=this.messageHandler.sendWithPromise("GetPage",{pageIndex:kt}).then(jt=>{if(this.destroyed)throw new Error("Transport destroyed");const Pt=new PDFPageProxy(kt,jt,this,this._params.pdfBug);return _e(this,Et).set(kt,Pt),Pt});return _e(this,yt).set(kt,Nt),Nt}getPageIndex(ht){return typeof ht!="object"||ht===null||!Number.isInteger(ht.num)||ht.num<0||!Number.isInteger(ht.gen)||ht.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:ht.num,gen:ht.gen})}getAnnotations(ht,kt){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:ht,intent:kt})}getFieldObjects(){return Bt(this,mt,yr).call(this,"GetFieldObjects")}hasJSActions(){return Bt(this,mt,yr).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(ht){return typeof ht!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:ht})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Bt(this,mt,yr).call(this,"GetDocJSActions")}getPageJSActions(ht){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:ht})}getStructTree(ht){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:ht})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(ht=>new _optional_content_config.OptionalContentConfig(ht))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const ht="GetMetadata",kt=_e(this,St).get(ht);if(kt)return kt;const wt=this.messageHandler.sendWithPromise(ht,null).then(Nt=>{var jt,Pt;return{info:Nt[0],metadata:Nt[1]?new _metadata.Metadata(Nt[1]):null,contentDispositionFilename:((jt=this._fullReader)==null?void 0:jt.filename)??null,contentLength:((Pt=this._fullReader)==null?void 0:Pt.contentLength)??null}});return _e(this,St).set(ht,wt),wt}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(ht=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const kt of _e(this,Et).values())if(!kt.cleanup())throw new Error(`startCleanup: Page ${kt.pageNumber} is currently rendering.`);this.commonObjs.clear(),ht||this.fontLoader.clear(),_e(this,St).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:ht,enableXfa:kt}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:ht,enableXfa:kt})}}St=new WeakMap,Et=new WeakMap,yt=new WeakMap,_t=new WeakMap,mt=new WeakSet,yr=function(ht,kt=null){const wt=_e(this,St).get(ht);if(wt)return wt;const Nt=this.messageHandler.sendWithPromise(ht,kt);return _e(this,St).set(ht,Nt),Nt};class PDFObjects{constructor(){It(this,ct);It(this,it,Object.create(null))}get(ht,kt=null){if(kt){const Nt=Bt(this,ct,Mr).call(this,ht);return Nt.capability.promise.then(()=>kt(Nt.data)),null}const wt=_e(this,it)[ht];if(!(wt!=null&&wt.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${ht}.`);return wt.data}has(ht){const kt=_e(this,it)[ht];return(kt==null?void 0:kt.capability.settled)||!1}resolve(ht,kt=null){const wt=Bt(this,ct,Mr).call(this,ht);wt.data=kt,wt.capability.resolve()}clear(){var ht;for(const kt in _e(this,it)){const{data:wt}=_e(this,it)[kt];(ht=wt==null?void 0:wt.bitmap)==null||ht.close()}en(this,it,Object.create(null))}}it=new WeakMap,ct=new WeakSet,Mr=function(ht){var kt;return(kt=_e(this,it))[ht]||(kt[ht]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(ht){It(this,rt,null);en(this,rt,ht),this.onContinue=null}get promise(){return _e(this,rt).capability.promise}cancel(ht=0){_e(this,rt).cancel(null,ht)}get separateAnnots(){const{separateAnnots:ht}=_e(this,rt).operatorList;if(!ht)return!1;const{annotationCanvasMap:kt}=_e(this,rt);return ht.form||ht.canvas&&(kt==null?void 0:kt.size)>0}}rt=new WeakMap,exports.RenderTask=RenderTask;const xt=class xt{constructor({callback:ht,params:kt,objs:wt,commonObjs:Nt,annotationCanvasMap:jt,operatorList:Pt,pageIndex:Ut,canvasFactory:Xt,filterFactory:tn,useRequestAnimationFrame:Mt=!1,pdfBug:Wt=!1,pageColors:Ht=null}){this.callback=ht,this.params=kt,this.objs=wt,this.commonObjs=Nt,this.annotationCanvasMap=jt,this.operatorListIdx=null,this.operatorList=Pt,this._pageIndex=Ut,this.canvasFactory=Xt,this.filterFactory=tn,this._pdfBug=Wt,this.pageColors=Ht,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=Mt===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=kt.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:ht=!1,optionalContentConfig:kt}){var Ut,Xt;if(this.cancelled)return;if(this._canvas){if(_e(xt,dt).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");_e(xt,dt).add(this._canvas)}this._pdfBug&&((Ut=globalThis.StepperManager)!=null&&Ut.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:wt,viewport:Nt,transform:jt,background:Pt}=this.params;this.gfx=new _canvas.CanvasGraphics(wt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:kt},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:jt,viewport:Nt,transparency:ht,background:Pt}),this.operatorListIdx=0,this.graphicsReady=!0,(Xt=this.graphicsReadyCallback)==null||Xt.call(this)}cancel(ht=null,kt=0){var wt;this.running=!1,this.cancelled=!0,(wt=this.gfx)==null||wt.endDrawing(),_e(xt,dt).delete(this._canvas),this.callback(ht||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,kt))}operatorListChanged(){var ht;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(ht=this.stepper)==null||ht.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),_e(xt,dt).delete(this._canvas),this.callback())))}};dt=new WeakMap,It(xt,dt,new WeakSet);let InternalRenderTask=xt;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(e,o,a)=>{var lt,at,At,ds,Et;Object.defineProperty(o,"__esModule",{value:!0}),o.SerializableEmpty=o.PrintAnnotationStorage=o.AnnotationStorage=void 0;var g=a(1),_=a(4),j=a(8);const $=Object.freeze({map:null,hash:"",transfers:void 0});o.SerializableEmpty=$;class ft{constructor(){It(this,At);It(this,lt,!1);It(this,at,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(_t,mt){const ot=_e(this,at).get(_t);return ot===void 0?mt:Object.assign(mt,ot)}getRawValue(_t){return _e(this,at).get(_t)}remove(_t){if(_e(this,at).delete(_t),_e(this,at).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const mt of _e(this,at).values())if(mt instanceof _.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(_t,mt){const ot=_e(this,at).get(_t);let it=!1;if(ot!==void 0)for(const[ct,pt]of Object.entries(mt))ot[ct]!==pt&&(it=!0,ot[ct]=pt);else it=!0,_e(this,at).set(_t,mt);it&&Bt(this,At,ds).call(this),mt instanceof _.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(mt.constructor._type)}has(_t){return _e(this,at).has(_t)}getAll(){return _e(this,at).size>0?(0,g.objectFromMap)(_e(this,at)):null}setAll(_t){for(const[mt,ot]of Object.entries(_t))this.setValue(mt,ot)}get size(){return _e(this,at).size}resetModified(){_e(this,lt)&&(en(this,lt,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new et(this)}get serializable(){if(_e(this,at).size===0)return $;const _t=new Map,mt=new j.MurmurHash3_64,ot=[],it=Object.create(null);let ct=!1;for(const[pt,rt]of _e(this,at)){const dt=rt instanceof _.AnnotationEditor?rt.serialize(!1,it):rt;dt&&(_t.set(pt,dt),mt.update(`${pt}:${JSON.stringify(dt)}`),ct||(ct=!!dt.bitmap))}if(ct)for(const pt of _t.values())pt.bitmap&&ot.push(pt.bitmap);return _t.size>0?{map:_t,hash:mt.hexdigest(),transfers:ot}:$}}lt=new WeakMap,at=new WeakMap,At=new WeakSet,ds=function(){_e(this,lt)||(en(this,lt,!0),typeof this.onSetModified=="function"&&this.onSetModified())},o.AnnotationStorage=ft;class et extends ft{constructor(mt){super();It(this,Et,void 0);const{map:ot,hash:it,transfers:ct}=mt.serializable,pt=structuredClone(ot,ct?{transfer:ct}:null);en(this,Et,{map:pt,hash:it,transfers:ct})}get print(){(0,g.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return _e(this,Et)}}Et=new WeakMap,o.PrintAnnotationStorage=et},(e,o,a)=>{var et,lt,at,At,St,Et,yt,_t,mt,ot,it,ct,pt,rt,dt,Fr,vt,Lr,kt,Dr,Nt,Or,Pt,hs,Xt,fs,Mt,ps,Ht,Ir,cn,gs;Object.defineProperty(o,"__esModule",{value:!0}),o.AnnotationEditor=void 0;var g=a(5),_=a(1),j=a(6);const tt=class tt{constructor(st){It(this,dt);It(this,vt);It(this,Nt);It(this,Pt);It(this,Xt);It(this,Mt);It(this,Ht);It(this,cn);It(this,et,"");It(this,lt,!1);It(this,at,null);It(this,At,null);It(this,St,null);It(this,Et,!1);It(this,yt,null);It(this,_t,this.focusin.bind(this));It(this,mt,this.focusout.bind(this));It(this,ot,!1);It(this,it,!1);It(this,ct,!1);Yn(this,"_initialOptions",Object.create(null));Yn(this,"_uiManager",null);Yn(this,"_focusEventsAllowed",!0);Yn(this,"_l10nPromise",null);It(this,pt,!1);It(this,rt,tt._zIndex++);this.constructor===tt&&(0,_.unreachable)("Cannot initialize AnnotationEditor."),this.parent=st.parent,this.id=st.id,this.width=this.height=null,this.pageIndex=st.parent.pageIndex,this.name=st.name,this.div=null,this._uiManager=st.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=st.isCentered,this._structTreeParentId=null;const{rotation:gt,rawDims:{pageWidth:bt,pageHeight:Rt,pageX:Ft,pageY:Ot}}=this.parent.viewport;this.rotation=gt,this.pageRotation=(360+gt-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[bt,Rt],this.pageTranslation=[Ft,Ot];const[Jt,qt]=this.parentDimensions;this.x=st.x/Jt,this.y=st.y/qt,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,_.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(st){const gt=new ft({id:st.parent.getNextId(),parent:st.parent,uiManager:st._uiManager});gt.annotationElementId=st.annotationElementId,gt.deleted=!0,gt._uiManager.addToAnnotationStorage(gt)}static initialize(st,gt=null){if(tt._l10nPromise||(tt._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(Rt=>[Rt,st.get(Rt)]))),gt!=null&&gt.strings)for(const Rt of gt.strings)tt._l10nPromise.set(Rt,st.get(Rt));if(tt._borderLineWidth!==-1)return;const bt=getComputedStyle(document.documentElement);tt._borderLineWidth=parseFloat(bt.getPropertyValue("--outline-width"))||0}static updateDefaultParams(st,gt){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(st){return!1}static paste(st,gt){(0,_.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return _e(this,pt)}set _isDraggable(st){var gt;en(this,pt,st),(gt=this.div)==null||gt.classList.toggle("draggable",st)}center(){const[st,gt]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*gt/(st*2),this.y+=this.width*st/(gt*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*gt/(st*2),this.y-=this.width*st/(gt*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(st){this._uiManager.addCommands(st)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=_e(this,rt)}setParent(st){st!==null&&(this.pageIndex=st.pageIndex,this.pageDimensions=st.pageDimensions),this.parent=st}focusin(st){this._focusEventsAllowed&&(_e(this,ot)?en(this,ot,!1):this.parent.setSelected(this))}focusout(st){var bt;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const gt=st.relatedTarget;gt!=null&&gt.closest(`#${this.id}`)||(st.preventDefault(),(bt=this.parent)!=null&&bt.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(st,gt,bt,Rt){const[Ft,Ot]=this.parentDimensions;[bt,Rt]=this.screenToPageTranslation(bt,Rt),this.x=(st+bt)/Ft,this.y=(gt+Rt)/Ot,this.fixAndSetPosition()}translate(st,gt){Bt(this,dt,Fr).call(this,this.parentDimensions,st,gt)}translateInPage(st,gt){Bt(this,dt,Fr).call(this,this.pageDimensions,st,gt),this.div.scrollIntoView({block:"nearest"})}drag(st,gt){const[bt,Rt]=this.parentDimensions;if(this.x+=st/bt,this.y+=gt/Rt,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:Kt,y:rn}=this.div.getBoundingClientRect();this.parent.findNewParent(this,Kt,rn)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:Ft,y:Ot}=this;const[Jt,qt]=Bt(this,vt,Lr).call(this);Ft+=Jt,Ot+=qt,this.div.style.left=`${(100*Ft).toFixed(2)}%`,this.div.style.top=`${(100*Ot).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[st,gt]=this.pageDimensions;let{x:bt,y:Rt,width:Ft,height:Ot}=this;switch(Ft*=st,Ot*=gt,bt*=st,Rt*=gt,this.rotation){case 0:bt=Math.max(0,Math.min(st-Ft,bt)),Rt=Math.max(0,Math.min(gt-Ot,Rt));break;case 90:bt=Math.max(0,Math.min(st-Ot,bt)),Rt=Math.min(gt,Math.max(Ft,Rt));break;case 180:bt=Math.min(st,Math.max(Ft,bt)),Rt=Math.min(gt,Math.max(Ot,Rt));break;case 270:bt=Math.min(st,Math.max(Ot,bt)),Rt=Math.max(0,Math.min(gt-Ft,Rt));break}this.x=bt/=st,this.y=Rt/=gt;const[Jt,qt]=Bt(this,vt,Lr).call(this);bt+=Jt,Rt+=qt;const{style:Kt}=this.div;Kt.left=`${(100*bt).toFixed(2)}%`,Kt.top=`${(100*Rt).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(st,gt){var bt;return Bt(bt=tt,kt,Dr).call(bt,st,gt,this.parentRotation)}pageTranslationToScreen(st,gt){var bt;return Bt(bt=tt,kt,Dr).call(bt,st,gt,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:st,pageDimensions:[gt,bt]}=this,Rt=gt*st,Ft=bt*st;return _.FeatureTest.isCSSRoundSupported?[Math.round(Rt),Math.round(Ft)]:[Rt,Ft]}setDims(st,gt){var Ft;const[bt,Rt]=this.parentDimensions;this.div.style.width=`${(100*st/bt).toFixed(2)}%`,_e(this,Et)||(this.div.style.height=`${(100*gt/Rt).toFixed(2)}%`),(Ft=_e(this,at))==null||Ft.classList.toggle("small",st<tt.SMALL_EDITOR_SIZE||gt<tt.SMALL_EDITOR_SIZE)}fixDims(){const{style:st}=this.div,{height:gt,width:bt}=st,Rt=bt.endsWith("%"),Ft=!_e(this,Et)&&gt.endsWith("%");if(Rt&&Ft)return;const[Ot,Jt]=this.parentDimensions;Rt||(st.width=`${(100*parseFloat(bt)/Ot).toFixed(2)}%`),!_e(this,Et)&&!Ft&&(st.height=`${(100*parseFloat(gt)/Jt).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(_e(this,at))return;const st=en(this,at,document.createElement("button"));st.className="altText";const gt=await tt._l10nPromise.get("editor_alt_text_button_label");st.textContent=gt,st.setAttribute("aria-label",gt),st.tabIndex="0",st.addEventListener("contextmenu",j.noContextMenu),st.addEventListener("pointerdown",bt=>bt.stopPropagation()),st.addEventListener("click",bt=>{bt.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),st.addEventListener("keydown",bt=>{bt.target===st&&bt.key==="Enter"&&(bt.preventDefault(),this._uiManager.editAltText(this))}),Bt(this,Ht,Ir).call(this),this.div.append(st),tt.SMALL_EDITOR_SIZE||(tt.SMALL_EDITOR_SIZE=Math.min(128,Math.round(st.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:_e(this,et),decorative:_e(this,lt)}}set altTextData({altText:st,decorative:gt}){_e(this,et)===st&&_e(this,lt)===gt||(en(this,et,st),en(this,lt,gt),Bt(this,Ht,Ir).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",_e(this,_t)),this.div.addEventListener("focusout",_e(this,mt));const[st,gt]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*gt/st).toFixed(2)}%`,this.div.style.maxHeight=`${(100*st/gt).toFixed(2)}%`);const[bt,Rt]=this.getInitialTranslation();return this.translate(bt,Rt),(0,g.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(st){const{isMac:gt}=_.FeatureTest.platform;if(st.button!==0||st.ctrlKey&&gt){st.preventDefault();return}en(this,ot,!0),Bt(this,cn,gs).call(this,st)}moveInDOM(){var st;(st=this.parent)==null||st.moveEditorInDOM(this)}_setParentAndPosition(st,gt,bt){st.changeParent(this),this.x=gt,this.y=bt,this.fixAndSetPosition()}getRect(st,gt){const bt=this.parentScale,[Rt,Ft]=this.pageDimensions,[Ot,Jt]=this.pageTranslation,qt=st/bt,Kt=gt/bt,rn=this.x*Rt,dn=this.y*Ft,sn=this.width*Rt,bn=this.height*Ft;switch(this.rotation){case 0:return[rn+qt+Ot,Ft-dn-Kt-bn+Jt,rn+qt+sn+Ot,Ft-dn-Kt+Jt];case 90:return[rn+Kt+Ot,Ft-dn+qt+Jt,rn+Kt+bn+Ot,Ft-dn+qt+sn+Jt];case 180:return[rn-qt-sn+Ot,Ft-dn+Kt+Jt,rn-qt+Ot,Ft-dn+Kt+bn+Jt];case 270:return[rn-Kt-bn+Ot,Ft-dn-qt-sn+Jt,rn-Kt+Ot,Ft-dn-qt+Jt];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(st,gt){const[bt,Rt,Ft,Ot]=st,Jt=Ft-bt,qt=Ot-Rt;switch(this.rotation){case 0:return[bt,gt-Ot,Jt,qt];case 90:return[bt,gt-Rt,qt,Jt];case 180:return[Ft,gt-Rt,Jt,qt];case 270:return[Ft,gt-Ot,qt,Jt];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){en(this,ct,!0)}disableEditMode(){en(this,ct,!1)}isInEditMode(){return _e(this,ct)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var st,gt;(st=this.div)==null||st.addEventListener("focusin",_e(this,_t)),(gt=this.div)==null||gt.addEventListener("focusout",_e(this,mt))}serialize(st=!1,gt=null){(0,_.unreachable)("An editor must be serializable")}static deserialize(st,gt,bt){const Rt=new this.prototype.constructor({parent:gt,id:gt.getNextId(),uiManager:bt});Rt.rotation=st.rotation;const[Ft,Ot]=Rt.pageDimensions,[Jt,qt,Kt,rn]=Rt.getRectInCurrentCoords(st.rect,Ot);return Rt.x=Jt/Ft,Rt.y=qt/Ot,Rt.width=Kt/Ft,Rt.height=rn/Ot,Rt}remove(){var st;this.div.removeEventListener("focusin",_e(this,_t)),this.div.removeEventListener("focusout",_e(this,mt)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(st=_e(this,at))==null||st.remove(),en(this,at,null),en(this,At,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(Bt(this,Pt,hs).call(this),_e(this,yt).classList.remove("hidden"))}select(){var st;this.makeResizable(),(st=this.div)==null||st.classList.add("selectedEditor")}unselect(){var st,gt,bt;(st=_e(this,yt))==null||st.classList.add("hidden"),(gt=this.div)==null||gt.classList.remove("selectedEditor"),(bt=this.div)!=null&&bt.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(st,gt){}disableEditing(){_e(this,at)&&(_e(this,at).hidden=!0)}enableEditing(){_e(this,at)&&(_e(this,at).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return _e(this,it)}set isEditing(st){en(this,it,st),this.parent&&(st?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(st,gt){en(this,Et,!0);const bt=st/gt,{style:Rt}=this.div;Rt.aspectRatio=bt,Rt.height="auto"}static get MIN_SIZE(){return 16}};et=new WeakMap,lt=new WeakMap,at=new WeakMap,At=new WeakMap,St=new WeakMap,Et=new WeakMap,yt=new WeakMap,_t=new WeakMap,mt=new WeakMap,ot=new WeakMap,it=new WeakMap,ct=new WeakMap,pt=new WeakMap,rt=new WeakMap,dt=new WeakSet,Fr=function([st,gt],bt,Rt){[bt,Rt]=this.screenToPageTranslation(bt,Rt),this.x+=bt/st,this.y+=Rt/gt,this.fixAndSetPosition()},vt=new WeakSet,Lr=function(){const[st,gt]=this.parentDimensions,{_borderLineWidth:bt}=tt,Rt=bt/st,Ft=bt/gt;switch(this.rotation){case 90:return[-Rt,Ft];case 180:return[Rt,Ft];case 270:return[Rt,-Ft];default:return[-Rt,-Ft]}},kt=new WeakSet,Dr=function(st,gt,bt){switch(bt){case 90:return[gt,-st];case 180:return[-st,-gt];case 270:return[-gt,st];default:return[st,gt]}},Nt=new WeakSet,Or=function(st){switch(st){case 90:{const[gt,bt]=this.pageDimensions;return[0,-gt/bt,bt/gt,0]}case 180:return[-1,0,0,-1];case 270:{const[gt,bt]=this.pageDimensions;return[0,gt/bt,-bt/gt,0]}default:return[1,0,0,1]}},Pt=new WeakSet,hs=function(){if(_e(this,yt))return;en(this,yt,document.createElement("div")),_e(this,yt).classList.add("resizers");const st=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||st.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const gt of st){const bt=document.createElement("div");_e(this,yt).append(bt),bt.classList.add("resizer",gt),bt.addEventListener("pointerdown",Bt(this,Xt,fs).bind(this,gt)),bt.addEventListener("contextmenu",j.noContextMenu)}this.div.prepend(_e(this,yt))},Xt=new WeakSet,fs=function(st,gt){gt.preventDefault();const{isMac:bt}=_.FeatureTest.platform;if(gt.button!==0||gt.ctrlKey&&bt)return;const Rt=Bt(this,Mt,ps).bind(this,st),Ft=this._isDraggable;this._isDraggable=!1;const Ot={passive:!0,capture:!0};window.addEventListener("pointermove",Rt,Ot);const Jt=this.x,qt=this.y,Kt=this.width,rn=this.height,dn=this.parent.div.style.cursor,sn=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(gt.target).cursor;const bn=()=>{this._isDraggable=Ft,window.removeEventListener("pointerup",bn),window.removeEventListener("blur",bn),window.removeEventListener("pointermove",Rt,Ot),this.parent.div.style.cursor=dn,this.div.style.cursor=sn;const Mn=this.x,mn=this.y,kn=this.width,un=this.height;Mn===Jt&&mn===qt&&kn===Kt&&un===rn||this.addCommands({cmd:()=>{this.width=kn,this.height=un,this.x=Mn,this.y=mn;const[Qt,Zt]=this.parentDimensions;this.setDims(Qt*kn,Zt*un),this.fixAndSetPosition()},undo:()=>{this.width=Kt,this.height=rn,this.x=Jt,this.y=qt;const[Qt,Zt]=this.parentDimensions;this.setDims(Qt*Kt,Zt*rn),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",bn),window.addEventListener("blur",bn)},Mt=new WeakSet,ps=function(st,gt){const[bt,Rt]=this.parentDimensions,Ft=this.x,Ot=this.y,Jt=this.width,qt=this.height,Kt=tt.MIN_SIZE/bt,rn=tt.MIN_SIZE/Rt,dn=fn=>Math.round(fn*1e4)/1e4,sn=Bt(this,Nt,Or).call(this,this.rotation),bn=(fn,gn)=>[sn[0]*fn+sn[2]*gn,sn[1]*fn+sn[3]*gn],Mn=Bt(this,Nt,Or).call(this,360-this.rotation),mn=(fn,gn)=>[Mn[0]*fn+Mn[2]*gn,Mn[1]*fn+Mn[3]*gn];let kn,un,Qt=!1,Zt=!1;switch(st){case"topLeft":Qt=!0,kn=(fn,gn)=>[0,0],un=(fn,gn)=>[fn,gn];break;case"topMiddle":kn=(fn,gn)=>[fn/2,0],un=(fn,gn)=>[fn/2,gn];break;case"topRight":Qt=!0,kn=(fn,gn)=>[fn,0],un=(fn,gn)=>[0,gn];break;case"middleRight":Zt=!0,kn=(fn,gn)=>[fn,gn/2],un=(fn,gn)=>[0,gn/2];break;case"bottomRight":Qt=!0,kn=(fn,gn)=>[fn,gn],un=(fn,gn)=>[0,0];break;case"bottomMiddle":kn=(fn,gn)=>[fn/2,gn],un=(fn,gn)=>[fn/2,0];break;case"bottomLeft":Qt=!0,kn=(fn,gn)=>[0,gn],un=(fn,gn)=>[fn,0];break;case"middleLeft":Zt=!0,kn=(fn,gn)=>[0,gn/2],un=(fn,gn)=>[fn,gn/2];break}const an=kn(Jt,qt),vn=un(Jt,qt);let _n=bn(...vn);const Fn=dn(Ft+_n[0]),Nn=dn(Ot+_n[1]);let Ln=1,jn=1,[In,Dn]=this.screenToPageTranslation(gt.movementX,gt.movementY);if([In,Dn]=mn(In/bt,Dn/Rt),Qt){const fn=Math.hypot(Jt,qt);Ln=jn=Math.max(Math.min(Math.hypot(vn[0]-an[0]-In,vn[1]-an[1]-Dn)/fn,1/Jt,1/qt),Kt/Jt,rn/qt)}else Zt?Ln=Math.max(Kt,Math.min(1,Math.abs(vn[0]-an[0]-In)))/Jt:jn=Math.max(rn,Math.min(1,Math.abs(vn[1]-an[1]-Dn)))/qt;const $n=dn(Jt*Ln),on=dn(qt*jn);_n=bn(...un($n,on));const Yt=Fn-_n[0],zt=Nn-_n[1];this.width=$n,this.height=on,this.x=Yt,this.y=zt,this.setDims(bt*$n,Rt*on),this.fixAndSetPosition()},Ht=new WeakSet,Ir=async function(){var bt;const st=_e(this,at);if(!st)return;if(!_e(this,et)&&!_e(this,lt)){st.classList.remove("done"),(bt=_e(this,At))==null||bt.remove();return}tt._l10nPromise.get("editor_alt_text_edit_button_label").then(Rt=>{st.setAttribute("aria-label",Rt)});let gt=_e(this,At);if(!gt){en(this,At,gt=document.createElement("span")),gt.className="tooltip",gt.setAttribute("role","tooltip");const Rt=gt.id=`alt-text-tooltip-${this.id}`;st.setAttribute("aria-describedby",Rt);const Ft=100;st.addEventListener("mouseenter",()=>{en(this,St,setTimeout(()=>{en(this,St,null),_e(this,At).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},Ft))}),st.addEventListener("mouseleave",()=>{var Ot;clearTimeout(_e(this,St)),en(this,St,null),(Ot=_e(this,At))==null||Ot.classList.remove("show")})}st.classList.add("done"),gt.innerText=_e(this,lt)?await tt._l10nPromise.get("editor_alt_text_decorative_tooltip"):_e(this,et),gt.parentNode||st.append(gt)},cn=new WeakSet,gs=function(st){if(!this._isDraggable)return;const gt=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let bt,Rt;gt&&(bt={passive:!0,capture:!0},Rt=Ot=>{const[Jt,qt]=this.screenToPageTranslation(Ot.movementX,Ot.movementY);this._uiManager.dragSelectedEditors(Jt,qt)},window.addEventListener("pointermove",Rt,bt));const Ft=()=>{if(window.removeEventListener("pointerup",Ft),window.removeEventListener("blur",Ft),gt&&window.removeEventListener("pointermove",Rt,bt),en(this,ot,!1),!this._uiManager.endDragSession()){const{isMac:Ot}=_.FeatureTest.platform;st.ctrlKey&&!Ot||st.shiftKey||st.metaKey&&Ot?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",Ft),window.addEventListener("blur",Ft)},It(tt,kt),Yn(tt,"_borderLineWidth",-1),Yn(tt,"_colorManager",new g.ColorManager),Yn(tt,"_zIndex",1),Yn(tt,"SMALL_EDITOR_SIZE",0);let $=tt;o.AnnotationEditor=$;class ft extends ${constructor(st){super(st),this.annotationElementId=st.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(e,o,a)=>{var Et,yt,_t,mt,ot,Nr,pt,rt,dt,xt,vt,ms,wt,Nt,jt,Pt,Ut,Xt,tn,Mt,Wt,Ht,ln,cn,Ct,tt,ut,st,gt,bt,Rt,Ft,Ot,Jt,qt,Kt,rn,dn,sn,bn,Mn,mn,kn,un,Qt,Zt,an,ys,_n,jr,Nn,$r,jn,vr,Dn,Ur,on,Br,zt,Zn,gn,cr,Gn,vs,yn,_s,En,zr,Rn,ur,pn,Wr;Object.defineProperty(o,"__esModule",{value:!0}),o.KeyboardManager=o.CommandManager=o.ColorManager=o.AnnotationEditorUIManager=void 0,o.bindEvents=j,o.opacityToHex=$;var g=a(1),_=a(6);function j(Lt,nt,Tt){for(const Dt of Tt)nt.addEventListener(Dt,Lt[Dt].bind(Lt))}function $(Lt){return Math.round(Math.min(255,Math.max(1,255*Lt))).toString(16).padStart(2,"0")}class ft{constructor(){It(this,Et,0)}getId(){return`${g.AnnotationEditorPrefix}${lr(this,Et)._++}`}}Et=new WeakMap;const ct=class ct{constructor(){It(this,ot);It(this,yt,(0,g.getUuid)());It(this,_t,0);It(this,mt,null)}static get _isSVGFittingCanvas(){const nt='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',Dt=new OffscreenCanvas(1,3).getContext("2d"),$t=new Image;$t.src=nt;const Vt=$t.decode().then(()=>(Dt.drawImage($t,0,0,1,1,0,0,1,3),new Uint32Array(Dt.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,g.shadow)(this,"_isSVGFittingCanvas",Vt)}async getFromFile(nt){const{lastModified:Tt,name:Dt,size:$t,type:Vt}=nt;return Bt(this,ot,Nr).call(this,`${Tt}_${Dt}_${$t}_${Vt}`,nt)}async getFromUrl(nt){return Bt(this,ot,Nr).call(this,nt,nt)}async getFromId(nt){_e(this,mt)||en(this,mt,new Map);const Tt=_e(this,mt).get(nt);return Tt?Tt.bitmap?(Tt.refCounter+=1,Tt):Tt.file?this.getFromFile(Tt.file):this.getFromUrl(Tt.url):null}getSvgUrl(nt){const Tt=_e(this,mt).get(nt);return Tt!=null&&Tt.isSvg?Tt.svgUrl:null}deleteId(nt){_e(this,mt)||en(this,mt,new Map);const Tt=_e(this,mt).get(nt);Tt&&(Tt.refCounter-=1,Tt.refCounter===0&&(Tt.bitmap=null))}isValidId(nt){return nt.startsWith(`image_${_e(this,yt)}_`)}};yt=new WeakMap,_t=new WeakMap,mt=new WeakMap,ot=new WeakSet,Nr=async function(nt,Tt){_e(this,mt)||en(this,mt,new Map);let Dt=_e(this,mt).get(nt);if(Dt===null)return null;if(Dt!=null&&Dt.bitmap)return Dt.refCounter+=1,Dt;try{Dt||(Dt={bitmap:null,id:`image_${_e(this,yt)}_${lr(this,_t)._++}`,refCounter:0,isSvg:!1});let $t;if(typeof Tt=="string"){Dt.url=Tt;const Vt=await fetch(Tt);if(!Vt.ok)throw new Error(Vt.statusText);$t=await Vt.blob()}else $t=Dt.file=Tt;if($t.type==="image/svg+xml"){const Vt=ct._isSVGFittingCanvas,nn=new FileReader,hn=new Image,An=new Promise((Sn,Un)=>{hn.onload=()=>{Dt.bitmap=hn,Dt.isSvg=!0,Sn()},nn.onload=async()=>{const wn=Dt.svgUrl=nn.result;hn.src=await Vt?`${wn}#svgView(preserveAspectRatio(none))`:wn},hn.onerror=nn.onerror=Un});nn.readAsDataURL($t),await An}else Dt.bitmap=await createImageBitmap($t);Dt.refCounter=1}catch($t){console.error($t),Dt=null}return _e(this,mt).set(nt,Dt),Dt&&_e(this,mt).set(Dt.id,Dt),Dt};let et=ct;class lt{constructor(nt=128){It(this,pt,[]);It(this,rt,!1);It(this,dt,void 0);It(this,xt,-1);en(this,dt,nt)}add({cmd:nt,undo:Tt,mustExec:Dt,type:$t=NaN,overwriteIfSameType:Vt=!1,keepUndo:nn=!1}){if(Dt&&nt(),_e(this,rt))return;const hn={cmd:nt,undo:Tt,type:$t};if(_e(this,xt)===-1){_e(this,pt).length>0&&(_e(this,pt).length=0),en(this,xt,0),_e(this,pt).push(hn);return}if(Vt&&_e(this,pt)[_e(this,xt)].type===$t){nn&&(hn.undo=_e(this,pt)[_e(this,xt)].undo),_e(this,pt)[_e(this,xt)]=hn;return}const An=_e(this,xt)+1;An===_e(this,dt)?_e(this,pt).splice(0,1):(en(this,xt,An),An<_e(this,pt).length&&_e(this,pt).splice(An)),_e(this,pt).push(hn)}undo(){_e(this,xt)!==-1&&(en(this,rt,!0),_e(this,pt)[_e(this,xt)].undo(),en(this,rt,!1),en(this,xt,_e(this,xt)-1))}redo(){_e(this,xt)<_e(this,pt).length-1&&(en(this,xt,_e(this,xt)+1),en(this,rt,!0),_e(this,pt)[_e(this,xt)].cmd(),en(this,rt,!1))}hasSomethingToUndo(){return _e(this,xt)!==-1}hasSomethingToRedo(){return _e(this,xt)<_e(this,pt).length-1}destroy(){en(this,pt,null)}}pt=new WeakMap,rt=new WeakMap,dt=new WeakMap,xt=new WeakMap,o.CommandManager=lt;class at{constructor(nt){It(this,vt);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:Tt}=g.FeatureTest.platform;for(const[Dt,$t,Vt={}]of nt)for(const nn of Dt){const hn=nn.startsWith("mac+");Tt&&hn?(this.callbacks.set(nn.slice(4),{callback:$t,options:Vt}),this.allKeys.add(nn.split("+").at(-1))):!Tt&&!hn&&(this.callbacks.set(nn,{callback:$t,options:Vt}),this.allKeys.add(nn.split("+").at(-1)))}}exec(nt,Tt){if(!this.allKeys.has(Tt.key))return;const Dt=this.callbacks.get(Bt(this,vt,ms).call(this,Tt));if(!Dt)return;const{callback:$t,options:{bubbles:Vt=!1,args:nn=[],checker:hn=null}}=Dt;hn&&!hn(nt,Tt)||($t.bind(nt,...nn)(),Vt||(Tt.stopPropagation(),Tt.preventDefault()))}}vt=new WeakSet,ms=function(nt){nt.altKey&&this.buffer.push("alt"),nt.ctrlKey&&this.buffer.push("ctrl"),nt.metaKey&&this.buffer.push("meta"),nt.shiftKey&&this.buffer.push("shift"),this.buffer.push(nt.key);const Tt=this.buffer.join("+");return this.buffer.length=0,Tt},o.KeyboardManager=at;const kt=class kt{get _colors(){const nt=new Map([["CanvasText",null],["Canvas",null]]);return(0,_.getColorValues)(nt),(0,g.shadow)(this,"_colors",nt)}convert(nt){const Tt=(0,_.getRGB)(nt);if(!window.matchMedia("(forced-colors: active)").matches)return Tt;for(const[Dt,$t]of this._colors)if($t.every((Vt,nn)=>Vt===Tt[nn]))return kt._colorsMapping.get(Dt);return Tt}getHexCode(nt){const Tt=this._colors.get(nt);return Tt?g.Util.makeHexColor(...Tt):nt}};Yn(kt,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let At=kt;o.ColorManager=At;const Tn=class Tn{constructor(nt,Tt,Dt,$t,Vt,nn){It(this,an);It(this,_n);It(this,Nn);It(this,jn);It(this,Dn);It(this,on);It(this,zt);It(this,gn);It(this,Gn);It(this,yn);It(this,En);It(this,Rn);It(this,pn);It(this,wt,null);It(this,Nt,new Map);It(this,jt,new Map);It(this,Pt,null);It(this,Ut,null);It(this,Xt,new lt);It(this,tn,0);It(this,Mt,new Set);It(this,Wt,null);It(this,Ht,null);It(this,ln,new Set);It(this,cn,null);It(this,Ct,new ft);It(this,tt,!1);It(this,ut,!1);It(this,st,null);It(this,gt,g.AnnotationEditorType.NONE);It(this,bt,new Set);It(this,Rt,null);It(this,Ft,this.blur.bind(this));It(this,Ot,this.focus.bind(this));It(this,Jt,this.copy.bind(this));It(this,qt,this.cut.bind(this));It(this,Kt,this.paste.bind(this));It(this,rn,this.keydown.bind(this));It(this,dn,this.onEditingAction.bind(this));It(this,sn,this.onPageChanging.bind(this));It(this,bn,this.onScaleChanging.bind(this));It(this,Mn,this.onRotationChanging.bind(this));It(this,mn,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});It(this,kn,[0,0]);It(this,un,null);It(this,Qt,null);It(this,Zt,null);en(this,Qt,nt),en(this,Zt,Tt),en(this,Pt,Dt),this._eventBus=$t,this._eventBus._on("editingaction",_e(this,dn)),this._eventBus._on("pagechanging",_e(this,sn)),this._eventBus._on("scalechanging",_e(this,bn)),this._eventBus._on("rotationchanging",_e(this,Mn)),en(this,Ut,Vt.annotationStorage),en(this,cn,Vt.filterFactory),en(this,Rt,nn),this.viewParameters={realScale:_.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const nt=Tn.prototype,Tt=Vt=>{const{activeElement:nn}=document;return nn&&_e(Vt,Qt).contains(nn)&&Vt.hasSomethingToControl()},Dt=this.TRANSLATE_SMALL,$t=this.TRANSLATE_BIG;return(0,g.shadow)(this,"_keyboardManager",new at([[["ctrl+a","mac+meta+a"],nt.selectAll],[["ctrl+z","mac+meta+z"],nt.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],nt.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],nt.delete],[["Escape","mac+Escape"],nt.unselectAll],[["ArrowLeft","mac+ArrowLeft"],nt.translateSelectedEditors,{args:[-Dt,0],checker:Tt}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],nt.translateSelectedEditors,{args:[-$t,0],checker:Tt}],[["ArrowRight","mac+ArrowRight"],nt.translateSelectedEditors,{args:[Dt,0],checker:Tt}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],nt.translateSelectedEditors,{args:[$t,0],checker:Tt}],[["ArrowUp","mac+ArrowUp"],nt.translateSelectedEditors,{args:[0,-Dt],checker:Tt}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],nt.translateSelectedEditors,{args:[0,-$t],checker:Tt}],[["ArrowDown","mac+ArrowDown"],nt.translateSelectedEditors,{args:[0,Dt],checker:Tt}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],nt.translateSelectedEditors,{args:[0,$t],checker:Tt}]]))}destroy(){Bt(this,jn,vr).call(this),Bt(this,_n,jr).call(this),this._eventBus._off("editingaction",_e(this,dn)),this._eventBus._off("pagechanging",_e(this,sn)),this._eventBus._off("scalechanging",_e(this,bn)),this._eventBus._off("rotationchanging",_e(this,Mn));for(const nt of _e(this,jt).values())nt.destroy();_e(this,jt).clear(),_e(this,Nt).clear(),_e(this,ln).clear(),en(this,wt,null),_e(this,bt).clear(),_e(this,Xt).destroy(),_e(this,Pt).destroy()}get hcmFilter(){return(0,g.shadow)(this,"hcmFilter",_e(this,Rt)?_e(this,cn).addHCMFilter(_e(this,Rt).foreground,_e(this,Rt).background):"none")}get direction(){return(0,g.shadow)(this,"direction",getComputedStyle(_e(this,Qt)).direction)}editAltText(nt){var Tt;(Tt=_e(this,Pt))==null||Tt.editAltText(this,nt)}onPageChanging({pageNumber:nt}){en(this,tn,nt-1)}focusMainContainer(){_e(this,Qt).focus()}findParent(nt,Tt){for(const Dt of _e(this,jt).values()){const{x:$t,y:Vt,width:nn,height:hn}=Dt.div.getBoundingClientRect();if(nt>=$t&&nt<=$t+nn&&Tt>=Vt&&Tt<=Vt+hn)return Dt}return null}disableUserSelect(nt=!1){_e(this,Zt).classList.toggle("noUserSelect",nt)}addShouldRescale(nt){_e(this,ln).add(nt)}removeShouldRescale(nt){_e(this,ln).delete(nt)}onScaleChanging({scale:nt}){this.commitOrRemove(),this.viewParameters.realScale=nt*_.PixelsPerInch.PDF_TO_CSS_UNITS;for(const Tt of _e(this,ln))Tt.onScaleChanging()}onRotationChanging({pagesRotation:nt}){this.commitOrRemove(),this.viewParameters.rotation=nt}addToAnnotationStorage(nt){!nt.isEmpty()&&_e(this,Ut)&&!_e(this,Ut).has(nt.id)&&_e(this,Ut).setValue(nt.id,nt)}blur(){if(!this.hasSelection)return;const{activeElement:nt}=document;for(const Tt of _e(this,bt))if(Tt.div.contains(nt)){en(this,st,[Tt,nt]),Tt._focusEventsAllowed=!1;break}}focus(){if(!_e(this,st))return;const[nt,Tt]=_e(this,st);en(this,st,null),Tt.addEventListener("focusin",()=>{nt._focusEventsAllowed=!0},{once:!0}),Tt.focus()}addEditListeners(){Bt(this,Nn,$r).call(this),Bt(this,Dn,Ur).call(this)}removeEditListeners(){Bt(this,jn,vr).call(this),Bt(this,on,Br).call(this)}copy(nt){var Dt;if(nt.preventDefault(),(Dt=_e(this,wt))==null||Dt.commitOrRemove(),!this.hasSelection)return;const Tt=[];for(const $t of _e(this,bt)){const Vt=$t.serialize(!0);Vt&&Tt.push(Vt)}Tt.length!==0&&nt.clipboardData.setData("application/pdfjs",JSON.stringify(Tt))}cut(nt){this.copy(nt),this.delete()}paste(nt){nt.preventDefault();const{clipboardData:Tt}=nt;for(const Vt of Tt.items)for(const nn of _e(this,Ht))if(nn.isHandlingMimeForPasting(Vt.type)){nn.paste(Vt,this.currentLayer);return}let Dt=Tt.getData("application/pdfjs");if(!Dt)return;try{Dt=JSON.parse(Dt)}catch(Vt){(0,g.warn)(`paste: "${Vt.message}".`);return}if(!Array.isArray(Dt))return;this.unselectAll();const $t=this.currentLayer;try{const Vt=[];for(const An of Dt){const Sn=$t.deserialize(An);if(!Sn)return;Vt.push(Sn)}const nn=()=>{for(const An of Vt)Bt(this,En,zr).call(this,An);Bt(this,pn,Wr).call(this,Vt)},hn=()=>{for(const An of Vt)An.remove()};this.addCommands({cmd:nn,undo:hn,mustExec:!0})}catch(Vt){(0,g.warn)(`paste: "${Vt.message}".`)}}keydown(nt){var Tt;(Tt=this.getActive())!=null&&Tt.shouldGetKeyboardEvents()||Tn._keyboardManager.exec(this,nt)}onEditingAction(nt){["undo","redo","delete","selectAll"].includes(nt.name)&&this[nt.name]()}setEditingState(nt){nt?(Bt(this,an,ys).call(this),Bt(this,Nn,$r).call(this),Bt(this,Dn,Ur).call(this),Bt(this,zt,Zn).call(this,{isEditing:_e(this,gt)!==g.AnnotationEditorType.NONE,isEmpty:Bt(this,Rn,ur).call(this),hasSomethingToUndo:_e(this,Xt).hasSomethingToUndo(),hasSomethingToRedo:_e(this,Xt).hasSomethingToRedo(),hasSelectedEditor:!1})):(Bt(this,_n,jr).call(this),Bt(this,jn,vr).call(this),Bt(this,on,Br).call(this),Bt(this,zt,Zn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(nt){if(!_e(this,Ht)){en(this,Ht,nt);for(const Tt of _e(this,Ht))Bt(this,gn,cr).call(this,Tt.defaultPropertiesToUpdate)}}getId(){return _e(this,Ct).getId()}get currentLayer(){return _e(this,jt).get(_e(this,tn))}getLayer(nt){return _e(this,jt).get(nt)}get currentPageIndex(){return _e(this,tn)}addLayer(nt){_e(this,jt).set(nt.pageIndex,nt),_e(this,tt)?nt.enable():nt.disable()}removeLayer(nt){_e(this,jt).delete(nt.pageIndex)}updateMode(nt,Tt=null){if(_e(this,gt)!==nt){if(en(this,gt,nt),nt===g.AnnotationEditorType.NONE){this.setEditingState(!1),Bt(this,yn,_s).call(this);return}this.setEditingState(!0),Bt(this,Gn,vs).call(this),this.unselectAll();for(const Dt of _e(this,jt).values())Dt.updateMode(nt);if(Tt){for(const Dt of _e(this,Nt).values())if(Dt.annotationElementId===Tt){this.setSelected(Dt),Dt.enterInEditMode();break}}}}updateToolbar(nt){nt!==_e(this,gt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:nt})}updateParams(nt,Tt){if(_e(this,Ht)){if(nt===g.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(nt);return}for(const Dt of _e(this,bt))Dt.updateParams(nt,Tt);for(const Dt of _e(this,Ht))Dt.updateDefaultParams(nt,Tt)}}enableWaiting(nt=!1){if(_e(this,ut)!==nt){en(this,ut,nt);for(const Tt of _e(this,jt).values())nt?Tt.disableClick():Tt.enableClick(),Tt.div.classList.toggle("waiting",nt)}}getEditors(nt){const Tt=[];for(const Dt of _e(this,Nt).values())Dt.pageIndex===nt&&Tt.push(Dt);return Tt}getEditor(nt){return _e(this,Nt).get(nt)}addEditor(nt){_e(this,Nt).set(nt.id,nt)}removeEditor(nt){var Tt;_e(this,Nt).delete(nt.id),this.unselect(nt),(!nt.annotationElementId||!_e(this,Mt).has(nt.annotationElementId))&&((Tt=_e(this,Ut))==null||Tt.remove(nt.id))}addDeletedAnnotationElement(nt){_e(this,Mt).add(nt.annotationElementId),nt.deleted=!0}isDeletedAnnotationElement(nt){return _e(this,Mt).has(nt)}removeDeletedAnnotationElement(nt){_e(this,Mt).delete(nt.annotationElementId),nt.deleted=!1}setActiveEditor(nt){_e(this,wt)!==nt&&(en(this,wt,nt),nt&&Bt(this,gn,cr).call(this,nt.propertiesToUpdate))}toggleSelected(nt){if(_e(this,bt).has(nt)){_e(this,bt).delete(nt),nt.unselect(),Bt(this,zt,Zn).call(this,{hasSelectedEditor:this.hasSelection});return}_e(this,bt).add(nt),nt.select(),Bt(this,gn,cr).call(this,nt.propertiesToUpdate),Bt(this,zt,Zn).call(this,{hasSelectedEditor:!0})}setSelected(nt){for(const Tt of _e(this,bt))Tt!==nt&&Tt.unselect();_e(this,bt).clear(),_e(this,bt).add(nt),nt.select(),Bt(this,gn,cr).call(this,nt.propertiesToUpdate),Bt(this,zt,Zn).call(this,{hasSelectedEditor:!0})}isSelected(nt){return _e(this,bt).has(nt)}unselect(nt){nt.unselect(),_e(this,bt).delete(nt),Bt(this,zt,Zn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return _e(this,bt).size!==0}undo(){_e(this,Xt).undo(),Bt(this,zt,Zn).call(this,{hasSomethingToUndo:_e(this,Xt).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Bt(this,Rn,ur).call(this)})}redo(){_e(this,Xt).redo(),Bt(this,zt,Zn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:_e(this,Xt).hasSomethingToRedo(),isEmpty:Bt(this,Rn,ur).call(this)})}addCommands(nt){_e(this,Xt).add(nt),Bt(this,zt,Zn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Bt(this,Rn,ur).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const nt=[..._e(this,bt)],Tt=()=>{for(const $t of nt)$t.remove()},Dt=()=>{for(const $t of nt)Bt(this,En,zr).call(this,$t)};this.addCommands({cmd:Tt,undo:Dt,mustExec:!0})}commitOrRemove(){var nt;(nt=_e(this,wt))==null||nt.commitOrRemove()}hasSomethingToControl(){return _e(this,wt)||this.hasSelection}selectAll(){for(const nt of _e(this,bt))nt.commit();Bt(this,pn,Wr).call(this,_e(this,Nt).values())}unselectAll(){if(_e(this,wt)){_e(this,wt).commitOrRemove();return}if(this.hasSelection){for(const nt of _e(this,bt))nt.unselect();_e(this,bt).clear(),Bt(this,zt,Zn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(nt,Tt,Dt=!1){if(Dt||this.commitOrRemove(),!this.hasSelection)return;_e(this,kn)[0]+=nt,_e(this,kn)[1]+=Tt;const[$t,Vt]=_e(this,kn),nn=[..._e(this,bt)],hn=1e3;_e(this,un)&&clearTimeout(_e(this,un)),en(this,un,setTimeout(()=>{en(this,un,null),_e(this,kn)[0]=_e(this,kn)[1]=0,this.addCommands({cmd:()=>{for(const An of nn)_e(this,Nt).has(An.id)&&An.translateInPage($t,Vt)},undo:()=>{for(const An of nn)_e(this,Nt).has(An.id)&&An.translateInPage(-$t,-Vt)},mustExec:!1})},hn));for(const An of nn)An.translateInPage(nt,Tt)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),en(this,Wt,new Map);for(const nt of _e(this,bt))_e(this,Wt).set(nt,{savedX:nt.x,savedY:nt.y,savedPageIndex:nt.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!_e(this,Wt))return!1;this.disableUserSelect(!1);const nt=_e(this,Wt);en(this,Wt,null);let Tt=!1;for(const[{x:$t,y:Vt,pageIndex:nn},hn]of nt)hn.newX=$t,hn.newY=Vt,hn.newPageIndex=nn,Tt||(Tt=$t!==hn.savedX||Vt!==hn.savedY||nn!==hn.savedPageIndex);if(!Tt)return!1;const Dt=($t,Vt,nn,hn)=>{if(_e(this,Nt).has($t.id)){const An=_e(this,jt).get(hn);An?$t._setParentAndPosition(An,Vt,nn):($t.pageIndex=hn,$t.x=Vt,$t.y=nn)}};return this.addCommands({cmd:()=>{for(const[$t,{newX:Vt,newY:nn,newPageIndex:hn}]of nt)Dt($t,Vt,nn,hn)},undo:()=>{for(const[$t,{savedX:Vt,savedY:nn,savedPageIndex:hn}]of nt)Dt($t,Vt,nn,hn)},mustExec:!0}),!0}dragSelectedEditors(nt,Tt){if(_e(this,Wt))for(const Dt of _e(this,Wt).keys())Dt.drag(nt,Tt)}rebuild(nt){if(nt.parent===null){const Tt=this.getLayer(nt.pageIndex);Tt?(Tt.changeParent(nt),Tt.addOrRebuild(nt)):(this.addEditor(nt),this.addToAnnotationStorage(nt),nt.rebuild())}else nt.parent.addOrRebuild(nt)}isActive(nt){return _e(this,wt)===nt}getActive(){return _e(this,wt)}getMode(){return _e(this,gt)}get imageManager(){return(0,g.shadow)(this,"imageManager",new et)}};wt=new WeakMap,Nt=new WeakMap,jt=new WeakMap,Pt=new WeakMap,Ut=new WeakMap,Xt=new WeakMap,tn=new WeakMap,Mt=new WeakMap,Wt=new WeakMap,Ht=new WeakMap,ln=new WeakMap,cn=new WeakMap,Ct=new WeakMap,tt=new WeakMap,ut=new WeakMap,st=new WeakMap,gt=new WeakMap,bt=new WeakMap,Rt=new WeakMap,Ft=new WeakMap,Ot=new WeakMap,Jt=new WeakMap,qt=new WeakMap,Kt=new WeakMap,rn=new WeakMap,dn=new WeakMap,sn=new WeakMap,bn=new WeakMap,Mn=new WeakMap,mn=new WeakMap,kn=new WeakMap,un=new WeakMap,Qt=new WeakMap,Zt=new WeakMap,an=new WeakSet,ys=function(){window.addEventListener("focus",_e(this,Ot)),window.addEventListener("blur",_e(this,Ft))},_n=new WeakSet,jr=function(){window.removeEventListener("focus",_e(this,Ot)),window.removeEventListener("blur",_e(this,Ft))},Nn=new WeakSet,$r=function(){window.addEventListener("keydown",_e(this,rn),{capture:!0})},jn=new WeakSet,vr=function(){window.removeEventListener("keydown",_e(this,rn),{capture:!0})},Dn=new WeakSet,Ur=function(){document.addEventListener("copy",_e(this,Jt)),document.addEventListener("cut",_e(this,qt)),document.addEventListener("paste",_e(this,Kt))},on=new WeakSet,Br=function(){document.removeEventListener("copy",_e(this,Jt)),document.removeEventListener("cut",_e(this,qt)),document.removeEventListener("paste",_e(this,Kt))},zt=new WeakSet,Zn=function(nt){Object.entries(nt).some(([Dt,$t])=>_e(this,mn)[Dt]!==$t)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(_e(this,mn),nt)})},gn=new WeakSet,cr=function(nt){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:nt})},Gn=new WeakSet,vs=function(){if(!_e(this,tt)){en(this,tt,!0);for(const nt of _e(this,jt).values())nt.enable()}},yn=new WeakSet,_s=function(){if(this.unselectAll(),_e(this,tt)){en(this,tt,!1);for(const nt of _e(this,jt).values())nt.disable()}},En=new WeakSet,zr=function(nt){const Tt=_e(this,jt).get(nt.pageIndex);Tt?Tt.addOrRebuild(nt):this.addEditor(nt)},Rn=new WeakSet,ur=function(){if(_e(this,Nt).size===0)return!0;if(_e(this,Nt).size===1)for(const nt of _e(this,Nt).values())return nt.isEmpty();return!1},pn=new WeakSet,Wr=function(nt){_e(this,bt).clear();for(const Tt of nt)Tt.isEmpty()||(_e(this,bt).add(Tt),Tt.select());Bt(this,zt,Zn).call(this,{hasSelectedEditor:!0})},Yn(Tn,"TRANSLATE_SMALL",1),Yn(Tn,"TRANSLATE_BIG",10);let St=Tn;o.AnnotationEditorUIManager=St},(e,o,a)=>{var tn,Mt,Wt,Ht,ln,cn,Ct,tt,ut,st,gt,bt,ir,Ft,sr,Jt,Vr,Kt,_r,dn,Er,bn,dr,mn,hr;Object.defineProperty(o,"__esModule",{value:!0}),o.StatTimer=o.RenderingCancelledException=o.PixelsPerInch=o.PageViewport=o.PDFDateString=o.DOMStandardFontDataFactory=o.DOMSVGFactory=o.DOMFilterFactory=o.DOMCanvasFactory=o.DOMCMapReaderFactory=void 0,o.deprecated=xt,o.getColorValues=Nt,o.getCurrentTransform=jt,o.getCurrentTransformInverse=Pt,o.getFilenameFromUrl=ot,o.getPdfFilenameFromUrl=it,o.getRGB=wt,o.getXfaPageViewport=kt,o.isDataScheme=_t,o.isPdfFile=mt,o.isValidFetchUrl=pt,o.loadScript=dt,o.noContextMenu=rt,o.setLayerDimensions=Ut;var g=a(7),_=a(1);const j="http://www.w3.org/2000/svg",Xt=class Xt{};Yn(Xt,"CSS",96),Yn(Xt,"PDF",72),Yn(Xt,"PDF_TO_CSS_UNITS",Xt.CSS/Xt.PDF);let $=Xt;o.PixelsPerInch=$;class ft extends g.BaseFilterFactory{constructor({docId:Zt,ownerDocument:an=globalThis.document}={}){super();It(this,bt);It(this,Ft);It(this,Jt);It(this,Kt);It(this,dn);It(this,bn);It(this,mn);It(this,tn,void 0);It(this,Mt,void 0);It(this,Wt,void 0);It(this,Ht,void 0);It(this,ln,void 0);It(this,cn,void 0);It(this,Ct,void 0);It(this,tt,void 0);It(this,ut,void 0);It(this,st,void 0);It(this,gt,0);en(this,Wt,Zt),en(this,Ht,an)}addFilter(Zt){if(!Zt)return"none";let an=_e(this,bt,ir).get(Zt);if(an)return an;let vn,_n,Fn,Nn;if(Zt.length===1){const Dn=Zt[0],$n=new Array(256);for(let on=0;on<256;on++)$n[on]=Dn[on]/255;Nn=vn=_n=Fn=$n.join(",")}else{const[Dn,$n,on]=Zt,Yt=new Array(256),zt=new Array(256),fn=new Array(256);for(let gn=0;gn<256;gn++)Yt[gn]=Dn[gn]/255,zt[gn]=$n[gn]/255,fn[gn]=on[gn]/255;vn=Yt.join(","),_n=zt.join(","),Fn=fn.join(","),Nn=`${vn}${_n}${Fn}`}if(an=_e(this,bt,ir).get(Nn),an)return _e(this,bt,ir).set(Zt,an),an;const Ln=`g_${_e(this,Wt)}_transfer_map_${lr(this,gt)._++}`,jn=`url(#${Ln})`;_e(this,bt,ir).set(Zt,jn),_e(this,bt,ir).set(Nn,jn);const In=Bt(this,Kt,_r).call(this,Ln);return Bt(this,bn,dr).call(this,vn,_n,Fn,In),jn}addHCMFilter(Zt,an){var $n;const vn=`${Zt}-${an}`;if(_e(this,cn)===vn)return _e(this,Ct);if(en(this,cn,vn),en(this,Ct,"none"),($n=_e(this,ln))==null||$n.remove(),!Zt||!an)return _e(this,Ct);const _n=Bt(this,mn,hr).call(this,Zt);Zt=_.Util.makeHexColor(..._n);const Fn=Bt(this,mn,hr).call(this,an);if(an=_.Util.makeHexColor(...Fn),_e(this,Ft,sr).style.color="",Zt==="#000000"&&an==="#ffffff"||Zt===an)return _e(this,Ct);const Nn=new Array(256);for(let on=0;on<=255;on++){const Yt=on/255;Nn[on]=Yt<=.03928?Yt/12.92:((Yt+.055)/1.055)**2.4}const Ln=Nn.join(","),jn=`g_${_e(this,Wt)}_hcm_filter`,In=en(this,tt,Bt(this,Kt,_r).call(this,jn));Bt(this,bn,dr).call(this,Ln,Ln,Ln,In),Bt(this,Jt,Vr).call(this,In);const Dn=(on,Yt)=>{const zt=_n[on]/255,fn=Fn[on]/255,gn=new Array(Yt+1);for(let Xn=0;Xn<=Yt;Xn++)gn[Xn]=zt+Xn/Yt*(fn-zt);return gn.join(",")};return Bt(this,bn,dr).call(this,Dn(0,5),Dn(1,5),Dn(2,5),In),en(this,Ct,`url(#${jn})`),_e(this,Ct)}addHighlightHCMFilter(Zt,an,vn,_n){var fn;const Fn=`${Zt}-${an}-${vn}-${_n}`;if(_e(this,ut)===Fn)return _e(this,st);if(en(this,ut,Fn),en(this,st,"none"),(fn=_e(this,tt))==null||fn.remove(),!Zt||!an)return _e(this,st);const[Nn,Ln]=[Zt,an].map(Bt(this,mn,hr).bind(this));let jn=Math.round(.2126*Nn[0]+.7152*Nn[1]+.0722*Nn[2]),In=Math.round(.2126*Ln[0]+.7152*Ln[1]+.0722*Ln[2]),[Dn,$n]=[vn,_n].map(Bt(this,mn,hr).bind(this));In<jn&&([jn,In,Dn,$n]=[In,jn,$n,Dn]),_e(this,Ft,sr).style.color="";const on=(gn,Xn,Gn)=>{const Gt=new Array(256),yn=(In-jn)/Gn,Pn=gn/255,En=(Xn-gn)/(255*Gn);let Cn=0;for(let Rn=0;Rn<=Gn;Rn++){const Vn=Math.round(jn+Rn*yn),pn=Pn+Rn*En;for(let zn=Cn;zn<=Vn;zn++)Gt[zn]=pn;Cn=Vn+1}for(let Rn=Cn;Rn<256;Rn++)Gt[Rn]=Gt[Cn-1];return Gt.join(",")},Yt=`g_${_e(this,Wt)}_hcm_highlight_filter`,zt=en(this,tt,Bt(this,Kt,_r).call(this,Yt));return Bt(this,Jt,Vr).call(this,zt),Bt(this,bn,dr).call(this,on(Dn[0],$n[0],5),on(Dn[1],$n[1],5),on(Dn[2],$n[2],5),zt),en(this,st,`url(#${Yt})`),_e(this,st)}destroy(Zt=!1){Zt&&(_e(this,Ct)||_e(this,st))||(_e(this,Mt)&&(_e(this,Mt).parentNode.parentNode.remove(),en(this,Mt,null)),_e(this,tn)&&(_e(this,tn).clear(),en(this,tn,null)),en(this,gt,0))}}tn=new WeakMap,Mt=new WeakMap,Wt=new WeakMap,Ht=new WeakMap,ln=new WeakMap,cn=new WeakMap,Ct=new WeakMap,tt=new WeakMap,ut=new WeakMap,st=new WeakMap,gt=new WeakMap,bt=new WeakSet,ir=function(){return _e(this,tn)||en(this,tn,new Map)},Ft=new WeakSet,sr=function(){if(!_e(this,Mt)){const Zt=_e(this,Ht).createElement("div"),{style:an}=Zt;an.visibility="hidden",an.contain="strict",an.width=an.height=0,an.position="absolute",an.top=an.left=0,an.zIndex=-1;const vn=_e(this,Ht).createElementNS(j,"svg");vn.setAttribute("width",0),vn.setAttribute("height",0),en(this,Mt,_e(this,Ht).createElementNS(j,"defs")),Zt.append(vn),vn.append(_e(this,Mt)),_e(this,Ht).body.append(Zt)}return _e(this,Mt)},Jt=new WeakSet,Vr=function(Zt){const an=_e(this,Ht).createElementNS(j,"feColorMatrix");an.setAttribute("type","matrix"),an.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),Zt.append(an)},Kt=new WeakSet,_r=function(Zt){const an=_e(this,Ht).createElementNS(j,"filter");return an.setAttribute("color-interpolation-filters","sRGB"),an.setAttribute("id",Zt),_e(this,Ft,sr).append(an),an},dn=new WeakSet,Er=function(Zt,an,vn){const _n=_e(this,Ht).createElementNS(j,an);_n.setAttribute("type","discrete"),_n.setAttribute("tableValues",vn),Zt.append(_n)},bn=new WeakSet,dr=function(Zt,an,vn,_n){const Fn=_e(this,Ht).createElementNS(j,"feComponentTransfer");_n.append(Fn),Bt(this,dn,Er).call(this,Fn,"feFuncR",Zt),Bt(this,dn,Er).call(this,Fn,"feFuncG",an),Bt(this,dn,Er).call(this,Fn,"feFuncB",vn)},mn=new WeakSet,hr=function(Zt){return _e(this,Ft,sr).style.color=Zt,wt(getComputedStyle(_e(this,Ft,sr)).getPropertyValue("color"))},o.DOMFilterFactory=ft;class et extends g.BaseCanvasFactory{constructor({ownerDocument:Qt=globalThis.document}={}){super(),this._document=Qt}_createCanvas(Qt,Zt){const an=this._document.createElement("canvas");return an.width=Qt,an.height=Zt,an}}o.DOMCanvasFactory=et;async function lt(un,Qt=!1){if(pt(un,document.baseURI)){const Zt=await fetch(un);if(!Zt.ok)throw new Error(Zt.statusText);return Qt?new Uint8Array(await Zt.arrayBuffer()):(0,_.stringToBytes)(await Zt.text())}return new Promise((Zt,an)=>{const vn=new XMLHttpRequest;vn.open("GET",un,!0),Qt&&(vn.responseType="arraybuffer"),vn.onreadystatechange=()=>{if(vn.readyState===XMLHttpRequest.DONE){if(vn.status===200||vn.status===0){let _n;if(Qt&&vn.response?_n=new Uint8Array(vn.response):!Qt&&vn.responseText&&(_n=(0,_.stringToBytes)(vn.responseText)),_n){Zt(_n);return}}an(new Error(vn.statusText))}},vn.send(null)})}class at extends g.BaseCMapReaderFactory{_fetchData(Qt,Zt){return lt(Qt,this.isCompressed).then(an=>({cMapData:an,compressionType:Zt}))}}o.DOMCMapReaderFactory=at;class At extends g.BaseStandardFontDataFactory{_fetchData(Qt){return lt(Qt,!0)}}o.DOMStandardFontDataFactory=At;class St extends g.BaseSVGFactory{_createSVG(Qt){return document.createElementNS(j,Qt)}}o.DOMSVGFactory=St;class Et{constructor({viewBox:Qt,scale:Zt,rotation:an,offsetX:vn=0,offsetY:_n=0,dontFlip:Fn=!1}){this.viewBox=Qt,this.scale=Zt,this.rotation=an,this.offsetX=vn,this.offsetY=_n;const Nn=(Qt[2]+Qt[0])/2,Ln=(Qt[3]+Qt[1])/2;let jn,In,Dn,$n;switch(an%=360,an<0&&(an+=360),an){case 180:jn=-1,In=0,Dn=0,$n=1;break;case 90:jn=0,In=1,Dn=1,$n=0;break;case 270:jn=0,In=-1,Dn=-1,$n=0;break;case 0:jn=1,In=0,Dn=0,$n=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Fn&&(Dn=-Dn,$n=-$n);let on,Yt,zt,fn;jn===0?(on=Math.abs(Ln-Qt[1])*Zt+vn,Yt=Math.abs(Nn-Qt[0])*Zt+_n,zt=(Qt[3]-Qt[1])*Zt,fn=(Qt[2]-Qt[0])*Zt):(on=Math.abs(Nn-Qt[0])*Zt+vn,Yt=Math.abs(Ln-Qt[1])*Zt+_n,zt=(Qt[2]-Qt[0])*Zt,fn=(Qt[3]-Qt[1])*Zt),this.transform=[jn*Zt,In*Zt,Dn*Zt,$n*Zt,on-jn*Zt*Nn-Dn*Zt*Ln,Yt-In*Zt*Nn-$n*Zt*Ln],this.width=zt,this.height=fn}get rawDims(){const{viewBox:Qt}=this;return(0,_.shadow)(this,"rawDims",{pageWidth:Qt[2]-Qt[0],pageHeight:Qt[3]-Qt[1],pageX:Qt[0],pageY:Qt[1]})}clone({scale:Qt=this.scale,rotation:Zt=this.rotation,offsetX:an=this.offsetX,offsetY:vn=this.offsetY,dontFlip:_n=!1}={}){return new Et({viewBox:this.viewBox.slice(),scale:Qt,rotation:Zt,offsetX:an,offsetY:vn,dontFlip:_n})}convertToViewportPoint(Qt,Zt){return _.Util.applyTransform([Qt,Zt],this.transform)}convertToViewportRectangle(Qt){const Zt=_.Util.applyTransform([Qt[0],Qt[1]],this.transform),an=_.Util.applyTransform([Qt[2],Qt[3]],this.transform);return[Zt[0],Zt[1],an[0],an[1]]}convertToPdfPoint(Qt,Zt){return _.Util.applyInverseTransform([Qt,Zt],this.transform)}}o.PageViewport=Et;class yt extends _.BaseException{constructor(Qt,Zt=0){super(Qt,"RenderingCancelledException"),this.extraDelay=Zt}}o.RenderingCancelledException=yt;function _t(un){const Qt=un.length;let Zt=0;for(;Zt<Qt&&un[Zt].trim()==="";)Zt++;return un.substring(Zt,Zt+5).toLowerCase()==="data:"}function mt(un){return typeof un=="string"&&/\.pdf$/i.test(un)}function ot(un,Qt=!1){return Qt||([un]=un.split(/[#?]/,1)),un.substring(un.lastIndexOf("/")+1)}function it(un,Qt="document.pdf"){if(typeof un!="string")return Qt;if(_t(un))return(0,_.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Qt;const Zt=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,an=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,vn=Zt.exec(un);let _n=an.exec(vn[1])||an.exec(vn[2])||an.exec(vn[3]);if(_n&&(_n=_n[0],_n.includes("%")))try{_n=an.exec(decodeURIComponent(_n))[0]}catch{}return _n||Qt}class ct{constructor(){Yn(this,"started",Object.create(null));Yn(this,"times",[])}time(Qt){Qt in this.started&&(0,_.warn)(`Timer is already running for ${Qt}`),this.started[Qt]=Date.now()}timeEnd(Qt){Qt in this.started||(0,_.warn)(`Timer has not been started for ${Qt}`),this.times.push({name:Qt,start:this.started[Qt],end:Date.now()}),delete this.started[Qt]}toString(){const Qt=[];let Zt=0;for(const{name:an}of this.times)Zt=Math.max(an.length,Zt);for(const{name:an,start:vn,end:_n}of this.times)Qt.push(`${an.padEnd(Zt)} ${_n-vn}ms
`);return Qt.join("")}}o.StatTimer=ct;function pt(un,Qt){try{const{protocol:Zt}=Qt?new URL(un,Qt):new URL(un);return Zt==="http:"||Zt==="https:"}catch{return!1}}function rt(un){un.preventDefault()}function dt(un,Qt=!1){return new Promise((Zt,an)=>{const vn=document.createElement("script");vn.src=un,vn.onload=function(_n){Qt&&vn.remove(),Zt(_n)},vn.onerror=function(){an(new Error(`Cannot load script at: ${vn.src}`))},(document.head||document.documentElement).append(vn)})}function xt(un){console.log("Deprecated API usage: "+un)}let vt;class ht{static toDateObject(Qt){if(!Qt||typeof Qt!="string")return null;vt||(vt=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Zt=vt.exec(Qt);if(!Zt)return null;const an=parseInt(Zt[1],10);let vn=parseInt(Zt[2],10);vn=vn>=1&&vn<=12?vn-1:0;let _n=parseInt(Zt[3],10);_n=_n>=1&&_n<=31?_n:1;let Fn=parseInt(Zt[4],10);Fn=Fn>=0&&Fn<=23?Fn:0;let Nn=parseInt(Zt[5],10);Nn=Nn>=0&&Nn<=59?Nn:0;let Ln=parseInt(Zt[6],10);Ln=Ln>=0&&Ln<=59?Ln:0;const jn=Zt[7]||"Z";let In=parseInt(Zt[8],10);In=In>=0&&In<=23?In:0;let Dn=parseInt(Zt[9],10)||0;return Dn=Dn>=0&&Dn<=59?Dn:0,jn==="-"?(Fn+=In,Nn+=Dn):jn==="+"&&(Fn-=In,Nn-=Dn),new Date(Date.UTC(an,vn,_n,Fn,Nn,Ln))}}o.PDFDateString=ht;function kt(un,{scale:Qt=1,rotation:Zt=0}){const{width:an,height:vn}=un.attributes.style,_n=[0,0,parseInt(an),parseInt(vn)];return new Et({viewBox:_n,scale:Qt,rotation:Zt})}function wt(un){if(un.startsWith("#")){const Qt=parseInt(un.slice(1),16);return[(Qt&16711680)>>16,(Qt&65280)>>8,Qt&255]}return un.startsWith("rgb(")?un.slice(4,-1).split(",").map(Qt=>parseInt(Qt)):un.startsWith("rgba(")?un.slice(5,-1).split(",").map(Qt=>parseInt(Qt)).slice(0,3):((0,_.warn)(`Not a valid color format: "${un}"`),[0,0,0])}function Nt(un){const Qt=document.createElement("span");Qt.style.visibility="hidden",document.body.append(Qt);for(const Zt of un.keys()){Qt.style.color=Zt;const an=window.getComputedStyle(Qt).color;un.set(Zt,wt(an))}Qt.remove()}function jt(un){const{a:Qt,b:Zt,c:an,d:vn,e:_n,f:Fn}=un.getTransform();return[Qt,Zt,an,vn,_n,Fn]}function Pt(un){const{a:Qt,b:Zt,c:an,d:vn,e:_n,f:Fn}=un.getTransform().invertSelf();return[Qt,Zt,an,vn,_n,Fn]}function Ut(un,Qt,Zt=!1,an=!0){if(Qt instanceof Et){const{pageWidth:vn,pageHeight:_n}=Qt.rawDims,{style:Fn}=un,Nn=_.FeatureTest.isCSSRoundSupported,Ln=`var(--scale-factor) * ${vn}px`,jn=`var(--scale-factor) * ${_n}px`,In=Nn?`round(${Ln}, 1px)`:`calc(${Ln})`,Dn=Nn?`round(${jn}, 1px)`:`calc(${jn})`;!Zt||Qt.rotation%180===0?(Fn.width=In,Fn.height=Dn):(Fn.width=Dn,Fn.height=In)}an&&un.setAttribute("data-main-rotation",Qt.rotation)}},(e,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BaseStandardFontDataFactory=o.BaseSVGFactory=o.BaseFilterFactory=o.BaseCanvasFactory=o.BaseCMapReaderFactory=void 0;var g=a(1);class _{constructor(){this.constructor===_&&(0,g.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(at){return"none"}addHCMFilter(at,At){return"none"}addHighlightHCMFilter(at,At,St,Et){return"none"}destroy(at=!1){}}o.BaseFilterFactory=_;class j{constructor(){this.constructor===j&&(0,g.unreachable)("Cannot initialize BaseCanvasFactory.")}create(at,At){if(at<=0||At<=0)throw new Error("Invalid canvas size");const St=this._createCanvas(at,At);return{canvas:St,context:St.getContext("2d")}}reset(at,At,St){if(!at.canvas)throw new Error("Canvas is not specified");if(At<=0||St<=0)throw new Error("Invalid canvas size");at.canvas.width=At,at.canvas.height=St}destroy(at){if(!at.canvas)throw new Error("Canvas is not specified");at.canvas.width=0,at.canvas.height=0,at.canvas=null,at.context=null}_createCanvas(at,At){(0,g.unreachable)("Abstract method `_createCanvas` called.")}}o.BaseCanvasFactory=j;class ${constructor({baseUrl:at=null,isCompressed:At=!0}){this.constructor===$&&(0,g.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=at,this.isCompressed=At}async fetch({name:at}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!at)throw new Error("CMap name must be specified.");const At=this.baseUrl+at+(this.isCompressed?".bcmap":""),St=this.isCompressed?g.CMapCompressionType.BINARY:g.CMapCompressionType.NONE;return this._fetchData(At,St).catch(Et=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${At}`)})}_fetchData(at,At){(0,g.unreachable)("Abstract method `_fetchData` called.")}}o.BaseCMapReaderFactory=$;class ft{constructor({baseUrl:at=null}){this.constructor===ft&&(0,g.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=at}async fetch({filename:at}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!at)throw new Error("Font filename must be specified.");const At=`${this.baseUrl}${at}`;return this._fetchData(At).catch(St=>{throw new Error(`Unable to load font data at: ${At}`)})}_fetchData(at){(0,g.unreachable)("Abstract method `_fetchData` called.")}}o.BaseStandardFontDataFactory=ft;class et{constructor(){this.constructor===et&&(0,g.unreachable)("Cannot initialize BaseSVGFactory.")}create(at,At,St=!1){if(at<=0||At<=0)throw new Error("Invalid SVG dimensions");const Et=this._createSVG("svg:svg");return Et.setAttribute("version","1.1"),St||(Et.setAttribute("width",`${at}px`),Et.setAttribute("height",`${At}px`)),Et.setAttribute("preserveAspectRatio","none"),Et.setAttribute("viewBox",`0 0 ${at} ${At}`),Et}createElement(at){if(typeof at!="string")throw new Error("Invalid SVG element type");return this._createSVG(at)}_createSVG(at){(0,g.unreachable)("Abstract method `_createSVG` called.")}}o.BaseSVGFactory=et},(e,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.MurmurHash3_64=void 0;var g=a(1);const _=3285377520,j=4294901760,$=65535;class ft{constructor(lt){this.h1=lt?lt&4294967295:_,this.h2=lt?lt&4294967295:_}update(lt){let at,At;if(typeof lt=="string"){at=new Uint8Array(lt.length*2),At=0;for(let xt=0,vt=lt.length;xt<vt;xt++){const ht=lt.charCodeAt(xt);ht<=255?at[At++]=ht:(at[At++]=ht>>>8,at[At++]=ht&255)}}else if((0,g.isArrayBuffer)(lt))at=lt.slice(),At=at.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const St=At>>2,Et=At-St*4,yt=new Uint32Array(at.buffer,0,St);let _t=0,mt=0,ot=this.h1,it=this.h2;const ct=3432918353,pt=461845907,rt=ct&$,dt=pt&$;for(let xt=0;xt<St;xt++)xt&1?(_t=yt[xt],_t=_t*ct&j|_t*rt&$,_t=_t<<15|_t>>>17,_t=_t*pt&j|_t*dt&$,ot^=_t,ot=ot<<13|ot>>>19,ot=ot*5+3864292196):(mt=yt[xt],mt=mt*ct&j|mt*rt&$,mt=mt<<15|mt>>>17,mt=mt*pt&j|mt*dt&$,it^=mt,it=it<<13|it>>>19,it=it*5+3864292196);switch(_t=0,Et){case 3:_t^=at[St*4+2]<<16;case 2:_t^=at[St*4+1]<<8;case 1:_t^=at[St*4],_t=_t*ct&j|_t*rt&$,_t=_t<<15|_t>>>17,_t=_t*pt&j|_t*dt&$,St&1?ot^=_t:it^=_t}this.h1=ot,this.h2=it}hexdigest(){let lt=this.h1,at=this.h2;return lt^=at>>>1,lt=lt*3981806797&j|lt*36045&$,at=at*4283543511&j|((at<<16|lt>>>16)*2950163797&j)>>>16,lt^=at>>>1,lt=lt*444984403&j|lt*60499&$,at=at*3301882366&j|((at<<16|lt>>>16)*3120437893&j)>>>16,lt^=at>>>1,(lt>>>0).toString(16).padStart(8,"0")+(at>>>0).toString(16).padStart(8,"0")}}o.MurmurHash3_64=ft},(e,o,a)=>{var $;Object.defineProperty(o,"__esModule",{value:!0}),o.FontLoader=o.FontFaceObject=void 0;var g=a(1);class _{constructor({ownerDocument:et=globalThis.document,styleElement:lt=null}){It(this,$,new Set);this._document=et,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(et){this.nativeFontFaces.add(et),this._document.fonts.add(et)}removeNativeFontFace(et){this.nativeFontFaces.delete(et),this._document.fonts.delete(et)}insertRule(et){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const lt=this.styleElement.sheet;lt.insertRule(et,lt.cssRules.length)}clear(){for(const et of this.nativeFontFaces)this._document.fonts.delete(et);this.nativeFontFaces.clear(),_e(this,$).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(et){if(!(!et||_e(this,$).has(et.loadedName))){if((0,g.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:lt,src:at,style:At}=et,St=new FontFace(lt,at,At);this.addNativeFontFace(St);try{await St.load(),_e(this,$).add(lt)}catch{(0,g.warn)(`Cannot load system font: ${et.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(St)}return}(0,g.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(et){if(et.attached||et.missingFile&&!et.systemFontInfo)return;if(et.attached=!0,et.systemFontInfo){await this.loadSystemFont(et.systemFontInfo);return}if(this.isFontLoadingAPISupported){const at=et.createNativeFontFace();if(at){this.addNativeFontFace(at);try{await at.loaded}catch(At){throw(0,g.warn)(`Failed to load font '${at.family}': '${At}'.`),et.disableFontFace=!0,At}}return}const lt=et.createFontFaceRule();if(lt){if(this.insertRule(lt),this.isSyncFontLoadingSupported)return;await new Promise(at=>{const At=this._queueLoadingCallback(at);this._prepareFontLoadEvent(et,At)})}}get isFontLoadingAPISupported(){var lt;const et=!!((lt=this._document)!=null&&lt.fonts);return(0,g.shadow)(this,"isFontLoadingAPISupported",et)}get isSyncFontLoadingSupported(){let et=!1;return(g.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(et=!0),(0,g.shadow)(this,"isSyncFontLoadingSupported",et)}_queueLoadingCallback(et){function lt(){for((0,g.assert)(!At.done,"completeRequest() cannot be called twice."),At.done=!0;at.length>0&&at[0].done;){const St=at.shift();setTimeout(St.callback,0)}}const{loadingRequests:at}=this,At={done:!1,complete:lt,callback:et};return at.push(At),At}get _loadTestFont(){const et=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,g.shadow)(this,"_loadTestFont",et)}_prepareFontLoadEvent(et,lt){function at(wt,Nt){return wt.charCodeAt(Nt)<<24|wt.charCodeAt(Nt+1)<<16|wt.charCodeAt(Nt+2)<<8|wt.charCodeAt(Nt+3)&255}function At(wt,Nt,jt,Pt){const Ut=wt.substring(0,Nt),Xt=wt.substring(Nt+jt);return Ut+Pt+Xt}let St,Et;const yt=this._document.createElement("canvas");yt.width=1,yt.height=1;const _t=yt.getContext("2d");let mt=0;function ot(wt,Nt){if(++mt>30){(0,g.warn)("Load test font never loaded."),Nt();return}if(_t.font="30px "+wt,_t.fillText(".",0,20),_t.getImageData(0,0,1,1).data[3]>0){Nt();return}setTimeout(ot.bind(null,wt,Nt))}const it=`lt${Date.now()}${this.loadTestFontId++}`;let ct=this._loadTestFont;ct=At(ct,976,it.length,it);const rt=16,dt=1482184792;let xt=at(ct,rt);for(St=0,Et=it.length-3;St<Et;St+=4)xt=xt-dt+at(it,St)|0;St<it.length&&(xt=xt-dt+at(it+"XXX",St)|0),ct=At(ct,rt,4,(0,g.string32)(xt));const vt=`url(data:font/opentype;base64,${btoa(ct)});`,ht=`@font-face {font-family:"${it}";src:${vt}}`;this.insertRule(ht);const kt=this._document.createElement("div");kt.style.visibility="hidden",kt.style.width=kt.style.height="10px",kt.style.position="absolute",kt.style.top=kt.style.left="0px";for(const wt of[et.loadedName,it]){const Nt=this._document.createElement("span");Nt.textContent="Hi",Nt.style.fontFamily=wt,kt.append(Nt)}this._document.body.append(kt),ot(it,()=>{kt.remove(),lt.complete()})}}$=new WeakMap,o.FontLoader=_;class j{constructor(et,{isEvalSupported:lt=!0,disableFontFace:at=!1,ignoreErrors:At=!1,inspectFont:St=null}){this.compiledGlyphs=Object.create(null);for(const Et in et)this[Et]=et[Et];this.isEvalSupported=lt!==!1,this.disableFontFace=at===!0,this.ignoreErrors=At===!0,this._inspectFont=St}createNativeFontFace(){var lt;if(!this.data||this.disableFontFace)return null;let et;if(!this.cssFontInfo)et=new FontFace(this.loadedName,this.data,{});else{const at={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(at.style=`oblique ${this.cssFontInfo.italicAngle}deg`),et=new FontFace(this.cssFontInfo.fontFamily,this.data,at)}return(lt=this._inspectFont)==null||lt.call(this,this),et}createFontFaceRule(){var At;if(!this.data||this.disableFontFace)return null;const et=(0,g.bytesToString)(this.data),lt=`url(data:${this.mimetype};base64,${btoa(et)});`;let at;if(!this.cssFontInfo)at=`@font-face {font-family:"${this.loadedName}";src:${lt}}`;else{let St=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(St+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),at=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${St}src:${lt}}`}return(At=this._inspectFont)==null||At.call(this,this,lt),at}getPathGenerator(et,lt){if(this.compiledGlyphs[lt]!==void 0)return this.compiledGlyphs[lt];let at;try{at=et.get(this.loadedName+"_path_"+lt)}catch(At){if(!this.ignoreErrors)throw At;return(0,g.warn)(`getPathGenerator - ignoring character: "${At}".`),this.compiledGlyphs[lt]=function(St,Et){}}if(this.isEvalSupported&&g.FeatureTest.isEvalSupported){const At=[];for(const St of at){const Et=St.args!==void 0?St.args.join(","):"";At.push("c.",St.cmd,"(",Et,`);
`)}return this.compiledGlyphs[lt]=new Function("c","size",At.join(""))}return this.compiledGlyphs[lt]=function(At,St){for(const Et of at)Et.cmd==="scale"&&(Et.args=[St,-St]),At[Et.cmd].apply(At,Et.args)}}}o.FontFaceObject=j},(e,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.NodeStandardFontDataFactory=o.NodeFilterFactory=o.NodeCanvasFactory=o.NodeCMapReaderFactory=void 0;var g=a(7);a(1);const _=function(lt){return new Promise((at,At)=>{require$$5.readFile(lt,(Et,yt)=>{if(Et||!yt){At(new Error(Et));return}at(new Uint8Array(yt))})})};class j extends g.BaseFilterFactory{}o.NodeFilterFactory=j;class $ extends g.BaseCanvasFactory{_createCanvas(at,At){return require$$5.createCanvas(at,At)}}o.NodeCanvasFactory=$;class ft extends g.BaseCMapReaderFactory{_fetchData(at,At){return _(at).then(St=>({cMapData:St,compressionType:At}))}}o.NodeCMapReaderFactory=ft;class et extends g.BaseStandardFontDataFactory{_fetchData(at){return _(at)}}o.NodeStandardFontDataFactory=et},(e,o,a)=>{var Mt,Hr,Ht,Gr;Object.defineProperty(o,"__esModule",{value:!0}),o.CanvasGraphics=void 0;var g=a(1),_=a(6),j=a(12),$=a(13);const ft=16,et=100,lt=4096,at=15,At=10,St=1e3,Et=16;function yt(Ct,tt){if(Ct._removeMirroring)throw new Error("Context is already forwarding operations.");Ct.__originalSave=Ct.save,Ct.__originalRestore=Ct.restore,Ct.__originalRotate=Ct.rotate,Ct.__originalScale=Ct.scale,Ct.__originalTranslate=Ct.translate,Ct.__originalTransform=Ct.transform,Ct.__originalSetTransform=Ct.setTransform,Ct.__originalResetTransform=Ct.resetTransform,Ct.__originalClip=Ct.clip,Ct.__originalMoveTo=Ct.moveTo,Ct.__originalLineTo=Ct.lineTo,Ct.__originalBezierCurveTo=Ct.bezierCurveTo,Ct.__originalRect=Ct.rect,Ct.__originalClosePath=Ct.closePath,Ct.__originalBeginPath=Ct.beginPath,Ct._removeMirroring=()=>{Ct.save=Ct.__originalSave,Ct.restore=Ct.__originalRestore,Ct.rotate=Ct.__originalRotate,Ct.scale=Ct.__originalScale,Ct.translate=Ct.__originalTranslate,Ct.transform=Ct.__originalTransform,Ct.setTransform=Ct.__originalSetTransform,Ct.resetTransform=Ct.__originalResetTransform,Ct.clip=Ct.__originalClip,Ct.moveTo=Ct.__originalMoveTo,Ct.lineTo=Ct.__originalLineTo,Ct.bezierCurveTo=Ct.__originalBezierCurveTo,Ct.rect=Ct.__originalRect,Ct.closePath=Ct.__originalClosePath,Ct.beginPath=Ct.__originalBeginPath,delete Ct._removeMirroring},Ct.save=function(){tt.save(),this.__originalSave()},Ct.restore=function(){tt.restore(),this.__originalRestore()},Ct.translate=function(st,gt){tt.translate(st,gt),this.__originalTranslate(st,gt)},Ct.scale=function(st,gt){tt.scale(st,gt),this.__originalScale(st,gt)},Ct.transform=function(st,gt,bt,Rt,Ft,Ot){tt.transform(st,gt,bt,Rt,Ft,Ot),this.__originalTransform(st,gt,bt,Rt,Ft,Ot)},Ct.setTransform=function(st,gt,bt,Rt,Ft,Ot){tt.setTransform(st,gt,bt,Rt,Ft,Ot),this.__originalSetTransform(st,gt,bt,Rt,Ft,Ot)},Ct.resetTransform=function(){tt.resetTransform(),this.__originalResetTransform()},Ct.rotate=function(st){tt.rotate(st),this.__originalRotate(st)},Ct.clip=function(st){tt.clip(st),this.__originalClip(st)},Ct.moveTo=function(ut,st){tt.moveTo(ut,st),this.__originalMoveTo(ut,st)},Ct.lineTo=function(ut,st){tt.lineTo(ut,st),this.__originalLineTo(ut,st)},Ct.bezierCurveTo=function(ut,st,gt,bt,Rt,Ft){tt.bezierCurveTo(ut,st,gt,bt,Rt,Ft),this.__originalBezierCurveTo(ut,st,gt,bt,Rt,Ft)},Ct.rect=function(ut,st,gt,bt){tt.rect(ut,st,gt,bt),this.__originalRect(ut,st,gt,bt)},Ct.closePath=function(){tt.closePath(),this.__originalClosePath()},Ct.beginPath=function(){tt.beginPath(),this.__originalBeginPath()}}class _t{constructor(tt){this.canvasFactory=tt,this.cache=Object.create(null)}getCanvas(tt,ut,st){let gt;return this.cache[tt]!==void 0?(gt=this.cache[tt],this.canvasFactory.reset(gt,ut,st)):(gt=this.canvasFactory.create(ut,st),this.cache[tt]=gt),gt}delete(tt){delete this.cache[tt]}clear(){for(const tt in this.cache){const ut=this.cache[tt];this.canvasFactory.destroy(ut),delete this.cache[tt]}}}function mt(Ct,tt,ut,st,gt,bt,Rt,Ft,Ot,Jt){const[qt,Kt,rn,dn,sn,bn]=(0,_.getCurrentTransform)(Ct);if(Kt===0&&rn===0){const kn=Rt*qt+sn,un=Math.round(kn),Qt=Ft*dn+bn,Zt=Math.round(Qt),an=(Rt+Ot)*qt+sn,vn=Math.abs(Math.round(an)-un)||1,_n=(Ft+Jt)*dn+bn,Fn=Math.abs(Math.round(_n)-Zt)||1;return Ct.setTransform(Math.sign(qt),0,0,Math.sign(dn),un,Zt),Ct.drawImage(tt,ut,st,gt,bt,0,0,vn,Fn),Ct.setTransform(qt,Kt,rn,dn,sn,bn),[vn,Fn]}if(qt===0&&dn===0){const kn=Ft*rn+sn,un=Math.round(kn),Qt=Rt*Kt+bn,Zt=Math.round(Qt),an=(Ft+Jt)*rn+sn,vn=Math.abs(Math.round(an)-un)||1,_n=(Rt+Ot)*Kt+bn,Fn=Math.abs(Math.round(_n)-Zt)||1;return Ct.setTransform(0,Math.sign(Kt),Math.sign(rn),0,un,Zt),Ct.drawImage(tt,ut,st,gt,bt,0,0,Fn,vn),Ct.setTransform(qt,Kt,rn,dn,sn,bn),[Fn,vn]}Ct.drawImage(tt,ut,st,gt,bt,Rt,Ft,Ot,Jt);const Mn=Math.hypot(qt,Kt),mn=Math.hypot(rn,dn);return[Mn*Ot,mn*Jt]}function ot(Ct){const{width:tt,height:ut}=Ct;if(tt>St||ut>St)return null;const st=1e3,gt=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),bt=tt+1;let Rt=new Uint8Array(bt*(ut+1)),Ft,Ot,Jt;const qt=tt+7&-8;let Kt=new Uint8Array(qt*ut),rn=0;for(const mn of Ct.data){let kn=128;for(;kn>0;)Kt[rn++]=mn&kn?0:255,kn>>=1}let dn=0;for(rn=0,Kt[rn]!==0&&(Rt[0]=1,++dn),Ot=1;Ot<tt;Ot++)Kt[rn]!==Kt[rn+1]&&(Rt[Ot]=Kt[rn]?2:1,++dn),rn++;for(Kt[rn]!==0&&(Rt[Ot]=2,++dn),Ft=1;Ft<ut;Ft++){rn=Ft*qt,Jt=Ft*bt,Kt[rn-qt]!==Kt[rn]&&(Rt[Jt]=Kt[rn]?1:8,++dn);let mn=(Kt[rn]?4:0)+(Kt[rn-qt]?8:0);for(Ot=1;Ot<tt;Ot++)mn=(mn>>2)+(Kt[rn+1]?4:0)+(Kt[rn-qt+1]?8:0),gt[mn]&&(Rt[Jt+Ot]=gt[mn],++dn),rn++;if(Kt[rn-qt]!==Kt[rn]&&(Rt[Jt+Ot]=Kt[rn]?2:4,++dn),dn>st)return null}for(rn=qt*(ut-1),Jt=Ft*bt,Kt[rn]!==0&&(Rt[Jt]=8,++dn),Ot=1;Ot<tt;Ot++)Kt[rn]!==Kt[rn+1]&&(Rt[Jt+Ot]=Kt[rn]?4:8,++dn),rn++;if(Kt[rn]!==0&&(Rt[Jt+Ot]=4,++dn),dn>st)return null;const sn=new Int32Array([0,bt,-1,0,-bt,0,0,0,1]),bn=new Path2D;for(Ft=0;dn&&Ft<=ut;Ft++){let mn=Ft*bt;const kn=mn+tt;for(;mn<kn&&!Rt[mn];)mn++;if(mn===kn)continue;bn.moveTo(mn%bt,Ft);const un=mn;let Qt=Rt[mn];do{const Zt=sn[Qt];do mn+=Zt;while(!Rt[mn]);const an=Rt[mn];an!==5&&an!==10?(Qt=an,Rt[mn]=0):(Qt=an&51*Qt>>4,Rt[mn]&=Qt>>2|Qt<<2),bn.lineTo(mn%bt,mn/bt|0),Rt[mn]||--dn}while(un!==mn);--Ft}return Kt=null,Rt=null,function(mn){mn.save(),mn.scale(1/tt,-1/ut),mn.translate(0,-ut),mn.fill(bn),mn.beginPath(),mn.restore()}}class it{constructor(tt,ut){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=g.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=g.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=g.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,tt,ut])}clone(){const tt=Object.create(this);return tt.clipBox=this.clipBox.slice(),tt}setCurrentPoint(tt,ut){this.x=tt,this.y=ut}updatePathMinMax(tt,ut,st){[ut,st]=g.Util.applyTransform([ut,st],tt),this.minX=Math.min(this.minX,ut),this.minY=Math.min(this.minY,st),this.maxX=Math.max(this.maxX,ut),this.maxY=Math.max(this.maxY,st)}updateRectMinMax(tt,ut){const st=g.Util.applyTransform(ut,tt),gt=g.Util.applyTransform(ut.slice(2),tt);this.minX=Math.min(this.minX,st[0],gt[0]),this.minY=Math.min(this.minY,st[1],gt[1]),this.maxX=Math.max(this.maxX,st[0],gt[0]),this.maxY=Math.max(this.maxY,st[1],gt[1])}updateScalingPathMinMax(tt,ut){g.Util.scaleMinMax(tt,ut),this.minX=Math.min(this.minX,ut[0]),this.maxX=Math.max(this.maxX,ut[1]),this.minY=Math.min(this.minY,ut[2]),this.maxY=Math.max(this.maxY,ut[3])}updateCurvePathMinMax(tt,ut,st,gt,bt,Rt,Ft,Ot,Jt,qt){const Kt=g.Util.bezierBoundingBox(ut,st,gt,bt,Rt,Ft,Ot,Jt);if(qt){qt[0]=Math.min(qt[0],Kt[0],Kt[2]),qt[1]=Math.max(qt[1],Kt[0],Kt[2]),qt[2]=Math.min(qt[2],Kt[1],Kt[3]),qt[3]=Math.max(qt[3],Kt[1],Kt[3]);return}this.updateRectMinMax(tt,Kt)}getPathBoundingBox(tt=j.PathType.FILL,ut=null){const st=[this.minX,this.minY,this.maxX,this.maxY];if(tt===j.PathType.STROKE){ut||(0,g.unreachable)("Stroke bounding box must include transform.");const gt=g.Util.singularValueDecompose2dScale(ut),bt=gt[0]*this.lineWidth/2,Rt=gt[1]*this.lineWidth/2;st[0]-=bt,st[1]-=Rt,st[2]+=bt,st[3]+=Rt}return st}updateClipFromPath(){const tt=g.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(tt||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(tt){this.clipBox=tt,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(tt=j.PathType.FILL,ut=null){return g.Util.intersect(this.clipBox,this.getPathBoundingBox(tt,ut))}}function ct(Ct,tt){if(typeof ImageData<"u"&&tt instanceof ImageData){Ct.putImageData(tt,0,0);return}const ut=tt.height,st=tt.width,gt=ut%Et,bt=(ut-gt)/Et,Rt=gt===0?bt:bt+1,Ft=Ct.createImageData(st,Et);let Ot=0,Jt;const qt=tt.data,Kt=Ft.data;let rn,dn,sn,bn;if(tt.kind===g.ImageKind.GRAYSCALE_1BPP){const Mn=qt.byteLength,mn=new Uint32Array(Kt.buffer,0,Kt.byteLength>>2),kn=mn.length,un=st+7>>3,Qt=4294967295,Zt=g.FeatureTest.isLittleEndian?4278190080:255;for(rn=0;rn<Rt;rn++){for(sn=rn<bt?Et:gt,Jt=0,dn=0;dn<sn;dn++){const an=Mn-Ot;let vn=0;const _n=an>un?st:an*8-7,Fn=_n&-8;let Nn=0,Ln=0;for(;vn<Fn;vn+=8)Ln=qt[Ot++],mn[Jt++]=Ln&128?Qt:Zt,mn[Jt++]=Ln&64?Qt:Zt,mn[Jt++]=Ln&32?Qt:Zt,mn[Jt++]=Ln&16?Qt:Zt,mn[Jt++]=Ln&8?Qt:Zt,mn[Jt++]=Ln&4?Qt:Zt,mn[Jt++]=Ln&2?Qt:Zt,mn[Jt++]=Ln&1?Qt:Zt;for(;vn<_n;vn++)Nn===0&&(Ln=qt[Ot++],Nn=128),mn[Jt++]=Ln&Nn?Qt:Zt,Nn>>=1}for(;Jt<kn;)mn[Jt++]=0;Ct.putImageData(Ft,0,rn*Et)}}else if(tt.kind===g.ImageKind.RGBA_32BPP){for(dn=0,bn=st*Et*4,rn=0;rn<bt;rn++)Kt.set(qt.subarray(Ot,Ot+bn)),Ot+=bn,Ct.putImageData(Ft,0,dn),dn+=Et;rn<Rt&&(bn=st*gt*4,Kt.set(qt.subarray(Ot,Ot+bn)),Ct.putImageData(Ft,0,dn))}else if(tt.kind===g.ImageKind.RGB_24BPP)for(sn=Et,bn=st*sn,rn=0;rn<Rt;rn++){for(rn>=bt&&(sn=gt,bn=st*sn),Jt=0,dn=bn;dn--;)Kt[Jt++]=qt[Ot++],Kt[Jt++]=qt[Ot++],Kt[Jt++]=qt[Ot++],Kt[Jt++]=255;Ct.putImageData(Ft,0,rn*Et)}else throw new Error(`bad image kind: ${tt.kind}`)}function pt(Ct,tt){if(tt.bitmap){Ct.drawImage(tt.bitmap,0,0);return}const ut=tt.height,st=tt.width,gt=ut%Et,bt=(ut-gt)/Et,Rt=gt===0?bt:bt+1,Ft=Ct.createImageData(st,Et);let Ot=0;const Jt=tt.data,qt=Ft.data;for(let Kt=0;Kt<Rt;Kt++){const rn=Kt<bt?Et:gt;({srcPos:Ot}=(0,$.convertBlackAndWhiteToRGBA)({src:Jt,srcPos:Ot,dest:qt,width:st,height:rn,nonBlackColor:0})),Ct.putImageData(Ft,0,Kt*Et)}}function rt(Ct,tt){const ut=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const st of ut)Ct[st]!==void 0&&(tt[st]=Ct[st]);Ct.setLineDash!==void 0&&(tt.setLineDash(Ct.getLineDash()),tt.lineDashOffset=Ct.lineDashOffset)}function dt(Ct){if(Ct.strokeStyle=Ct.fillStyle="#000000",Ct.fillRule="nonzero",Ct.globalAlpha=1,Ct.lineWidth=1,Ct.lineCap="butt",Ct.lineJoin="miter",Ct.miterLimit=10,Ct.globalCompositeOperation="source-over",Ct.font="10px sans-serif",Ct.setLineDash!==void 0&&(Ct.setLineDash([]),Ct.lineDashOffset=0),!g.isNodeJS){const{filter:tt}=Ct;tt!=="none"&&tt!==""&&(Ct.filter="none")}}function xt(Ct,tt,ut,st){const gt=Ct.length;for(let bt=3;bt<gt;bt+=4){const Rt=Ct[bt];if(Rt===0)Ct[bt-3]=tt,Ct[bt-2]=ut,Ct[bt-1]=st;else if(Rt<255){const Ft=255-Rt;Ct[bt-3]=Ct[bt-3]*Rt+tt*Ft>>8,Ct[bt-2]=Ct[bt-2]*Rt+ut*Ft>>8,Ct[bt-1]=Ct[bt-1]*Rt+st*Ft>>8}}}function vt(Ct,tt,ut){const st=Ct.length,gt=1/255;for(let bt=3;bt<st;bt+=4){const Rt=ut?ut[Ct[bt]]:Ct[bt];tt[bt]=tt[bt]*Rt*gt|0}}function ht(Ct,tt,ut){const st=Ct.length;for(let gt=3;gt<st;gt+=4){const bt=Ct[gt-3]*77+Ct[gt-2]*152+Ct[gt-1]*28;tt[gt]=ut?tt[gt]*ut[bt>>8]>>8:tt[gt]*bt>>16}}function kt(Ct,tt,ut,st,gt,bt,Rt,Ft,Ot,Jt,qt){const Kt=!!bt,rn=Kt?bt[0]:0,dn=Kt?bt[1]:0,sn=Kt?bt[2]:0,bn=gt==="Luminosity"?ht:vt,mn=Math.min(st,Math.ceil(1048576/ut));for(let kn=0;kn<st;kn+=mn){const un=Math.min(mn,st-kn),Qt=Ct.getImageData(Ft-Jt,kn+(Ot-qt),ut,un),Zt=tt.getImageData(Ft,kn+Ot,ut,un);Kt&&xt(Qt.data,rn,dn,sn),bn(Qt.data,Zt.data,Rt),tt.putImageData(Zt,Ft,kn+Ot)}}function wt(Ct,tt,ut,st){const gt=st[0],bt=st[1],Rt=st[2]-gt,Ft=st[3]-bt;Rt===0||Ft===0||(kt(tt.context,ut,Rt,Ft,tt.subtype,tt.backdrop,tt.transferMap,gt,bt,tt.offsetX,tt.offsetY),Ct.save(),Ct.globalAlpha=1,Ct.globalCompositeOperation="source-over",Ct.setTransform(1,0,0,1,0,0),Ct.drawImage(ut.canvas,0,0),Ct.restore())}function Nt(Ct,tt){const ut=g.Util.singularValueDecompose2dScale(Ct);ut[0]=Math.fround(ut[0]),ut[1]=Math.fround(ut[1]);const st=Math.fround((globalThis.devicePixelRatio||1)*_.PixelsPerInch.PDF_TO_CSS_UNITS);return tt!==void 0?tt:ut[0]<=st||ut[1]<=st}const jt=["butt","round","square"],Pt=["miter","round","bevel"],Ut={},Xt={},cn=class cn{constructor(tt,ut,st,gt,bt,{optionalContentConfig:Rt,markedContentStack:Ft=null},Ot,Jt){It(this,Mt);It(this,Ht);this.ctx=tt,this.current=new it(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=ut,this.objs=st,this.canvasFactory=gt,this.filterFactory=bt,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Ft||[],this.optionalContentConfig=Rt,this.cachedCanvases=new _t(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Ot,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=Jt,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(tt,ut=null){return typeof tt=="string"?tt.startsWith("g_")?this.commonObjs.get(tt):this.objs.get(tt):ut}beginDrawing({transform:tt,viewport:ut,transparency:st=!1,background:gt=null}){const bt=this.ctx.canvas.width,Rt=this.ctx.canvas.height,Ft=this.ctx.fillStyle;if(this.ctx.fillStyle=gt||"#ffffff",this.ctx.fillRect(0,0,bt,Rt),this.ctx.fillStyle=Ft,st){const Ot=this.cachedCanvases.getCanvas("transparent",bt,Rt);this.compositeCtx=this.ctx,this.transparentCanvas=Ot.canvas,this.ctx=Ot.context,this.ctx.save(),this.ctx.transform(...(0,_.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),dt(this.ctx),tt&&(this.ctx.transform(...tt),this.outputScaleX=tt[0],this.outputScaleY=tt[0]),this.ctx.transform(...ut.transform),this.viewportScale=ut.scale,this.baseTransform=(0,_.getCurrentTransform)(this.ctx)}executeOperatorList(tt,ut,st,gt){const bt=tt.argsArray,Rt=tt.fnArray;let Ft=ut||0;const Ot=bt.length;if(Ot===Ft)return Ft;const Jt=Ot-Ft>At&&typeof st=="function",qt=Jt?Date.now()+at:0;let Kt=0;const rn=this.commonObjs,dn=this.objs;let sn;for(;;){if(gt!==void 0&&Ft===gt.nextBreakPoint)return gt.breakIt(Ft,st),Ft;if(sn=Rt[Ft],sn!==g.OPS.dependency)this[sn].apply(this,bt[Ft]);else for(const bn of bt[Ft]){const Mn=bn.startsWith("g_")?rn:dn;if(!Mn.has(bn))return Mn.get(bn,st),Ft}if(Ft++,Ft===Ot)return Ft;if(Jt&&++Kt>At){if(Date.now()>qt)return st(),Ft;Kt=0}}}endDrawing(){Bt(this,Mt,Hr).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const tt of this._cachedBitmapsMap.values()){for(const ut of tt.values())typeof HTMLCanvasElement<"u"&&ut instanceof HTMLCanvasElement&&(ut.width=ut.height=0);tt.clear()}this._cachedBitmapsMap.clear(),Bt(this,Ht,Gr).call(this)}_scaleImage(tt,ut){const st=tt.width,gt=tt.height;let bt=Math.max(Math.hypot(ut[0],ut[1]),1),Rt=Math.max(Math.hypot(ut[2],ut[3]),1),Ft=st,Ot=gt,Jt="prescale1",qt,Kt;for(;bt>2&&Ft>1||Rt>2&&Ot>1;){let rn=Ft,dn=Ot;bt>2&&Ft>1&&(rn=Ft>=16384?Math.floor(Ft/2)-1||1:Math.ceil(Ft/2),bt/=Ft/rn),Rt>2&&Ot>1&&(dn=Ot>=16384?Math.floor(Ot/2)-1||1:Math.ceil(Ot)/2,Rt/=Ot/dn),qt=this.cachedCanvases.getCanvas(Jt,rn,dn),Kt=qt.context,Kt.clearRect(0,0,rn,dn),Kt.drawImage(tt,0,0,Ft,Ot,0,0,rn,dn),tt=qt.canvas,Ft=rn,Ot=dn,Jt=Jt==="prescale1"?"prescale2":"prescale1"}return{img:tt,paintWidth:Ft,paintHeight:Ot}}_createMaskCanvas(tt){const ut=this.ctx,{width:st,height:gt}=tt,bt=this.current.fillColor,Rt=this.current.patternFill,Ft=(0,_.getCurrentTransform)(ut);let Ot,Jt,qt,Kt;if((tt.bitmap||tt.data)&&tt.count>1){const vn=tt.bitmap||tt.data.buffer;Jt=JSON.stringify(Rt?Ft:[Ft.slice(0,4),bt]),Ot=this._cachedBitmapsMap.get(vn),Ot||(Ot=new Map,this._cachedBitmapsMap.set(vn,Ot));const _n=Ot.get(Jt);if(_n&&!Rt){const Fn=Math.round(Math.min(Ft[0],Ft[2])+Ft[4]),Nn=Math.round(Math.min(Ft[1],Ft[3])+Ft[5]);return{canvas:_n,offsetX:Fn,offsetY:Nn}}qt=_n}qt||(Kt=this.cachedCanvases.getCanvas("maskCanvas",st,gt),pt(Kt.context,tt));let rn=g.Util.transform(Ft,[1/st,0,0,-1/gt,0,0]);rn=g.Util.transform(rn,[1,0,0,1,0,-gt]);const dn=g.Util.applyTransform([0,0],rn),sn=g.Util.applyTransform([st,gt],rn),bn=g.Util.normalizeRect([dn[0],dn[1],sn[0],sn[1]]),Mn=Math.round(bn[2]-bn[0])||1,mn=Math.round(bn[3]-bn[1])||1,kn=this.cachedCanvases.getCanvas("fillCanvas",Mn,mn),un=kn.context,Qt=Math.min(dn[0],sn[0]),Zt=Math.min(dn[1],sn[1]);un.translate(-Qt,-Zt),un.transform(...rn),qt||(qt=this._scaleImage(Kt.canvas,(0,_.getCurrentTransformInverse)(un)),qt=qt.img,Ot&&Rt&&Ot.set(Jt,qt)),un.imageSmoothingEnabled=Nt((0,_.getCurrentTransform)(un),tt.interpolate),mt(un,qt,0,0,qt.width,qt.height,0,0,st,gt),un.globalCompositeOperation="source-in";const an=g.Util.transform((0,_.getCurrentTransformInverse)(un),[1,0,0,1,-Qt,-Zt]);return un.fillStyle=Rt?bt.getPattern(ut,this,an,j.PathType.FILL):bt,un.fillRect(0,0,st,gt),Ot&&!Rt&&(this.cachedCanvases.delete("fillCanvas"),Ot.set(Jt,kn.canvas)),{canvas:kn.canvas,offsetX:Math.round(Qt),offsetY:Math.round(Zt)}}setLineWidth(tt){tt!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=tt,this.ctx.lineWidth=tt}setLineCap(tt){this.ctx.lineCap=jt[tt]}setLineJoin(tt){this.ctx.lineJoin=Pt[tt]}setMiterLimit(tt){this.ctx.miterLimit=tt}setDash(tt,ut){const st=this.ctx;st.setLineDash!==void 0&&(st.setLineDash(tt),st.lineDashOffset=ut)}setRenderingIntent(tt){}setFlatness(tt){}setGState(tt){for(const[ut,st]of tt)switch(ut){case"LW":this.setLineWidth(st);break;case"LC":this.setLineCap(st);break;case"LJ":this.setLineJoin(st);break;case"ML":this.setMiterLimit(st);break;case"D":this.setDash(st[0],st[1]);break;case"RI":this.setRenderingIntent(st);break;case"FL":this.setFlatness(st);break;case"Font":this.setFont(st[0],st[1]);break;case"CA":this.current.strokeAlpha=st;break;case"ca":this.current.fillAlpha=st,this.ctx.globalAlpha=st;break;case"BM":this.ctx.globalCompositeOperation=st;break;case"SMask":this.current.activeSMask=st?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(st);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const tt=this.inSMaskMode;this.current.activeSMask&&!tt?this.beginSMaskMode():!this.current.activeSMask&&tt&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const tt=this.ctx.canvas.width,ut=this.ctx.canvas.height,st="smaskGroupAt"+this.groupLevel,gt=this.cachedCanvases.getCanvas(st,tt,ut);this.suspendedCtx=this.ctx,this.ctx=gt.context;const bt=this.ctx;bt.setTransform(...(0,_.getCurrentTransform)(this.suspendedCtx)),rt(this.suspendedCtx,bt),yt(bt,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),rt(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(tt){if(!this.current.activeSMask)return;tt?(tt[0]=Math.floor(tt[0]),tt[1]=Math.floor(tt[1]),tt[2]=Math.ceil(tt[2]),tt[3]=Math.ceil(tt[3])):tt=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const ut=this.current.activeSMask,st=this.suspendedCtx;wt(st,ut,this.ctx,tt),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(rt(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const tt=this.current;this.stateStack.push(tt),this.current=tt.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),rt(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(tt,ut,st,gt,bt,Rt){this.ctx.transform(tt,ut,st,gt,bt,Rt),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(tt,ut,st){const gt=this.ctx,bt=this.current;let Rt=bt.x,Ft=bt.y,Ot,Jt;const qt=(0,_.getCurrentTransform)(gt),Kt=qt[0]===0&&qt[3]===0||qt[1]===0&&qt[2]===0,rn=Kt?st.slice(0):null;for(let dn=0,sn=0,bn=tt.length;dn<bn;dn++)switch(tt[dn]|0){case g.OPS.rectangle:Rt=ut[sn++],Ft=ut[sn++];const Mn=ut[sn++],mn=ut[sn++],kn=Rt+Mn,un=Ft+mn;gt.moveTo(Rt,Ft),Mn===0||mn===0?gt.lineTo(kn,un):(gt.lineTo(kn,Ft),gt.lineTo(kn,un),gt.lineTo(Rt,un)),Kt||bt.updateRectMinMax(qt,[Rt,Ft,kn,un]),gt.closePath();break;case g.OPS.moveTo:Rt=ut[sn++],Ft=ut[sn++],gt.moveTo(Rt,Ft),Kt||bt.updatePathMinMax(qt,Rt,Ft);break;case g.OPS.lineTo:Rt=ut[sn++],Ft=ut[sn++],gt.lineTo(Rt,Ft),Kt||bt.updatePathMinMax(qt,Rt,Ft);break;case g.OPS.curveTo:Ot=Rt,Jt=Ft,Rt=ut[sn+4],Ft=ut[sn+5],gt.bezierCurveTo(ut[sn],ut[sn+1],ut[sn+2],ut[sn+3],Rt,Ft),bt.updateCurvePathMinMax(qt,Ot,Jt,ut[sn],ut[sn+1],ut[sn+2],ut[sn+3],Rt,Ft,rn),sn+=6;break;case g.OPS.curveTo2:Ot=Rt,Jt=Ft,gt.bezierCurveTo(Rt,Ft,ut[sn],ut[sn+1],ut[sn+2],ut[sn+3]),bt.updateCurvePathMinMax(qt,Ot,Jt,Rt,Ft,ut[sn],ut[sn+1],ut[sn+2],ut[sn+3],rn),Rt=ut[sn+2],Ft=ut[sn+3],sn+=4;break;case g.OPS.curveTo3:Ot=Rt,Jt=Ft,Rt=ut[sn+2],Ft=ut[sn+3],gt.bezierCurveTo(ut[sn],ut[sn+1],Rt,Ft,Rt,Ft),bt.updateCurvePathMinMax(qt,Ot,Jt,ut[sn],ut[sn+1],Rt,Ft,Rt,Ft,rn),sn+=4;break;case g.OPS.closePath:gt.closePath();break}Kt&&bt.updateScalingPathMinMax(qt,rn),bt.setCurrentPoint(Rt,Ft)}closePath(){this.ctx.closePath()}stroke(tt=!0){const ut=this.ctx,st=this.current.strokeColor;ut.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof st=="object"&&(st!=null&&st.getPattern)?(ut.save(),ut.strokeStyle=st.getPattern(ut,this,(0,_.getCurrentTransformInverse)(ut),j.PathType.STROKE),this.rescaleAndStroke(!1),ut.restore()):this.rescaleAndStroke(!0)),tt&&this.consumePath(this.current.getClippedPathBoundingBox()),ut.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(tt=!0){const ut=this.ctx,st=this.current.fillColor,gt=this.current.patternFill;let bt=!1;gt&&(ut.save(),ut.fillStyle=st.getPattern(ut,this,(0,_.getCurrentTransformInverse)(ut),j.PathType.FILL),bt=!0);const Rt=this.current.getClippedPathBoundingBox();this.contentVisible&&Rt!==null&&(this.pendingEOFill?(ut.fill("evenodd"),this.pendingEOFill=!1):ut.fill()),bt&&ut.restore(),tt&&this.consumePath(Rt)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Ut}eoClip(){this.pendingClip=Xt}beginText(){this.current.textMatrix=g.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const tt=this.pendingTextPaths,ut=this.ctx;if(tt===void 0){ut.beginPath();return}ut.save(),ut.beginPath();for(const st of tt)ut.setTransform(...st.transform),ut.translate(st.x,st.y),st.addToPath(ut,st.fontSize);ut.restore(),ut.clip(),ut.beginPath(),delete this.pendingTextPaths}setCharSpacing(tt){this.current.charSpacing=tt}setWordSpacing(tt){this.current.wordSpacing=tt}setHScale(tt){this.current.textHScale=tt/100}setLeading(tt){this.current.leading=-tt}setFont(tt,ut){var qt;const st=this.commonObjs.get(tt),gt=this.current;if(!st)throw new Error(`Can't find font for ${tt}`);if(gt.fontMatrix=st.fontMatrix||g.FONT_IDENTITY_MATRIX,(gt.fontMatrix[0]===0||gt.fontMatrix[3]===0)&&(0,g.warn)("Invalid font matrix for font "+tt),ut<0?(ut=-ut,gt.fontDirection=-1):gt.fontDirection=1,this.current.font=st,this.current.fontSize=ut,st.isType3Font)return;const bt=st.loadedName||"sans-serif",Rt=((qt=st.systemFontInfo)==null?void 0:qt.css)||`"${bt}", ${st.fallbackName}`;let Ft="normal";st.black?Ft="900":st.bold&&(Ft="bold");const Ot=st.italic?"italic":"normal";let Jt=ut;ut<ft?Jt=ft:ut>et&&(Jt=et),this.current.fontSizeScale=ut/Jt,this.ctx.font=`${Ot} ${Ft} ${Jt}px ${Rt}`}setTextRenderingMode(tt){this.current.textRenderingMode=tt}setTextRise(tt){this.current.textRise=tt}moveText(tt,ut){this.current.x=this.current.lineX+=tt,this.current.y=this.current.lineY+=ut}setLeadingMoveText(tt,ut){this.setLeading(-ut),this.moveText(tt,ut)}setTextMatrix(tt,ut,st,gt,bt,Rt){this.current.textMatrix=[tt,ut,st,gt,bt,Rt],this.current.textMatrixScale=Math.hypot(tt,ut),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(tt,ut,st,gt){const bt=this.ctx,Rt=this.current,Ft=Rt.font,Ot=Rt.textRenderingMode,Jt=Rt.fontSize/Rt.fontSizeScale,qt=Ot&g.TextRenderingMode.FILL_STROKE_MASK,Kt=!!(Ot&g.TextRenderingMode.ADD_TO_PATH_FLAG),rn=Rt.patternFill&&!Ft.missingFile;let dn;(Ft.disableFontFace||Kt||rn)&&(dn=Ft.getPathGenerator(this.commonObjs,tt)),Ft.disableFontFace||rn?(bt.save(),bt.translate(ut,st),bt.beginPath(),dn(bt,Jt),gt&&bt.setTransform(...gt),(qt===g.TextRenderingMode.FILL||qt===g.TextRenderingMode.FILL_STROKE)&&bt.fill(),(qt===g.TextRenderingMode.STROKE||qt===g.TextRenderingMode.FILL_STROKE)&&bt.stroke(),bt.restore()):((qt===g.TextRenderingMode.FILL||qt===g.TextRenderingMode.FILL_STROKE)&&bt.fillText(tt,ut,st),(qt===g.TextRenderingMode.STROKE||qt===g.TextRenderingMode.FILL_STROKE)&&bt.strokeText(tt,ut,st)),Kt&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,_.getCurrentTransform)(bt),x:ut,y:st,fontSize:Jt,addToPath:dn})}get isFontSubpixelAAEnabled(){const{context:tt}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);tt.scale(1.5,1),tt.fillText("I",0,10);const ut=tt.getImageData(0,0,10,10).data;let st=!1;for(let gt=3;gt<ut.length;gt+=4)if(ut[gt]>0&&ut[gt]<255){st=!0;break}return(0,g.shadow)(this,"isFontSubpixelAAEnabled",st)}showText(tt){const ut=this.current,st=ut.font;if(st.isType3Font)return this.showType3Text(tt);const gt=ut.fontSize;if(gt===0)return;const bt=this.ctx,Rt=ut.fontSizeScale,Ft=ut.charSpacing,Ot=ut.wordSpacing,Jt=ut.fontDirection,qt=ut.textHScale*Jt,Kt=tt.length,rn=st.vertical,dn=rn?1:-1,sn=st.defaultVMetrics,bn=gt*ut.fontMatrix[0],Mn=ut.textRenderingMode===g.TextRenderingMode.FILL&&!st.disableFontFace&&!ut.patternFill;bt.save(),bt.transform(...ut.textMatrix),bt.translate(ut.x,ut.y+ut.textRise),Jt>0?bt.scale(qt,-1):bt.scale(qt,1);let mn;if(ut.patternFill){bt.save();const an=ut.fillColor.getPattern(bt,this,(0,_.getCurrentTransformInverse)(bt),j.PathType.FILL);mn=(0,_.getCurrentTransform)(bt),bt.restore(),bt.fillStyle=an}let kn=ut.lineWidth;const un=ut.textMatrixScale;if(un===0||kn===0){const an=ut.textRenderingMode&g.TextRenderingMode.FILL_STROKE_MASK;(an===g.TextRenderingMode.STROKE||an===g.TextRenderingMode.FILL_STROKE)&&(kn=this.getSinglePixelWidth())}else kn/=un;if(Rt!==1&&(bt.scale(Rt,Rt),kn/=Rt),bt.lineWidth=kn,st.isInvalidPDFjsFont){const an=[];let vn=0;for(const _n of tt)an.push(_n.unicode),vn+=_n.width;bt.fillText(an.join(""),0,0),ut.x+=vn*bn*qt,bt.restore(),this.compose();return}let Qt=0,Zt;for(Zt=0;Zt<Kt;++Zt){const an=tt[Zt];if(typeof an=="number"){Qt+=dn*an*gt/1e3;continue}let vn=!1;const _n=(an.isSpace?Ot:0)+Ft,Fn=an.fontChar,Nn=an.accent;let Ln,jn,In=an.width;if(rn){const $n=an.vmetric||sn,on=-(an.vmetric?$n[1]:In*.5)*bn,Yt=$n[2]*bn;In=$n?-$n[0]:In,Ln=on/Rt,jn=(Qt+Yt)/Rt}else Ln=Qt/Rt,jn=0;if(st.remeasure&&In>0){const $n=bt.measureText(Fn).width*1e3/gt*Rt;if(In<$n&&this.isFontSubpixelAAEnabled){const on=In/$n;vn=!0,bt.save(),bt.scale(on,1),Ln/=on}else In!==$n&&(Ln+=(In-$n)/2e3*gt/Rt)}if(this.contentVisible&&(an.isInFont||st.missingFile)){if(Mn&&!Nn)bt.fillText(Fn,Ln,jn);else if(this.paintChar(Fn,Ln,jn,mn),Nn){const $n=Ln+gt*Nn.offset.x/Rt,on=jn-gt*Nn.offset.y/Rt;this.paintChar(Nn.fontChar,$n,on,mn)}}const Dn=rn?In*bn-_n*Jt:In*bn+_n*Jt;Qt+=Dn,vn&&bt.restore()}rn?ut.y-=Qt:ut.x+=Qt*qt,bt.restore(),this.compose()}showType3Text(tt){const ut=this.ctx,st=this.current,gt=st.font,bt=st.fontSize,Rt=st.fontDirection,Ft=gt.vertical?1:-1,Ot=st.charSpacing,Jt=st.wordSpacing,qt=st.textHScale*Rt,Kt=st.fontMatrix||g.FONT_IDENTITY_MATRIX,rn=tt.length,dn=st.textRenderingMode===g.TextRenderingMode.INVISIBLE;let sn,bn,Mn,mn;if(!(dn||bt===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,ut.save(),ut.transform(...st.textMatrix),ut.translate(st.x,st.y),ut.scale(qt,Rt),sn=0;sn<rn;++sn){if(bn=tt[sn],typeof bn=="number"){mn=Ft*bn*bt/1e3,this.ctx.translate(mn,0),st.x+=mn*qt;continue}const kn=(bn.isSpace?Jt:0)+Ot,un=gt.charProcOperatorList[bn.operatorListId];if(!un){(0,g.warn)(`Type3 character "${bn.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=bn,this.save(),ut.scale(bt,bt),ut.transform(...Kt),this.executeOperatorList(un),this.restore()),Mn=g.Util.applyTransform([bn.width,0],Kt)[0]*bt+kn,ut.translate(Mn,0),st.x+=Mn*qt}ut.restore(),this.processingType3=null}}setCharWidth(tt,ut){}setCharWidthAndBounds(tt,ut,st,gt,bt,Rt){this.ctx.rect(st,gt,bt-st,Rt-gt),this.ctx.clip(),this.endPath()}getColorN_Pattern(tt){let ut;if(tt[0]==="TilingPattern"){const st=tt[1],gt=this.baseTransform||(0,_.getCurrentTransform)(this.ctx),bt={createCanvasGraphics:Rt=>new cn(Rt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};ut=new j.TilingPattern(tt,st,this.ctx,bt,gt)}else ut=this._getPattern(tt[1],tt[2]);return ut}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(tt,ut,st){const gt=g.Util.makeHexColor(tt,ut,st);this.ctx.strokeStyle=gt,this.current.strokeColor=gt}setFillRGBColor(tt,ut,st){const gt=g.Util.makeHexColor(tt,ut,st);this.ctx.fillStyle=gt,this.current.fillColor=gt,this.current.patternFill=!1}_getPattern(tt,ut=null){let st;return this.cachedPatterns.has(tt)?st=this.cachedPatterns.get(tt):(st=(0,j.getShadingPattern)(this.getObject(tt)),this.cachedPatterns.set(tt,st)),ut&&(st.matrix=ut),st}shadingFill(tt){if(!this.contentVisible)return;const ut=this.ctx;this.save();const st=this._getPattern(tt);ut.fillStyle=st.getPattern(ut,this,(0,_.getCurrentTransformInverse)(ut),j.PathType.SHADING);const gt=(0,_.getCurrentTransformInverse)(ut);if(gt){const{width:bt,height:Rt}=ut.canvas,[Ft,Ot,Jt,qt]=g.Util.getAxialAlignedBoundingBox([0,0,bt,Rt],gt);this.ctx.fillRect(Ft,Ot,Jt-Ft,qt-Ot)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,g.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,g.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(tt,ut){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(tt)&&tt.length===6&&this.transform(...tt),this.baseTransform=(0,_.getCurrentTransform)(this.ctx),ut)){const st=ut[2]-ut[0],gt=ut[3]-ut[1];this.ctx.rect(ut[0],ut[1],st,gt),this.current.updateRectMinMax((0,_.getCurrentTransform)(this.ctx),ut),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(tt){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const ut=this.ctx;tt.isolated||(0,g.info)("TODO: Support non-isolated groups."),tt.knockout&&(0,g.warn)("Knockout groups not supported.");const st=(0,_.getCurrentTransform)(ut);if(tt.matrix&&ut.transform(...tt.matrix),!tt.bbox)throw new Error("Bounding box is required.");let gt=g.Util.getAxialAlignedBoundingBox(tt.bbox,(0,_.getCurrentTransform)(ut));const bt=[0,0,ut.canvas.width,ut.canvas.height];gt=g.Util.intersect(gt,bt)||[0,0,0,0];const Rt=Math.floor(gt[0]),Ft=Math.floor(gt[1]);let Ot=Math.max(Math.ceil(gt[2])-Rt,1),Jt=Math.max(Math.ceil(gt[3])-Ft,1),qt=1,Kt=1;Ot>lt&&(qt=Ot/lt,Ot=lt),Jt>lt&&(Kt=Jt/lt,Jt=lt),this.current.startNewPathAndClipBox([0,0,Ot,Jt]);let rn="groupAt"+this.groupLevel;tt.smask&&(rn+="_smask_"+this.smaskCounter++%2);const dn=this.cachedCanvases.getCanvas(rn,Ot,Jt),sn=dn.context;sn.scale(1/qt,1/Kt),sn.translate(-Rt,-Ft),sn.transform(...st),tt.smask?this.smaskStack.push({canvas:dn.canvas,context:sn,offsetX:Rt,offsetY:Ft,scaleX:qt,scaleY:Kt,subtype:tt.smask.subtype,backdrop:tt.smask.backdrop,transferMap:tt.smask.transferMap||null,startTransformInverse:null}):(ut.setTransform(1,0,0,1,0,0),ut.translate(Rt,Ft),ut.scale(qt,Kt),ut.save()),rt(ut,sn),this.ctx=sn,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(ut),this.groupLevel++}endGroup(tt){if(!this.contentVisible)return;this.groupLevel--;const ut=this.ctx,st=this.groupStack.pop();if(this.ctx=st,this.ctx.imageSmoothingEnabled=!1,tt.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const gt=(0,_.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...gt);const bt=g.Util.getAxialAlignedBoundingBox([0,0,ut.canvas.width,ut.canvas.height],gt);this.ctx.drawImage(ut.canvas,0,0),this.ctx.restore(),this.compose(bt)}}beginAnnotation(tt,ut,st,gt,bt){if(Bt(this,Mt,Hr).call(this),dt(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(ut)&&ut.length===4){const Rt=ut[2]-ut[0],Ft=ut[3]-ut[1];if(bt&&this.annotationCanvasMap){st=st.slice(),st[4]-=ut[0],st[5]-=ut[1],ut=ut.slice(),ut[0]=ut[1]=0,ut[2]=Rt,ut[3]=Ft;const[Ot,Jt]=g.Util.singularValueDecompose2dScale((0,_.getCurrentTransform)(this.ctx)),{viewportScale:qt}=this,Kt=Math.ceil(Rt*this.outputScaleX*qt),rn=Math.ceil(Ft*this.outputScaleY*qt);this.annotationCanvas=this.canvasFactory.create(Kt,rn);const{canvas:dn,context:sn}=this.annotationCanvas;this.annotationCanvasMap.set(tt,dn),this.annotationCanvas.savedCtx=this.ctx,this.ctx=sn,this.ctx.save(),this.ctx.setTransform(Ot,0,0,-Jt,0,Ft*Jt),dt(this.ctx)}else dt(this.ctx),this.ctx.rect(ut[0],ut[1],Rt,Ft),this.ctx.clip(),this.endPath()}this.current=new it(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...st),this.transform(...gt)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Bt(this,Ht,Gr).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(tt){if(!this.contentVisible)return;const ut=tt.count;tt=this.getObject(tt.data,tt),tt.count=ut;const st=this.ctx,gt=this.processingType3;if(gt&&(gt.compiled===void 0&&(gt.compiled=ot(tt)),gt.compiled)){gt.compiled(st);return}const bt=this._createMaskCanvas(tt),Rt=bt.canvas;st.save(),st.setTransform(1,0,0,1,0,0),st.drawImage(Rt,bt.offsetX,bt.offsetY),st.restore(),this.compose()}paintImageMaskXObjectRepeat(tt,ut,st=0,gt=0,bt,Rt){if(!this.contentVisible)return;tt=this.getObject(tt.data,tt);const Ft=this.ctx;Ft.save();const Ot=(0,_.getCurrentTransform)(Ft);Ft.transform(ut,st,gt,bt,0,0);const Jt=this._createMaskCanvas(tt);Ft.setTransform(1,0,0,1,Jt.offsetX-Ot[4],Jt.offsetY-Ot[5]);for(let qt=0,Kt=Rt.length;qt<Kt;qt+=2){const rn=g.Util.transform(Ot,[ut,st,gt,bt,Rt[qt],Rt[qt+1]]),[dn,sn]=g.Util.applyTransform([0,0],rn);Ft.drawImage(Jt.canvas,dn,sn)}Ft.restore(),this.compose()}paintImageMaskXObjectGroup(tt){if(!this.contentVisible)return;const ut=this.ctx,st=this.current.fillColor,gt=this.current.patternFill;for(const bt of tt){const{data:Rt,width:Ft,height:Ot,transform:Jt}=bt,qt=this.cachedCanvases.getCanvas("maskCanvas",Ft,Ot),Kt=qt.context;Kt.save();const rn=this.getObject(Rt,bt);pt(Kt,rn),Kt.globalCompositeOperation="source-in",Kt.fillStyle=gt?st.getPattern(Kt,this,(0,_.getCurrentTransformInverse)(ut),j.PathType.FILL):st,Kt.fillRect(0,0,Ft,Ot),Kt.restore(),ut.save(),ut.transform(...Jt),ut.scale(1,-1),mt(ut,qt.canvas,0,0,Ft,Ot,0,-1,1,1),ut.restore()}this.compose()}paintImageXObject(tt){if(!this.contentVisible)return;const ut=this.getObject(tt);if(!ut){(0,g.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(ut)}paintImageXObjectRepeat(tt,ut,st,gt){if(!this.contentVisible)return;const bt=this.getObject(tt);if(!bt){(0,g.warn)("Dependent image isn't ready yet");return}const Rt=bt.width,Ft=bt.height,Ot=[];for(let Jt=0,qt=gt.length;Jt<qt;Jt+=2)Ot.push({transform:[ut,0,0,st,gt[Jt],gt[Jt+1]],x:0,y:0,w:Rt,h:Ft});this.paintInlineImageXObjectGroup(bt,Ot)}applyTransferMapsToCanvas(tt){return this.current.transferMaps!=="none"&&(tt.filter=this.current.transferMaps,tt.drawImage(tt.canvas,0,0),tt.filter="none"),tt.canvas}applyTransferMapsToBitmap(tt){if(this.current.transferMaps==="none")return tt.bitmap;const{bitmap:ut,width:st,height:gt}=tt,bt=this.cachedCanvases.getCanvas("inlineImage",st,gt),Rt=bt.context;return Rt.filter=this.current.transferMaps,Rt.drawImage(ut,0,0),Rt.filter="none",bt.canvas}paintInlineImageXObject(tt){if(!this.contentVisible)return;const ut=tt.width,st=tt.height,gt=this.ctx;if(this.save(),!g.isNodeJS){const{filter:Ft}=gt;Ft!=="none"&&Ft!==""&&(gt.filter="none")}gt.scale(1/ut,-1/st);let bt;if(tt.bitmap)bt=this.applyTransferMapsToBitmap(tt);else if(typeof HTMLElement=="function"&&tt instanceof HTMLElement||!tt.data)bt=tt;else{const Ot=this.cachedCanvases.getCanvas("inlineImage",ut,st).context;ct(Ot,tt),bt=this.applyTransferMapsToCanvas(Ot)}const Rt=this._scaleImage(bt,(0,_.getCurrentTransformInverse)(gt));gt.imageSmoothingEnabled=Nt((0,_.getCurrentTransform)(gt),tt.interpolate),mt(gt,Rt.img,0,0,Rt.paintWidth,Rt.paintHeight,0,-st,ut,st),this.compose(),this.restore()}paintInlineImageXObjectGroup(tt,ut){if(!this.contentVisible)return;const st=this.ctx;let gt;if(tt.bitmap)gt=tt.bitmap;else{const bt=tt.width,Rt=tt.height,Ot=this.cachedCanvases.getCanvas("inlineImage",bt,Rt).context;ct(Ot,tt),gt=this.applyTransferMapsToCanvas(Ot)}for(const bt of ut)st.save(),st.transform(...bt.transform),st.scale(1,-1),mt(st,gt,bt.x,bt.y,bt.w,bt.h,0,-1,1,1),st.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(tt){}markPointProps(tt,ut){}beginMarkedContent(tt){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(tt,ut){tt==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(ut)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(tt){const ut=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(tt);const st=this.ctx;this.pendingClip&&(ut||(this.pendingClip===Xt?st.clip("evenodd"):st.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),st.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const tt=(0,_.getCurrentTransform)(this.ctx);if(tt[1]===0&&tt[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(tt[0]),Math.abs(tt[3]));else{const ut=Math.abs(tt[0]*tt[3]-tt[2]*tt[1]),st=Math.hypot(tt[0],tt[2]),gt=Math.hypot(tt[1],tt[3]);this._cachedGetSinglePixelWidth=Math.max(st,gt)/ut}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:tt}=this.current,{a:ut,b:st,c:gt,d:bt}=this.ctx.getTransform();let Rt,Ft;if(st===0&&gt===0){const Ot=Math.abs(ut),Jt=Math.abs(bt);if(Ot===Jt)if(tt===0)Rt=Ft=1/Ot;else{const qt=Ot*tt;Rt=Ft=qt<1?1/qt:1}else if(tt===0)Rt=1/Ot,Ft=1/Jt;else{const qt=Ot*tt,Kt=Jt*tt;Rt=qt<1?1/qt:1,Ft=Kt<1?1/Kt:1}}else{const Ot=Math.abs(ut*bt-st*gt),Jt=Math.hypot(ut,st),qt=Math.hypot(gt,bt);if(tt===0)Rt=qt/Ot,Ft=Jt/Ot;else{const Kt=tt*Ot;Rt=qt>Kt?qt/Kt:1,Ft=Jt>Kt?Jt/Kt:1}}this._cachedScaleForStroking[0]=Rt,this._cachedScaleForStroking[1]=Ft}return this._cachedScaleForStroking}rescaleAndStroke(tt){const{ctx:ut}=this,{lineWidth:st}=this.current,[gt,bt]=this.getScaleForStroking();if(ut.lineWidth=st||1,gt===1&&bt===1){ut.stroke();return}const Rt=ut.getLineDash();if(tt&&ut.save(),ut.scale(gt,bt),Rt.length>0){const Ft=Math.max(gt,bt);ut.setLineDash(Rt.map(Ot=>Ot/Ft)),ut.lineDashOffset/=Ft}ut.stroke(),tt&&ut.restore()}isContentVisible(){for(let tt=this.markedContentStack.length-1;tt>=0;tt--)if(!this.markedContentStack[tt].visible)return!1;return!0}};Mt=new WeakSet,Hr=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Ht=new WeakSet,Gr=function(){if(this.pageColors){const tt=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(tt!=="none"){const ut=this.ctx.filter;this.ctx.filter=tt,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=ut}}};let tn=cn;o.CanvasGraphics=tn;for(const Ct in g.OPS)tn.prototype[Ct]!==void 0&&(tn.prototype[g.OPS[Ct]]=tn.prototype[Ct])},(e,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TilingPattern=o.PathType=void 0,o.getShadingPattern=Et;var g=a(1),_=a(6);const j={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};o.PathType=j;function $(ot,it){if(!it)return;const ct=it[2]-it[0],pt=it[3]-it[1],rt=new Path2D;rt.rect(it[0],it[1],ct,pt),ot.clip(rt)}class ft{constructor(){this.constructor===ft&&(0,g.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,g.unreachable)("Abstract method `getPattern` called.")}}class et extends ft{constructor(it){super(),this._type=it[1],this._bbox=it[2],this._colorStops=it[3],this._p0=it[4],this._p1=it[5],this._r0=it[6],this._r1=it[7],this.matrix=null}_createGradient(it){let ct;this._type==="axial"?ct=it.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(ct=it.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const pt of this._colorStops)ct.addColorStop(pt[0],pt[1]);return ct}getPattern(it,ct,pt,rt){let dt;if(rt===j.STROKE||rt===j.FILL){const xt=ct.current.getClippedPathBoundingBox(rt,(0,_.getCurrentTransform)(it))||[0,0,0,0],vt=Math.ceil(xt[2]-xt[0])||1,ht=Math.ceil(xt[3]-xt[1])||1,kt=ct.cachedCanvases.getCanvas("pattern",vt,ht,!0),wt=kt.context;wt.clearRect(0,0,wt.canvas.width,wt.canvas.height),wt.beginPath(),wt.rect(0,0,wt.canvas.width,wt.canvas.height),wt.translate(-xt[0],-xt[1]),pt=g.Util.transform(pt,[1,0,0,1,xt[0],xt[1]]),wt.transform(...ct.baseTransform),this.matrix&&wt.transform(...this.matrix),$(wt,this._bbox),wt.fillStyle=this._createGradient(wt),wt.fill(),dt=it.createPattern(kt.canvas,"no-repeat");const Nt=new DOMMatrix(pt);dt.setTransform(Nt)}else $(it,this._bbox),dt=this._createGradient(it);return dt}}function lt(ot,it,ct,pt,rt,dt,xt,vt){const ht=it.coords,kt=it.colors,wt=ot.data,Nt=ot.width*4;let jt;ht[ct+1]>ht[pt+1]&&(jt=ct,ct=pt,pt=jt,jt=dt,dt=xt,xt=jt),ht[pt+1]>ht[rt+1]&&(jt=pt,pt=rt,rt=jt,jt=xt,xt=vt,vt=jt),ht[ct+1]>ht[pt+1]&&(jt=ct,ct=pt,pt=jt,jt=dt,dt=xt,xt=jt);const Pt=(ht[ct]+it.offsetX)*it.scaleX,Ut=(ht[ct+1]+it.offsetY)*it.scaleY,Xt=(ht[pt]+it.offsetX)*it.scaleX,tn=(ht[pt+1]+it.offsetY)*it.scaleY,Mt=(ht[rt]+it.offsetX)*it.scaleX,Wt=(ht[rt+1]+it.offsetY)*it.scaleY;if(Ut>=Wt)return;const Ht=kt[dt],ln=kt[dt+1],cn=kt[dt+2],Ct=kt[xt],tt=kt[xt+1],ut=kt[xt+2],st=kt[vt],gt=kt[vt+1],bt=kt[vt+2],Rt=Math.round(Ut),Ft=Math.round(Wt);let Ot,Jt,qt,Kt,rn,dn,sn,bn;for(let Mn=Rt;Mn<=Ft;Mn++){if(Mn<tn){const Zt=Mn<Ut?0:(Ut-Mn)/(Ut-tn);Ot=Pt-(Pt-Xt)*Zt,Jt=Ht-(Ht-Ct)*Zt,qt=ln-(ln-tt)*Zt,Kt=cn-(cn-ut)*Zt}else{let Zt;Mn>Wt?Zt=1:tn===Wt?Zt=0:Zt=(tn-Mn)/(tn-Wt),Ot=Xt-(Xt-Mt)*Zt,Jt=Ct-(Ct-st)*Zt,qt=tt-(tt-gt)*Zt,Kt=ut-(ut-bt)*Zt}let mn;Mn<Ut?mn=0:Mn>Wt?mn=1:mn=(Ut-Mn)/(Ut-Wt),rn=Pt-(Pt-Mt)*mn,dn=Ht-(Ht-st)*mn,sn=ln-(ln-gt)*mn,bn=cn-(cn-bt)*mn;const kn=Math.round(Math.min(Ot,rn)),un=Math.round(Math.max(Ot,rn));let Qt=Nt*Mn+kn*4;for(let Zt=kn;Zt<=un;Zt++)mn=(Ot-Zt)/(Ot-rn),mn<0?mn=0:mn>1&&(mn=1),wt[Qt++]=Jt-(Jt-dn)*mn|0,wt[Qt++]=qt-(qt-sn)*mn|0,wt[Qt++]=Kt-(Kt-bn)*mn|0,wt[Qt++]=255}}function at(ot,it,ct){const pt=it.coords,rt=it.colors;let dt,xt;switch(it.type){case"lattice":const vt=it.verticesPerRow,ht=Math.floor(pt.length/vt)-1,kt=vt-1;for(dt=0;dt<ht;dt++){let wt=dt*vt;for(let Nt=0;Nt<kt;Nt++,wt++)lt(ot,ct,pt[wt],pt[wt+1],pt[wt+vt],rt[wt],rt[wt+1],rt[wt+vt]),lt(ot,ct,pt[wt+vt+1],pt[wt+1],pt[wt+vt],rt[wt+vt+1],rt[wt+1],rt[wt+vt])}break;case"triangles":for(dt=0,xt=pt.length;dt<xt;dt+=3)lt(ot,ct,pt[dt],pt[dt+1],pt[dt+2],rt[dt],rt[dt+1],rt[dt+2]);break;default:throw new Error("illegal figure")}}class At extends ft{constructor(it){super(),this._coords=it[2],this._colors=it[3],this._figures=it[4],this._bounds=it[5],this._bbox=it[7],this._background=it[8],this.matrix=null}_createMeshCanvas(it,ct,pt){const vt=Math.floor(this._bounds[0]),ht=Math.floor(this._bounds[1]),kt=Math.ceil(this._bounds[2])-vt,wt=Math.ceil(this._bounds[3])-ht,Nt=Math.min(Math.ceil(Math.abs(kt*it[0]*1.1)),3e3),jt=Math.min(Math.ceil(Math.abs(wt*it[1]*1.1)),3e3),Pt=kt/Nt,Ut=wt/jt,Xt={coords:this._coords,colors:this._colors,offsetX:-vt,offsetY:-ht,scaleX:1/Pt,scaleY:1/Ut},tn=Nt+2*2,Mt=jt+2*2,Wt=pt.getCanvas("mesh",tn,Mt,!1),Ht=Wt.context,ln=Ht.createImageData(Nt,jt);if(ct){const Ct=ln.data;for(let tt=0,ut=Ct.length;tt<ut;tt+=4)Ct[tt]=ct[0],Ct[tt+1]=ct[1],Ct[tt+2]=ct[2],Ct[tt+3]=255}for(const Ct of this._figures)at(ln,Ct,Xt);return Ht.putImageData(ln,2,2),{canvas:Wt.canvas,offsetX:vt-2*Pt,offsetY:ht-2*Ut,scaleX:Pt,scaleY:Ut}}getPattern(it,ct,pt,rt){$(it,this._bbox);let dt;if(rt===j.SHADING)dt=g.Util.singularValueDecompose2dScale((0,_.getCurrentTransform)(it));else if(dt=g.Util.singularValueDecompose2dScale(ct.baseTransform),this.matrix){const vt=g.Util.singularValueDecompose2dScale(this.matrix);dt=[dt[0]*vt[0],dt[1]*vt[1]]}const xt=this._createMeshCanvas(dt,rt===j.SHADING?null:this._background,ct.cachedCanvases);return rt!==j.SHADING&&(it.setTransform(...ct.baseTransform),this.matrix&&it.transform(...this.matrix)),it.translate(xt.offsetX,xt.offsetY),it.scale(xt.scaleX,xt.scaleY),it.createPattern(xt.canvas,"no-repeat")}}class St extends ft{getPattern(){return"hotpink"}}function Et(ot){switch(ot[0]){case"RadialAxial":return new et(ot);case"Mesh":return new At(ot);case"Dummy":return new St}throw new Error(`Unknown IR type: ${ot[0]}`)}const yt={COLORED:1,UNCOLORED:2},mt=class mt{constructor(it,ct,pt,rt,dt){this.operatorList=it[2],this.matrix=it[3]||[1,0,0,1,0,0],this.bbox=it[4],this.xstep=it[5],this.ystep=it[6],this.paintType=it[7],this.tilingType=it[8],this.color=ct,this.ctx=pt,this.canvasGraphicsFactory=rt,this.baseTransform=dt}createPatternCanvas(it){const ct=this.operatorList,pt=this.bbox,rt=this.xstep,dt=this.ystep,xt=this.paintType,vt=this.tilingType,ht=this.color,kt=this.canvasGraphicsFactory;(0,g.info)("TilingType: "+vt);const wt=pt[0],Nt=pt[1],jt=pt[2],Pt=pt[3],Ut=g.Util.singularValueDecompose2dScale(this.matrix),Xt=g.Util.singularValueDecompose2dScale(this.baseTransform),tn=[Ut[0]*Xt[0],Ut[1]*Xt[1]],Mt=this.getSizeAndScale(rt,this.ctx.canvas.width,tn[0]),Wt=this.getSizeAndScale(dt,this.ctx.canvas.height,tn[1]),Ht=it.cachedCanvases.getCanvas("pattern",Mt.size,Wt.size,!0),ln=Ht.context,cn=kt.createCanvasGraphics(ln);cn.groupLevel=it.groupLevel,this.setFillAndStrokeStyleToContext(cn,xt,ht);let Ct=wt,tt=Nt,ut=jt,st=Pt;return wt<0&&(Ct=0,ut+=Math.abs(wt)),Nt<0&&(tt=0,st+=Math.abs(Nt)),ln.translate(-(Mt.scale*Ct),-(Wt.scale*tt)),cn.transform(Mt.scale,0,0,Wt.scale,0,0),ln.save(),this.clipBbox(cn,Ct,tt,ut,st),cn.baseTransform=(0,_.getCurrentTransform)(cn.ctx),cn.executeOperatorList(ct),cn.endDrawing(),{canvas:Ht.canvas,scaleX:Mt.scale,scaleY:Wt.scale,offsetX:Ct,offsetY:tt}}getSizeAndScale(it,ct,pt){it=Math.abs(it);const rt=Math.max(mt.MAX_PATTERN_SIZE,ct);let dt=Math.ceil(it*pt);return dt>=rt?dt=rt:pt=dt/it,{scale:pt,size:dt}}clipBbox(it,ct,pt,rt,dt){const xt=rt-ct,vt=dt-pt;it.ctx.rect(ct,pt,xt,vt),it.current.updateRectMinMax((0,_.getCurrentTransform)(it.ctx),[ct,pt,rt,dt]),it.clip(),it.endPath()}setFillAndStrokeStyleToContext(it,ct,pt){const rt=it.ctx,dt=it.current;switch(ct){case yt.COLORED:const xt=this.ctx;rt.fillStyle=xt.fillStyle,rt.strokeStyle=xt.strokeStyle,dt.fillColor=xt.fillStyle,dt.strokeColor=xt.strokeStyle;break;case yt.UNCOLORED:const vt=g.Util.makeHexColor(pt[0],pt[1],pt[2]);rt.fillStyle=vt,rt.strokeStyle=vt,dt.fillColor=vt,dt.strokeColor=vt;break;default:throw new g.FormatError(`Unsupported paint type: ${ct}`)}}getPattern(it,ct,pt,rt){let dt=pt;rt!==j.SHADING&&(dt=g.Util.transform(dt,ct.baseTransform),this.matrix&&(dt=g.Util.transform(dt,this.matrix)));const xt=this.createPatternCanvas(ct);let vt=new DOMMatrix(dt);vt=vt.translate(xt.offsetX,xt.offsetY),vt=vt.scale(1/xt.scaleX,1/xt.scaleY);const ht=it.createPattern(xt.canvas,"repeat");return ht.setTransform(vt),ht}};Yn(mt,"MAX_PATTERN_SIZE",3e3);let _t=mt;o.TilingPattern=_t},(e,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.convertBlackAndWhiteToRGBA=j,o.convertToRGBA=_,o.grayToRGBA=ft;var g=a(1);function _(et){switch(et.kind){case g.ImageKind.GRAYSCALE_1BPP:return j(et);case g.ImageKind.RGB_24BPP:return $(et)}return null}function j({src:et,srcPos:lt=0,dest:at,width:At,height:St,nonBlackColor:Et=4294967295,inverseDecode:yt=!1}){const _t=g.FeatureTest.isLittleEndian?4278190080:255,[mt,ot]=yt?[Et,_t]:[_t,Et],it=At>>3,ct=At&7,pt=et.length;at=new Uint32Array(at.buffer);let rt=0;for(let dt=0;dt<St;dt++){for(const vt=lt+it;lt<vt;lt++){const ht=lt<pt?et[lt]:255;at[rt++]=ht&128?ot:mt,at[rt++]=ht&64?ot:mt,at[rt++]=ht&32?ot:mt,at[rt++]=ht&16?ot:mt,at[rt++]=ht&8?ot:mt,at[rt++]=ht&4?ot:mt,at[rt++]=ht&2?ot:mt,at[rt++]=ht&1?ot:mt}if(ct===0)continue;const xt=lt<pt?et[lt++]:255;for(let vt=0;vt<ct;vt++)at[rt++]=xt&1<<7-vt?ot:mt}return{srcPos:lt,destPos:rt}}function $({src:et,srcPos:lt=0,dest:at,destPos:At=0,width:St,height:Et}){let yt=0;const _t=et.length>>2,mt=new Uint32Array(et.buffer,lt,_t);if(g.FeatureTest.isLittleEndian){for(;yt<_t-2;yt+=3,At+=4){const ot=mt[yt],it=mt[yt+1],ct=mt[yt+2];at[At]=ot|4278190080,at[At+1]=ot>>>24|it<<8|4278190080,at[At+2]=it>>>16|ct<<16|4278190080,at[At+3]=ct>>>8|4278190080}for(let ot=yt*4,it=et.length;ot<it;ot+=3)at[At++]=et[ot]|et[ot+1]<<8|et[ot+2]<<16|4278190080}else{for(;yt<_t-2;yt+=3,At+=4){const ot=mt[yt],it=mt[yt+1],ct=mt[yt+2];at[At]=ot|255,at[At+1]=ot<<24|it>>>8|255,at[At+2]=it<<16|ct>>>16|255,at[At+3]=ct<<8|255}for(let ot=yt*4,it=et.length;ot<it;ot+=3)at[At++]=et[ot]<<24|et[ot+1]<<16|et[ot+2]<<8|255}return{srcPos:lt,destPos:At}}function ft(et,lt){if(g.FeatureTest.isLittleEndian)for(let at=0,At=et.length;at<At;at++)lt[at]=et[at]*65793|4278190080;else for(let at=0,At=et.length;at<At;at++)lt[at]=et[at]*16843008|255}},(e,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.GlobalWorkerOptions=void 0;const a=Object.create(null);o.GlobalWorkerOptions=a,a.workerPort=null,a.workerSrc=""},(e,o,a)=>{var et,Es,at,Ss,St,Sr;Object.defineProperty(o,"__esModule",{value:!0}),o.MessageHandler=void 0;var g=a(1);const _={UNKNOWN:0,DATA:1,ERROR:2},j={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function $(yt){switch(yt instanceof Error||typeof yt=="object"&&yt!==null||(0,g.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),yt.name){case"AbortException":return new g.AbortException(yt.message);case"MissingPDFException":return new g.MissingPDFException(yt.message);case"PasswordException":return new g.PasswordException(yt.message,yt.code);case"UnexpectedResponseException":return new g.UnexpectedResponseException(yt.message,yt.status);case"UnknownErrorException":return new g.UnknownErrorException(yt.message,yt.details);default:return new g.UnknownErrorException(yt.message,yt.toString())}}class ft{constructor(_t,mt,ot){It(this,et);It(this,at);It(this,St);this.sourceName=_t,this.targetName=mt,this.comObj=ot,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=it=>{const ct=it.data;if(ct.targetName!==this.sourceName)return;if(ct.stream){Bt(this,at,Ss).call(this,ct);return}if(ct.callback){const rt=ct.callbackId,dt=this.callbackCapabilities[rt];if(!dt)throw new Error(`Cannot resolve callback ${rt}`);if(delete this.callbackCapabilities[rt],ct.callback===_.DATA)dt.resolve(ct.data);else if(ct.callback===_.ERROR)dt.reject($(ct.reason));else throw new Error("Unexpected callback case");return}const pt=this.actionHandler[ct.action];if(!pt)throw new Error(`Unknown action from worker: ${ct.action}`);if(ct.callbackId){const rt=this.sourceName,dt=ct.sourceName;new Promise(function(xt){xt(pt(ct.data))}).then(function(xt){ot.postMessage({sourceName:rt,targetName:dt,callback:_.DATA,callbackId:ct.callbackId,data:xt})},function(xt){ot.postMessage({sourceName:rt,targetName:dt,callback:_.ERROR,callbackId:ct.callbackId,reason:$(xt)})});return}if(ct.streamId){Bt(this,et,Es).call(this,ct);return}pt(ct.data)},ot.addEventListener("message",this._onComObjOnMessage)}on(_t,mt){const ot=this.actionHandler;if(ot[_t])throw new Error(`There is already an actionName called "${_t}"`);ot[_t]=mt}send(_t,mt,ot){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:_t,data:mt},ot)}sendWithPromise(_t,mt,ot){const it=this.callbackId++,ct=new g.PromiseCapability;this.callbackCapabilities[it]=ct;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:_t,callbackId:it,data:mt},ot)}catch(pt){ct.reject(pt)}return ct.promise}sendWithStream(_t,mt,ot,it){const ct=this.streamId++,pt=this.sourceName,rt=this.targetName,dt=this.comObj;return new ReadableStream({start:xt=>{const vt=new g.PromiseCapability;return this.streamControllers[ct]={controller:xt,startCall:vt,pullCall:null,cancelCall:null,isClosed:!1},dt.postMessage({sourceName:pt,targetName:rt,action:_t,streamId:ct,data:mt,desiredSize:xt.desiredSize},it),vt.promise},pull:xt=>{const vt=new g.PromiseCapability;return this.streamControllers[ct].pullCall=vt,dt.postMessage({sourceName:pt,targetName:rt,stream:j.PULL,streamId:ct,desiredSize:xt.desiredSize}),vt.promise},cancel:xt=>{(0,g.assert)(xt instanceof Error,"cancel must have a valid reason");const vt=new g.PromiseCapability;return this.streamControllers[ct].cancelCall=vt,this.streamControllers[ct].isClosed=!0,dt.postMessage({sourceName:pt,targetName:rt,stream:j.CANCEL,streamId:ct,reason:$(xt)}),vt.promise}},ot)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}et=new WeakSet,Es=function(_t){const mt=_t.streamId,ot=this.sourceName,it=_t.sourceName,ct=this.comObj,pt=this,rt=this.actionHandler[_t.action],dt={enqueue(xt,vt=1,ht){if(this.isCancelled)return;const kt=this.desiredSize;this.desiredSize-=vt,kt>0&&this.desiredSize<=0&&(this.sinkCapability=new g.PromiseCapability,this.ready=this.sinkCapability.promise),ct.postMessage({sourceName:ot,targetName:it,stream:j.ENQUEUE,streamId:mt,chunk:xt},ht)},close(){this.isCancelled||(this.isCancelled=!0,ct.postMessage({sourceName:ot,targetName:it,stream:j.CLOSE,streamId:mt}),delete pt.streamSinks[mt])},error(xt){(0,g.assert)(xt instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,ct.postMessage({sourceName:ot,targetName:it,stream:j.ERROR,streamId:mt,reason:$(xt)}))},sinkCapability:new g.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:_t.desiredSize,ready:null};dt.sinkCapability.resolve(),dt.ready=dt.sinkCapability.promise,this.streamSinks[mt]=dt,new Promise(function(xt){xt(rt(_t.data,dt))}).then(function(){ct.postMessage({sourceName:ot,targetName:it,stream:j.START_COMPLETE,streamId:mt,success:!0})},function(xt){ct.postMessage({sourceName:ot,targetName:it,stream:j.START_COMPLETE,streamId:mt,reason:$(xt)})})},at=new WeakSet,Ss=function(_t){const mt=_t.streamId,ot=this.sourceName,it=_t.sourceName,ct=this.comObj,pt=this.streamControllers[mt],rt=this.streamSinks[mt];switch(_t.stream){case j.START_COMPLETE:_t.success?pt.startCall.resolve():pt.startCall.reject($(_t.reason));break;case j.PULL_COMPLETE:_t.success?pt.pullCall.resolve():pt.pullCall.reject($(_t.reason));break;case j.PULL:if(!rt){ct.postMessage({sourceName:ot,targetName:it,stream:j.PULL_COMPLETE,streamId:mt,success:!0});break}rt.desiredSize<=0&&_t.desiredSize>0&&rt.sinkCapability.resolve(),rt.desiredSize=_t.desiredSize,new Promise(function(dt){var xt;dt((xt=rt.onPull)==null?void 0:xt.call(rt))}).then(function(){ct.postMessage({sourceName:ot,targetName:it,stream:j.PULL_COMPLETE,streamId:mt,success:!0})},function(dt){ct.postMessage({sourceName:ot,targetName:it,stream:j.PULL_COMPLETE,streamId:mt,reason:$(dt)})});break;case j.ENQUEUE:if((0,g.assert)(pt,"enqueue should have stream controller"),pt.isClosed)break;pt.controller.enqueue(_t.chunk);break;case j.CLOSE:if((0,g.assert)(pt,"close should have stream controller"),pt.isClosed)break;pt.isClosed=!0,pt.controller.close(),Bt(this,St,Sr).call(this,pt,mt);break;case j.ERROR:(0,g.assert)(pt,"error should have stream controller"),pt.controller.error($(_t.reason)),Bt(this,St,Sr).call(this,pt,mt);break;case j.CANCEL_COMPLETE:_t.success?pt.cancelCall.resolve():pt.cancelCall.reject($(_t.reason)),Bt(this,St,Sr).call(this,pt,mt);break;case j.CANCEL:if(!rt)break;new Promise(function(dt){var xt;dt((xt=rt.onCancel)==null?void 0:xt.call(rt,$(_t.reason)))}).then(function(){ct.postMessage({sourceName:ot,targetName:it,stream:j.CANCEL_COMPLETE,streamId:mt,success:!0})},function(dt){ct.postMessage({sourceName:ot,targetName:it,stream:j.CANCEL_COMPLETE,streamId:mt,reason:$(dt)})}),rt.sinkCapability.reject($(_t.reason)),rt.isCancelled=!0,delete this.streamSinks[mt];break;default:throw new Error("Unexpected stream case")}},St=new WeakSet,Sr=async function(_t,mt){var ot,it,ct;await Promise.allSettled([(ot=_t.startCall)==null?void 0:ot.promise,(it=_t.pullCall)==null?void 0:it.promise,(ct=_t.cancelCall)==null?void 0:ct.promise]),delete this.streamControllers[mt]},o.MessageHandler=ft},(e,o,a)=>{var j,$;Object.defineProperty(o,"__esModule",{value:!0}),o.Metadata=void 0;var g=a(1);class _{constructor({parsedData:et,rawData:lt}){It(this,j,void 0);It(this,$,void 0);en(this,j,et),en(this,$,lt)}getRaw(){return _e(this,$)}get(et){return _e(this,j).get(et)??null}getAll(){return(0,g.objectFromMap)(_e(this,j))}has(et){return _e(this,j).has(et)}}j=new WeakMap,$=new WeakMap,o.Metadata=_},(e,o,a)=>{var et,lt,at,At,St,Et,Xr;Object.defineProperty(o,"__esModule",{value:!0}),o.OptionalContentConfig=void 0;var g=a(1),_=a(8);const j=Symbol("INTERNAL");class ${constructor(mt,ot){It(this,et,!0);this.name=mt,this.intent=ot}get visible(){return _e(this,et)}_setVisible(mt,ot){mt!==j&&(0,g.unreachable)("Internal method `_setVisible` called."),en(this,et,ot)}}et=new WeakMap;class ft{constructor(mt){It(this,Et);It(this,lt,null);It(this,at,new Map);It(this,At,null);It(this,St,null);if(this.name=null,this.creator=null,mt!==null){this.name=mt.name,this.creator=mt.creator,en(this,St,mt.order);for(const ot of mt.groups)_e(this,at).set(ot.id,new $(ot.name,ot.intent));if(mt.baseState==="OFF")for(const ot of _e(this,at).values())ot._setVisible(j,!1);for(const ot of mt.on)_e(this,at).get(ot)._setVisible(j,!0);for(const ot of mt.off)_e(this,at).get(ot)._setVisible(j,!1);en(this,At,this.getHash())}}isVisible(mt){if(_e(this,at).size===0)return!0;if(!mt)return(0,g.warn)("Optional content group not defined."),!0;if(mt.type==="OCG")return _e(this,at).has(mt.id)?_e(this,at).get(mt.id).visible:((0,g.warn)(`Optional content group not found: ${mt.id}`),!0);if(mt.type==="OCMD"){if(mt.expression)return Bt(this,Et,Xr).call(this,mt.expression);if(!mt.policy||mt.policy==="AnyOn"){for(const ot of mt.ids){if(!_e(this,at).has(ot))return(0,g.warn)(`Optional content group not found: ${ot}`),!0;if(_e(this,at).get(ot).visible)return!0}return!1}else if(mt.policy==="AllOn"){for(const ot of mt.ids){if(!_e(this,at).has(ot))return(0,g.warn)(`Optional content group not found: ${ot}`),!0;if(!_e(this,at).get(ot).visible)return!1}return!0}else if(mt.policy==="AnyOff"){for(const ot of mt.ids){if(!_e(this,at).has(ot))return(0,g.warn)(`Optional content group not found: ${ot}`),!0;if(!_e(this,at).get(ot).visible)return!0}return!1}else if(mt.policy==="AllOff"){for(const ot of mt.ids){if(!_e(this,at).has(ot))return(0,g.warn)(`Optional content group not found: ${ot}`),!0;if(_e(this,at).get(ot).visible)return!1}return!0}return(0,g.warn)(`Unknown optional content policy ${mt.policy}.`),!0}return(0,g.warn)(`Unknown group type ${mt.type}.`),!0}setVisibility(mt,ot=!0){if(!_e(this,at).has(mt)){(0,g.warn)(`Optional content group not found: ${mt}`);return}_e(this,at).get(mt)._setVisible(j,!!ot),en(this,lt,null)}get hasInitialVisibility(){return _e(this,At)===null||this.getHash()===_e(this,At)}getOrder(){return _e(this,at).size?_e(this,St)?_e(this,St).slice():[..._e(this,at).keys()]:null}getGroups(){return _e(this,at).size>0?(0,g.objectFromMap)(_e(this,at)):null}getGroup(mt){return _e(this,at).get(mt)||null}getHash(){if(_e(this,lt)!==null)return _e(this,lt);const mt=new _.MurmurHash3_64;for(const[ot,it]of _e(this,at))mt.update(`${ot}:${it.visible}`);return en(this,lt,mt.hexdigest())}}lt=new WeakMap,at=new WeakMap,At=new WeakMap,St=new WeakMap,Et=new WeakSet,Xr=function(mt){const ot=mt.length;if(ot<2)return!0;const it=mt[0];for(let ct=1;ct<ot;ct++){const pt=mt[ct];let rt;if(Array.isArray(pt))rt=Bt(this,Et,Xr).call(this,pt);else if(_e(this,at).has(pt))rt=_e(this,at).get(pt).visible;else return(0,g.warn)(`Optional content group not found: ${pt}`),!0;switch(it){case"And":if(!rt)return!1;break;case"Or":if(rt)return!0;break;case"Not":return!rt;default:return!0}}return it==="And"},o.OptionalContentConfig=ft},(e,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFDataTransportStream=void 0;var g=a(1),_=a(6);class j{constructor({length:lt,initialData:at,progressiveDone:At=!1,contentDispositionFilename:St=null,disableRange:Et=!1,disableStream:yt=!1},_t){if((0,g.assert)(_t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=At,this._contentDispositionFilename=St,(at==null?void 0:at.length)>0){const mt=at instanceof Uint8Array&&at.byteLength===at.buffer.byteLength?at.buffer:new Uint8Array(at).buffer;this._queuedChunks.push(mt)}this._pdfDataRangeTransport=_t,this._isStreamingSupported=!yt,this._isRangeSupported=!Et,this._contentLength=lt,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((mt,ot)=>{this._onReceiveData({begin:mt,chunk:ot})}),this._pdfDataRangeTransport.addProgressListener((mt,ot)=>{this._onProgress({loaded:mt,total:ot})}),this._pdfDataRangeTransport.addProgressiveReadListener(mt=>{this._onReceiveData({chunk:mt})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:lt,chunk:at}){const At=at instanceof Uint8Array&&at.byteLength===at.buffer.byteLength?at.buffer:new Uint8Array(at).buffer;if(lt===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(At):this._queuedChunks.push(At);else{const St=this._rangeReaders.some(function(Et){return Et._begin!==lt?!1:(Et._enqueue(At),!0)});(0,g.assert)(St,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var lt;return((lt=this._fullRequestReader)==null?void 0:lt._loaded)??0}_onProgress(lt){var at,At,St,Et;lt.total===void 0?(At=(at=this._rangeReaders[0])==null?void 0:at.onProgress)==null||At.call(at,{loaded:lt.loaded}):(Et=(St=this._fullRequestReader)==null?void 0:St.onProgress)==null||Et.call(St,{loaded:lt.loaded,total:lt.total})}_onProgressiveDone(){var lt;(lt=this._fullRequestReader)==null||lt.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(lt){const at=this._rangeReaders.indexOf(lt);at>=0&&this._rangeReaders.splice(at,1)}getFullReader(){(0,g.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const lt=this._queuedChunks;return this._queuedChunks=null,new $(this,lt,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(lt,at){if(at<=this._progressiveDataLength)return null;const At=new ft(this,lt,at);return this._pdfDataRangeTransport.requestDataRange(lt,at),this._rangeReaders.push(At),At}cancelAllRequests(lt){var at;(at=this._fullRequestReader)==null||at.cancel(lt);for(const At of this._rangeReaders.slice(0))At.cancel(lt);this._pdfDataRangeTransport.abort()}}o.PDFDataTransportStream=j;class ${constructor(lt,at,At=!1,St=null){this._stream=lt,this._done=At||!1,this._filename=(0,_.isPdfFile)(St)?St:null,this._queuedChunks=at||[],this._loaded=0;for(const Et of this._queuedChunks)this._loaded+=Et.byteLength;this._requests=[],this._headersReady=Promise.resolve(),lt._fullRequestReader=this,this.onProgress=null}_enqueue(lt){this._done||(this._requests.length>0?this._requests.shift().resolve({value:lt,done:!1}):this._queuedChunks.push(lt),this._loaded+=lt.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const lt=new g.PromiseCapability;return this._requests.push(lt),lt.promise}cancel(lt){this._done=!0;for(const at of this._requests)at.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class ft{constructor(lt,at,At){this._stream=lt,this._begin=at,this._end=At,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(lt){if(!this._done){if(this._requests.length===0)this._queuedChunk=lt;else{this._requests.shift().resolve({value:lt,done:!1});for(const At of this._requests)At.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const at=this._queuedChunk;return this._queuedChunk=null,{value:at,done:!1}}if(this._done)return{value:void 0,done:!0};const lt=new g.PromiseCapability;return this._requests.push(lt),lt.promise}cancel(lt){this._done=!0;for(const at of this._requests)at.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(e,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFFetchStream=void 0;var g=a(1),_=a(20);function j(At,St,Et){return{method:"GET",headers:At,signal:Et.signal,mode:"cors",credentials:St?"include":"same-origin",redirect:"follow"}}function $(At){const St=new Headers;for(const Et in At){const yt=At[Et];yt!==void 0&&St.append(Et,yt)}return St}function ft(At){return At instanceof Uint8Array?At.buffer:At instanceof ArrayBuffer?At:((0,g.warn)(`getArrayBuffer - unexpected data format: ${At}`),new Uint8Array(At).buffer)}class et{constructor(St){this.source=St,this.isHttp=/^https?:/i.test(St.url),this.httpHeaders=this.isHttp&&St.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var St;return((St=this._fullRequestReader)==null?void 0:St._loaded)??0}getFullReader(){return(0,g.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new lt(this),this._fullRequestReader}getRangeReader(St,Et){if(Et<=this._progressiveDataLength)return null;const yt=new at(this,St,Et);return this._rangeRequestReaders.push(yt),yt}cancelAllRequests(St){var Et;(Et=this._fullRequestReader)==null||Et.cancel(St);for(const yt of this._rangeRequestReaders.slice(0))yt.cancel(St)}}o.PDFFetchStream=et;class lt{constructor(St){this._stream=St,this._reader=null,this._loaded=0,this._filename=null;const Et=St.source;this._withCredentials=Et.withCredentials||!1,this._contentLength=Et.length,this._headersCapability=new g.PromiseCapability,this._disableRange=Et.disableRange||!1,this._rangeChunkSize=Et.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!Et.disableStream,this._isRangeSupported=!Et.disableRange,this._headers=$(this._stream.httpHeaders);const yt=Et.url;fetch(yt,j(this._headers,this._withCredentials,this._abortController)).then(_t=>{if(!(0,_.validateResponseStatus)(_t.status))throw(0,_.createResponseStatusError)(_t.status,yt);this._reader=_t.body.getReader(),this._headersCapability.resolve();const mt=ct=>_t.headers.get(ct),{allowRangeRequests:ot,suggestedLength:it}=(0,_.validateRangeRequestCapabilities)({getResponseHeader:mt,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=ot,this._contentLength=it||this._contentLength,this._filename=(0,_.extractFilenameFromHeader)(mt),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new g.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var yt;await this._headersCapability.promise;const{value:St,done:Et}=await this._reader.read();return Et?{value:St,done:Et}:(this._loaded+=St.byteLength,(yt=this.onProgress)==null||yt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:ft(St),done:!1})}cancel(St){var Et;(Et=this._reader)==null||Et.cancel(St),this._abortController.abort()}}class at{constructor(St,Et,yt){this._stream=St,this._reader=null,this._loaded=0;const _t=St.source;this._withCredentials=_t.withCredentials||!1,this._readCapability=new g.PromiseCapability,this._isStreamingSupported=!_t.disableStream,this._abortController=new AbortController,this._headers=$(this._stream.httpHeaders),this._headers.append("Range",`bytes=${Et}-${yt-1}`);const mt=_t.url;fetch(mt,j(this._headers,this._withCredentials,this._abortController)).then(ot=>{if(!(0,_.validateResponseStatus)(ot.status))throw(0,_.createResponseStatusError)(ot.status,mt);this._readCapability.resolve(),this._reader=ot.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var yt;await this._readCapability.promise;const{value:St,done:Et}=await this._reader.read();return Et?{value:St,done:Et}:(this._loaded+=St.byteLength,(yt=this.onProgress)==null||yt.call(this,{loaded:this._loaded}),{value:ft(St),done:!1})}cancel(St){var Et;(Et=this._reader)==null||Et.cancel(St),this._abortController.abort()}}},(e,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createResponseStatusError=et,o.extractFilenameFromHeader=ft,o.validateRangeRequestCapabilities=$,o.validateResponseStatus=lt;var g=a(1),_=a(21),j=a(6);function $({getResponseHeader:at,isHttp:At,rangeChunkSize:St,disableRange:Et}){const yt={allowRangeRequests:!1,suggestedLength:void 0},_t=parseInt(at("Content-Length"),10);return!Number.isInteger(_t)||(yt.suggestedLength=_t,_t<=2*St)||Et||!At||at("Accept-Ranges")!=="bytes"||(at("Content-Encoding")||"identity")!=="identity"||(yt.allowRangeRequests=!0),yt}function ft(at){const At=at("Content-Disposition");if(At){let St=(0,_.getFilenameFromContentDispositionHeader)(At);if(St.includes("%"))try{St=decodeURIComponent(St)}catch{}if((0,j.isPdfFile)(St))return St}return null}function et(at,At){return at===404||at===0&&At.startsWith("file:")?new g.MissingPDFException('Missing PDF "'+At+'".'):new g.UnexpectedResponseException(`Unexpected server response (${at}) while retrieving PDF "${At}".`,at)}function lt(at){return at===200||at===206}},(e,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.getFilenameFromContentDispositionHeader=_;var g=a(1);function _(j){let $=!0,ft=et("filename\\*","i").exec(j);if(ft){ft=ft[1];let _t=St(ft);return _t=unescape(_t),_t=Et(_t),_t=yt(_t),at(_t)}if(ft=At(j),ft){const _t=yt(ft);return at(_t)}if(ft=et("filename","i").exec(j),ft){ft=ft[1];let _t=St(ft);return _t=yt(_t),at(_t)}function et(_t,mt){return new RegExp("(?:^|;)\\s*"+_t+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',mt)}function lt(_t,mt){if(_t){if(!/^[\x00-\xFF]+$/.test(mt))return mt;try{const ot=new TextDecoder(_t,{fatal:!0}),it=(0,g.stringToBytes)(mt);mt=ot.decode(it),$=!1}catch{}}return mt}function at(_t){return $&&/[\x80-\xff]/.test(_t)&&(_t=lt("utf-8",_t),$&&(_t=lt("iso-8859-1",_t))),_t}function At(_t){const mt=[];let ot;const it=et("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(ot=it.exec(_t))!==null;){let[,pt,rt,dt]=ot;if(pt=parseInt(pt,10),pt in mt){if(pt===0)break;continue}mt[pt]=[rt,dt]}const ct=[];for(let pt=0;pt<mt.length&&pt in mt;++pt){let[rt,dt]=mt[pt];dt=St(dt),rt&&(dt=unescape(dt),pt===0&&(dt=Et(dt))),ct.push(dt)}return ct.join("")}function St(_t){if(_t.startsWith('"')){const mt=_t.slice(1).split('\\"');for(let ot=0;ot<mt.length;++ot){const it=mt[ot].indexOf('"');it!==-1&&(mt[ot]=mt[ot].slice(0,it),mt.length=ot+1),mt[ot]=mt[ot].replaceAll(/\\(.)/g,"$1")}_t=mt.join('"')}return _t}function Et(_t){const mt=_t.indexOf("'");if(mt===-1)return _t;const ot=_t.slice(0,mt),ct=_t.slice(mt+1).replace(/^[^']*'/,"");return lt(ot,ct)}function yt(_t){return!_t.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(_t)?_t:_t.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(mt,ot,it,ct){if(it==="q"||it==="Q")return ct=ct.replaceAll("_"," "),ct=ct.replaceAll(/=([0-9a-fA-F]{2})/g,function(pt,rt){return String.fromCharCode(parseInt(rt,16))}),lt(ot,ct);try{ct=atob(ct)}catch{}return lt(ot,ct)})}return""}},(e,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFNetworkStream=void 0;var g=a(1),_=a(20);const j=200,$=206;function ft(St){const Et=St.response;return typeof Et!="string"?Et:(0,g.stringToBytes)(Et).buffer}class et{constructor(Et,yt={}){this.url=Et,this.isHttp=/^https?:/i.test(Et),this.httpHeaders=this.isHttp&&yt.httpHeaders||Object.create(null),this.withCredentials=yt.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(Et,yt,_t){const mt={begin:Et,end:yt};for(const ot in _t)mt[ot]=_t[ot];return this.request(mt)}requestFull(Et){return this.request(Et)}request(Et){const yt=new XMLHttpRequest,_t=this.currXhrId++,mt=this.pendingRequests[_t]={xhr:yt};yt.open("GET",this.url),yt.withCredentials=this.withCredentials;for(const ot in this.httpHeaders){const it=this.httpHeaders[ot];it!==void 0&&yt.setRequestHeader(ot,it)}return this.isHttp&&"begin"in Et&&"end"in Et?(yt.setRequestHeader("Range",`bytes=${Et.begin}-${Et.end-1}`),mt.expectedStatus=$):mt.expectedStatus=j,yt.responseType="arraybuffer",Et.onError&&(yt.onerror=function(ot){Et.onError(yt.status)}),yt.onreadystatechange=this.onStateChange.bind(this,_t),yt.onprogress=this.onProgress.bind(this,_t),mt.onHeadersReceived=Et.onHeadersReceived,mt.onDone=Et.onDone,mt.onError=Et.onError,mt.onProgress=Et.onProgress,yt.send(null),_t}onProgress(Et,yt){var mt;const _t=this.pendingRequests[Et];_t&&((mt=_t.onProgress)==null||mt.call(_t,yt))}onStateChange(Et,yt){var pt,rt,dt;const _t=this.pendingRequests[Et];if(!_t)return;const mt=_t.xhr;if(mt.readyState>=2&&_t.onHeadersReceived&&(_t.onHeadersReceived(),delete _t.onHeadersReceived),mt.readyState!==4||!(Et in this.pendingRequests))return;if(delete this.pendingRequests[Et],mt.status===0&&this.isHttp){(pt=_t.onError)==null||pt.call(_t,mt.status);return}const ot=mt.status||j;if(!(ot===j&&_t.expectedStatus===$)&&ot!==_t.expectedStatus){(rt=_t.onError)==null||rt.call(_t,mt.status);return}const ct=ft(mt);if(ot===$){const xt=mt.getResponseHeader("Content-Range"),vt=/bytes (\d+)-(\d+)\/(\d+)/.exec(xt);_t.onDone({begin:parseInt(vt[1],10),chunk:ct})}else ct?_t.onDone({begin:0,chunk:ct}):(dt=_t.onError)==null||dt.call(_t,mt.status)}getRequestXhr(Et){return this.pendingRequests[Et].xhr}isPendingRequest(Et){return Et in this.pendingRequests}abortRequest(Et){const yt=this.pendingRequests[Et].xhr;delete this.pendingRequests[Et],yt.abort()}}class lt{constructor(Et){this._source=Et,this._manager=new et(Et.url,{httpHeaders:Et.httpHeaders,withCredentials:Et.withCredentials}),this._rangeChunkSize=Et.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(Et){const yt=this._rangeRequestReaders.indexOf(Et);yt>=0&&this._rangeRequestReaders.splice(yt,1)}getFullReader(){return(0,g.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new at(this._manager,this._source),this._fullRequestReader}getRangeReader(Et,yt){const _t=new At(this._manager,Et,yt);return _t.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(_t),_t}cancelAllRequests(Et){var yt;(yt=this._fullRequestReader)==null||yt.cancel(Et);for(const _t of this._rangeRequestReaders.slice(0))_t.cancel(Et)}}o.PDFNetworkStream=lt;class at{constructor(Et,yt){this._manager=Et;const _t={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=yt.url,this._fullRequestId=Et.requestFull(_t),this._headersReceivedCapability=new g.PromiseCapability,this._disableRange=yt.disableRange||!1,this._contentLength=yt.length,this._rangeChunkSize=yt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const Et=this._fullRequestId,yt=this._manager.getRequestXhr(Et),_t=it=>yt.getResponseHeader(it),{allowRangeRequests:mt,suggestedLength:ot}=(0,_.validateRangeRequestCapabilities)({getResponseHeader:_t,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});mt&&(this._isRangeSupported=!0),this._contentLength=ot||this._contentLength,this._filename=(0,_.extractFilenameFromHeader)(_t),this._isRangeSupported&&this._manager.abortRequest(Et),this._headersReceivedCapability.resolve()}_onDone(Et){if(Et&&(this._requests.length>0?this._requests.shift().resolve({value:Et.chunk,done:!1}):this._cachedChunks.push(Et.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const yt of this._requests)yt.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(Et){this._storedError=(0,_.createResponseStatusError)(Et,this._url),this._headersReceivedCapability.reject(this._storedError);for(const yt of this._requests)yt.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(Et){var yt;(yt=this.onProgress)==null||yt.call(this,{loaded:Et.loaded,total:Et.lengthComputable?Et.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const Et=new g.PromiseCapability;return this._requests.push(Et),Et.promise}cancel(Et){this._done=!0,this._headersReceivedCapability.reject(Et);for(const yt of this._requests)yt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class At{constructor(Et,yt,_t){this._manager=Et;const mt={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=Et.url,this._requestId=Et.requestRange(yt,_t,mt),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var Et;(Et=this.onClosed)==null||Et.call(this,this)}_onDone(Et){const yt=Et.chunk;this._requests.length>0?this._requests.shift().resolve({value:yt,done:!1}):this._queuedChunk=yt,this._done=!0;for(const _t of this._requests)_t.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(Et){this._storedError=(0,_.createResponseStatusError)(Et,this._url);for(const yt of this._requests)yt.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(Et){var yt;this.isStreamingSupported||(yt=this.onProgress)==null||yt.call(this,{loaded:Et.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const yt=this._queuedChunk;return this._queuedChunk=null,{value:yt,done:!1}}if(this._done)return{value:void 0,done:!0};const Et=new g.PromiseCapability;return this._requests.push(Et),Et.promise}cancel(Et){this._done=!0;for(const yt of this._requests)yt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(e,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFNodeStream=void 0;var g=a(1),_=a(20);const j=/^file:\/\/\/[a-zA-Z]:\//;function $(_t){const mt=require$$5,ot=mt.parse(_t);return ot.protocol==="file:"||ot.host?ot:/^[a-z]:[/\\]/i.test(_t)?mt.parse(`file:///${_t}`):(ot.host||(ot.protocol="file:"),ot)}class ft{constructor(mt){this.source=mt,this.url=$(mt.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&mt.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var mt;return((mt=this._fullRequestReader)==null?void 0:mt._loaded)??0}getFullReader(){return(0,g.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new Et(this):new At(this),this._fullRequestReader}getRangeReader(mt,ot){if(ot<=this._progressiveDataLength)return null;const it=this.isFsUrl?new yt(this,mt,ot):new St(this,mt,ot);return this._rangeRequestReaders.push(it),it}cancelAllRequests(mt){var ot;(ot=this._fullRequestReader)==null||ot.cancel(mt);for(const it of this._rangeRequestReaders.slice(0))it.cancel(mt)}}o.PDFNodeStream=ft;class et{constructor(mt){this._url=mt.url,this._done=!1,this._storedError=null,this.onProgress=null;const ot=mt.source;this._contentLength=ot.length,this._loaded=0,this._filename=null,this._disableRange=ot.disableRange||!1,this._rangeChunkSize=ot.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!ot.disableStream,this._isRangeSupported=!ot.disableRange,this._readableStream=null,this._readCapability=new g.PromiseCapability,this._headersCapability=new g.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var it;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const mt=this._readableStream.read();return mt===null?(this._readCapability=new g.PromiseCapability,this.read()):(this._loaded+=mt.length,(it=this.onProgress)==null||it.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(mt).buffer,done:!1})}cancel(mt){if(!this._readableStream){this._error(mt);return}this._readableStream.destroy(mt)}_error(mt){this._storedError=mt,this._readCapability.resolve()}_setReadableStream(mt){this._readableStream=mt,mt.on("readable",()=>{this._readCapability.resolve()}),mt.on("end",()=>{mt.destroy(),this._done=!0,this._readCapability.resolve()}),mt.on("error",ot=>{this._error(ot)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new g.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class lt{constructor(mt){this._url=mt.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new g.PromiseCapability;const ot=mt.source;this._isStreamingSupported=!ot.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var it;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const mt=this._readableStream.read();return mt===null?(this._readCapability=new g.PromiseCapability,this.read()):(this._loaded+=mt.length,(it=this.onProgress)==null||it.call(this,{loaded:this._loaded}),{value:new Uint8Array(mt).buffer,done:!1})}cancel(mt){if(!this._readableStream){this._error(mt);return}this._readableStream.destroy(mt)}_error(mt){this._storedError=mt,this._readCapability.resolve()}_setReadableStream(mt){this._readableStream=mt,mt.on("readable",()=>{this._readCapability.resolve()}),mt.on("end",()=>{mt.destroy(),this._done=!0,this._readCapability.resolve()}),mt.on("error",ot=>{this._error(ot)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function at(_t,mt){return{protocol:_t.protocol,auth:_t.auth,host:_t.hostname,port:_t.port,path:_t.path,method:"GET",headers:mt}}class At extends et{constructor(mt){super(mt);const ot=it=>{if(it.statusCode===404){const dt=new g.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=dt,this._headersCapability.reject(dt);return}this._headersCapability.resolve(),this._setReadableStream(it);const ct=dt=>this._readableStream.headers[dt.toLowerCase()],{allowRangeRequests:pt,suggestedLength:rt}=(0,_.validateRangeRequestCapabilities)({getResponseHeader:ct,isHttp:mt.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=pt,this._contentLength=rt||this._contentLength,this._filename=(0,_.extractFilenameFromHeader)(ct)};if(this._request=null,this._url.protocol==="http:"){const it=require$$5;this._request=it.request(at(this._url,mt.httpHeaders),ot)}else{const it=require$$5;this._request=it.request(at(this._url,mt.httpHeaders),ot)}this._request.on("error",it=>{this._storedError=it,this._headersCapability.reject(it)}),this._request.end()}}class St extends lt{constructor(mt,ot,it){super(mt),this._httpHeaders={};for(const pt in mt.httpHeaders){const rt=mt.httpHeaders[pt];rt!==void 0&&(this._httpHeaders[pt]=rt)}this._httpHeaders.Range=`bytes=${ot}-${it-1}`;const ct=pt=>{if(pt.statusCode===404){const rt=new g.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=rt;return}this._setReadableStream(pt)};if(this._request=null,this._url.protocol==="http:"){const pt=require$$5;this._request=pt.request(at(this._url,this._httpHeaders),ct)}else{const pt=require$$5;this._request=pt.request(at(this._url,this._httpHeaders),ct)}this._request.on("error",pt=>{this._storedError=pt}),this._request.end()}}class Et extends et{constructor(mt){super(mt);let ot=decodeURIComponent(this._url.path);j.test(this._url.href)&&(ot=ot.replace(/^\//,""));const it=require$$5;it.lstat(ot,(ct,pt)=>{if(ct){ct.code==="ENOENT"&&(ct=new g.MissingPDFException(`Missing PDF "${ot}".`)),this._storedError=ct,this._headersCapability.reject(ct);return}this._contentLength=pt.size,this._setReadableStream(it.createReadStream(ot)),this._headersCapability.resolve()})}}class yt extends lt{constructor(mt,ot,it){super(mt);let ct=decodeURIComponent(this._url.path);j.test(this._url.href)&&(ct=ct.replace(/^\//,""));const pt=require$$5;this._setReadableStream(pt.createReadStream(ct,{start:ot,end:it-1}))}}},(e,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SVGGraphics=void 0;var g=a(6),_=a(1);const j={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},$="http://www.w3.org/XML/1998/namespace",ft="http://www.w3.org/1999/xlink",et=["butt","round","square"],lt=["miter","round","bevel"],at=function(pt,rt="",dt=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!dt)return URL.createObjectURL(new Blob([pt],{type:rt}));const xt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let vt=`data:${rt};base64,`;for(let ht=0,kt=pt.length;ht<kt;ht+=3){const wt=pt[ht]&255,Nt=pt[ht+1]&255,jt=pt[ht+2]&255,Pt=wt>>2,Ut=(wt&3)<<4|Nt>>4,Xt=ht+1<kt?(Nt&15)<<2|jt>>6:64,tn=ht+2<kt?jt&63:64;vt+=xt[Pt]+xt[Ut]+xt[Xt]+xt[tn]}return vt},At=function(){const pt=new Uint8Array([137,80,78,71,13,10,26,10]),rt=12,dt=new Int32Array(256);for(let jt=0;jt<256;jt++){let Pt=jt;for(let Ut=0;Ut<8;Ut++)Pt=Pt&1?3988292384^Pt>>1&2147483647:Pt>>1&2147483647;dt[jt]=Pt}function xt(jt,Pt,Ut){let Xt=-1;for(let tn=Pt;tn<Ut;tn++){const Mt=(Xt^jt[tn])&255,Wt=dt[Mt];Xt=Xt>>>8^Wt}return Xt^-1}function vt(jt,Pt,Ut,Xt){let tn=Xt;const Mt=Pt.length;Ut[tn]=Mt>>24&255,Ut[tn+1]=Mt>>16&255,Ut[tn+2]=Mt>>8&255,Ut[tn+3]=Mt&255,tn+=4,Ut[tn]=jt.charCodeAt(0)&255,Ut[tn+1]=jt.charCodeAt(1)&255,Ut[tn+2]=jt.charCodeAt(2)&255,Ut[tn+3]=jt.charCodeAt(3)&255,tn+=4,Ut.set(Pt,tn),tn+=Pt.length;const Wt=xt(Ut,Xt+4,tn);Ut[tn]=Wt>>24&255,Ut[tn+1]=Wt>>16&255,Ut[tn+2]=Wt>>8&255,Ut[tn+3]=Wt&255}function ht(jt,Pt,Ut){let Xt=1,tn=0;for(let Mt=Pt;Mt<Ut;++Mt)Xt=(Xt+(jt[Mt]&255))%65521,tn=(tn+Xt)%65521;return tn<<16|Xt}function kt(jt){if(!_.isNodeJS)return wt(jt);try{const Pt=parseInt(process.versions.node)>=8?jt:Buffer.from(jt),Ut=require$$5.deflateSync(Pt,{level:9});return Ut instanceof Uint8Array?Ut:new Uint8Array(Ut)}catch(Pt){(0,_.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Pt)}return wt(jt)}function wt(jt){let Pt=jt.length;const Ut=65535,Xt=Math.ceil(Pt/Ut),tn=new Uint8Array(2+Pt+Xt*5+4);let Mt=0;tn[Mt++]=120,tn[Mt++]=156;let Wt=0;for(;Pt>Ut;)tn[Mt++]=0,tn[Mt++]=255,tn[Mt++]=255,tn[Mt++]=0,tn[Mt++]=0,tn.set(jt.subarray(Wt,Wt+Ut),Mt),Mt+=Ut,Wt+=Ut,Pt-=Ut;tn[Mt++]=1,tn[Mt++]=Pt&255,tn[Mt++]=Pt>>8&255,tn[Mt++]=~Pt&65535&255,tn[Mt++]=(~Pt&65535)>>8&255,tn.set(jt.subarray(Wt),Mt),Mt+=jt.length-Wt;const Ht=ht(jt,0,jt.length);return tn[Mt++]=Ht>>24&255,tn[Mt++]=Ht>>16&255,tn[Mt++]=Ht>>8&255,tn[Mt++]=Ht&255,tn}function Nt(jt,Pt,Ut,Xt){const tn=jt.width,Mt=jt.height;let Wt,Ht,ln;const cn=jt.data;switch(Pt){case _.ImageKind.GRAYSCALE_1BPP:Ht=0,Wt=1,ln=tn+7>>3;break;case _.ImageKind.RGB_24BPP:Ht=2,Wt=8,ln=tn*3;break;case _.ImageKind.RGBA_32BPP:Ht=6,Wt=8,ln=tn*4;break;default:throw new Error("invalid format")}const Ct=new Uint8Array((1+ln)*Mt);let tt=0,ut=0;for(let Ot=0;Ot<Mt;++Ot)Ct[tt++]=0,Ct.set(cn.subarray(ut,ut+ln),tt),ut+=ln,tt+=ln;if(Pt===_.ImageKind.GRAYSCALE_1BPP&&Xt){tt=0;for(let Ot=0;Ot<Mt;Ot++){tt++;for(let Jt=0;Jt<ln;Jt++)Ct[tt++]^=255}}const st=new Uint8Array([tn>>24&255,tn>>16&255,tn>>8&255,tn&255,Mt>>24&255,Mt>>16&255,Mt>>8&255,Mt&255,Wt,Ht,0,0,0]),gt=kt(Ct),bt=pt.length+rt*3+st.length+gt.length,Rt=new Uint8Array(bt);let Ft=0;return Rt.set(pt,Ft),Ft+=pt.length,vt("IHDR",st,Rt,Ft),Ft+=rt+st.length,vt("IDATA",gt,Rt,Ft),Ft+=rt+gt.length,vt("IEND",new Uint8Array(0),Rt,Ft),at(Rt,"image/png",Ut)}return function(Pt,Ut,Xt){const tn=Pt.kind===void 0?_.ImageKind.GRAYSCALE_1BPP:Pt.kind;return Nt(Pt,tn,Ut,Xt)}}();class St{constructor(){this.fontSizeScale=1,this.fontWeight=j.fontWeight,this.fontSize=0,this.textMatrix=_.IDENTITY_MATRIX,this.fontMatrix=_.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=_.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=j.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(rt,dt){this.x=rt,this.y=dt}}function Et(pt){let rt=[];const dt=[];for(const xt of pt){if(xt.fn==="save"){rt.push({fnId:92,fn:"group",items:[]}),dt.push(rt),rt=rt.at(-1).items;continue}xt.fn==="restore"?rt=dt.pop():rt.push(xt)}return rt}function yt(pt){if(Number.isInteger(pt))return pt.toString();const rt=pt.toFixed(10);let dt=rt.length-1;if(rt[dt]!=="0")return rt;do dt--;while(rt[dt]==="0");return rt.substring(0,rt[dt]==="."?dt:dt+1)}function _t(pt){if(pt[4]===0&&pt[5]===0){if(pt[1]===0&&pt[2]===0)return pt[0]===1&&pt[3]===1?"":`scale(${yt(pt[0])} ${yt(pt[3])})`;if(pt[0]===pt[3]&&pt[1]===-pt[2]){const rt=Math.acos(pt[0])*180/Math.PI;return`rotate(${yt(rt)})`}}else if(pt[0]===1&&pt[1]===0&&pt[2]===0&&pt[3]===1)return`translate(${yt(pt[4])} ${yt(pt[5])})`;return`matrix(${yt(pt[0])} ${yt(pt[1])} ${yt(pt[2])} ${yt(pt[3])} ${yt(pt[4])} ${yt(pt[5])})`}let mt=0,ot=0,it=0;class ct{constructor(rt,dt,xt=!1){(0,g.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new g.DOMSVGFactory,this.current=new St,this.transformMatrix=_.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=rt,this.objs=dt,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!xt,this._operatorIdMapping=[];for(const vt in _.OPS)this._operatorIdMapping[_.OPS[vt]]=vt}getObject(rt,dt=null){return typeof rt=="string"?rt.startsWith("g_")?this.commonObjs.get(rt):this.objs.get(rt):dt}save(){this.transformStack.push(this.transformMatrix);const rt=this.current;this.extraStack.push(rt),this.current=rt.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(rt){this.save(),this.executeOpTree(rt),this.restore()}loadDependencies(rt){const dt=rt.fnArray,xt=rt.argsArray;for(let vt=0,ht=dt.length;vt<ht;vt++)if(dt[vt]===_.OPS.dependency)for(const kt of xt[vt]){const wt=kt.startsWith("g_")?this.commonObjs:this.objs,Nt=new Promise(jt=>{wt.get(kt,jt)});this.current.dependencies.push(Nt)}return Promise.all(this.current.dependencies)}transform(rt,dt,xt,vt,ht,kt){const wt=[rt,dt,xt,vt,ht,kt];this.transformMatrix=_.Util.transform(this.transformMatrix,wt),this.tgrp=null}getSVG(rt,dt){this.viewport=dt;const xt=this._initialize(dt);return this.loadDependencies(rt).then(()=>(this.transformMatrix=_.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(rt)),xt))}convertOpList(rt){const dt=this._operatorIdMapping,xt=rt.argsArray,vt=rt.fnArray,ht=[];for(let kt=0,wt=vt.length;kt<wt;kt++){const Nt=vt[kt];ht.push({fnId:Nt,fn:dt[Nt],args:xt[kt]})}return Et(ht)}executeOpTree(rt){for(const dt of rt){const xt=dt.fn,vt=dt.fnId,ht=dt.args;switch(vt|0){case _.OPS.beginText:this.beginText();break;case _.OPS.dependency:break;case _.OPS.setLeading:this.setLeading(ht);break;case _.OPS.setLeadingMoveText:this.setLeadingMoveText(ht[0],ht[1]);break;case _.OPS.setFont:this.setFont(ht);break;case _.OPS.showText:this.showText(ht[0]);break;case _.OPS.showSpacedText:this.showText(ht[0]);break;case _.OPS.endText:this.endText();break;case _.OPS.moveText:this.moveText(ht[0],ht[1]);break;case _.OPS.setCharSpacing:this.setCharSpacing(ht[0]);break;case _.OPS.setWordSpacing:this.setWordSpacing(ht[0]);break;case _.OPS.setHScale:this.setHScale(ht[0]);break;case _.OPS.setTextMatrix:this.setTextMatrix(ht[0],ht[1],ht[2],ht[3],ht[4],ht[5]);break;case _.OPS.setTextRise:this.setTextRise(ht[0]);break;case _.OPS.setTextRenderingMode:this.setTextRenderingMode(ht[0]);break;case _.OPS.setLineWidth:this.setLineWidth(ht[0]);break;case _.OPS.setLineJoin:this.setLineJoin(ht[0]);break;case _.OPS.setLineCap:this.setLineCap(ht[0]);break;case _.OPS.setMiterLimit:this.setMiterLimit(ht[0]);break;case _.OPS.setFillRGBColor:this.setFillRGBColor(ht[0],ht[1],ht[2]);break;case _.OPS.setStrokeRGBColor:this.setStrokeRGBColor(ht[0],ht[1],ht[2]);break;case _.OPS.setStrokeColorN:this.setStrokeColorN(ht);break;case _.OPS.setFillColorN:this.setFillColorN(ht);break;case _.OPS.shadingFill:this.shadingFill(ht[0]);break;case _.OPS.setDash:this.setDash(ht[0],ht[1]);break;case _.OPS.setRenderingIntent:this.setRenderingIntent(ht[0]);break;case _.OPS.setFlatness:this.setFlatness(ht[0]);break;case _.OPS.setGState:this.setGState(ht[0]);break;case _.OPS.fill:this.fill();break;case _.OPS.eoFill:this.eoFill();break;case _.OPS.stroke:this.stroke();break;case _.OPS.fillStroke:this.fillStroke();break;case _.OPS.eoFillStroke:this.eoFillStroke();break;case _.OPS.clip:this.clip("nonzero");break;case _.OPS.eoClip:this.clip("evenodd");break;case _.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case _.OPS.paintImageXObject:this.paintImageXObject(ht[0]);break;case _.OPS.paintInlineImageXObject:this.paintInlineImageXObject(ht[0]);break;case _.OPS.paintImageMaskXObject:this.paintImageMaskXObject(ht[0]);break;case _.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(ht[0],ht[1]);break;case _.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case _.OPS.closePath:this.closePath();break;case _.OPS.closeStroke:this.closeStroke();break;case _.OPS.closeFillStroke:this.closeFillStroke();break;case _.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case _.OPS.nextLine:this.nextLine();break;case _.OPS.transform:this.transform(ht[0],ht[1],ht[2],ht[3],ht[4],ht[5]);break;case _.OPS.constructPath:this.constructPath(ht[0],ht[1]);break;case _.OPS.endPath:this.endPath();break;case 92:this.group(dt.items);break;default:(0,_.warn)(`Unimplemented operator ${xt}`);break}}}setWordSpacing(rt){this.current.wordSpacing=rt}setCharSpacing(rt){this.current.charSpacing=rt}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(rt,dt,xt,vt,ht,kt){const wt=this.current;wt.textMatrix=wt.lineMatrix=[rt,dt,xt,vt,ht,kt],wt.textMatrixScale=Math.hypot(rt,dt),wt.x=wt.lineX=0,wt.y=wt.lineY=0,wt.xcoords=[],wt.ycoords=[],wt.tspan=this.svgFactory.createElement("svg:tspan"),wt.tspan.setAttributeNS(null,"font-family",wt.fontFamily),wt.tspan.setAttributeNS(null,"font-size",`${yt(wt.fontSize)}px`),wt.tspan.setAttributeNS(null,"y",yt(-wt.y)),wt.txtElement=this.svgFactory.createElement("svg:text"),wt.txtElement.append(wt.tspan)}beginText(){const rt=this.current;rt.x=rt.lineX=0,rt.y=rt.lineY=0,rt.textMatrix=_.IDENTITY_MATRIX,rt.lineMatrix=_.IDENTITY_MATRIX,rt.textMatrixScale=1,rt.tspan=this.svgFactory.createElement("svg:tspan"),rt.txtElement=this.svgFactory.createElement("svg:text"),rt.txtgrp=this.svgFactory.createElement("svg:g"),rt.xcoords=[],rt.ycoords=[]}moveText(rt,dt){const xt=this.current;xt.x=xt.lineX+=rt,xt.y=xt.lineY+=dt,xt.xcoords=[],xt.ycoords=[],xt.tspan=this.svgFactory.createElement("svg:tspan"),xt.tspan.setAttributeNS(null,"font-family",xt.fontFamily),xt.tspan.setAttributeNS(null,"font-size",`${yt(xt.fontSize)}px`),xt.tspan.setAttributeNS(null,"y",yt(-xt.y))}showText(rt){const dt=this.current,xt=dt.font,vt=dt.fontSize;if(vt===0)return;const ht=dt.fontSizeScale,kt=dt.charSpacing,wt=dt.wordSpacing,Nt=dt.fontDirection,jt=dt.textHScale*Nt,Pt=xt.vertical,Ut=Pt?1:-1,Xt=xt.defaultVMetrics,tn=vt*dt.fontMatrix[0];let Mt=0;for(const ln of rt){if(ln===null){Mt+=Nt*wt;continue}else if(typeof ln=="number"){Mt+=Ut*ln*vt/1e3;continue}const cn=(ln.isSpace?wt:0)+kt,Ct=ln.fontChar;let tt,ut,st=ln.width;if(Pt){let bt;const Rt=ln.vmetric||Xt;bt=ln.vmetric?Rt[1]:st*.5,bt=-bt*tn;const Ft=Rt[2]*tn;st=Rt?-Rt[0]:st,tt=bt/ht,ut=(Mt+Ft)/ht}else tt=Mt/ht,ut=0;(ln.isInFont||xt.missingFile)&&(dt.xcoords.push(dt.x+tt),Pt&&dt.ycoords.push(-dt.y+ut),dt.tspan.textContent+=Ct);const gt=Pt?st*tn-cn*Nt:st*tn+cn*Nt;Mt+=gt}dt.tspan.setAttributeNS(null,"x",dt.xcoords.map(yt).join(" ")),Pt?dt.tspan.setAttributeNS(null,"y",dt.ycoords.map(yt).join(" ")):dt.tspan.setAttributeNS(null,"y",yt(-dt.y)),Pt?dt.y-=Mt:dt.x+=Mt*jt,dt.tspan.setAttributeNS(null,"font-family",dt.fontFamily),dt.tspan.setAttributeNS(null,"font-size",`${yt(dt.fontSize)}px`),dt.fontStyle!==j.fontStyle&&dt.tspan.setAttributeNS(null,"font-style",dt.fontStyle),dt.fontWeight!==j.fontWeight&&dt.tspan.setAttributeNS(null,"font-weight",dt.fontWeight);const Wt=dt.textRenderingMode&_.TextRenderingMode.FILL_STROKE_MASK;if(Wt===_.TextRenderingMode.FILL||Wt===_.TextRenderingMode.FILL_STROKE?(dt.fillColor!==j.fillColor&&dt.tspan.setAttributeNS(null,"fill",dt.fillColor),dt.fillAlpha<1&&dt.tspan.setAttributeNS(null,"fill-opacity",dt.fillAlpha)):dt.textRenderingMode===_.TextRenderingMode.ADD_TO_PATH?dt.tspan.setAttributeNS(null,"fill","transparent"):dt.tspan.setAttributeNS(null,"fill","none"),Wt===_.TextRenderingMode.STROKE||Wt===_.TextRenderingMode.FILL_STROKE){const ln=1/(dt.textMatrixScale||1);this._setStrokeAttributes(dt.tspan,ln)}let Ht=dt.textMatrix;dt.textRise!==0&&(Ht=Ht.slice(),Ht[5]+=dt.textRise),dt.txtElement.setAttributeNS(null,"transform",`${_t(Ht)} scale(${yt(jt)}, -1)`),dt.txtElement.setAttributeNS($,"xml:space","preserve"),dt.txtElement.append(dt.tspan),dt.txtgrp.append(dt.txtElement),this._ensureTransformGroup().append(dt.txtElement)}setLeadingMoveText(rt,dt){this.setLeading(-dt),this.moveText(rt,dt)}addFontStyle(rt){if(!rt.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const dt=at(rt.data,rt.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${rt.loadedName}"; src: url(${dt}); }
`}setFont(rt){const dt=this.current,xt=this.commonObjs.get(rt[0]);let vt=rt[1];dt.font=xt,this.embedFonts&&!xt.missingFile&&!this.embeddedFonts[xt.loadedName]&&(this.addFontStyle(xt),this.embeddedFonts[xt.loadedName]=xt),dt.fontMatrix=xt.fontMatrix||_.FONT_IDENTITY_MATRIX;let ht="normal";xt.black?ht="900":xt.bold&&(ht="bold");const kt=xt.italic?"italic":"normal";vt<0?(vt=-vt,dt.fontDirection=-1):dt.fontDirection=1,dt.fontSize=vt,dt.fontFamily=xt.loadedName,dt.fontWeight=ht,dt.fontStyle=kt,dt.tspan=this.svgFactory.createElement("svg:tspan"),dt.tspan.setAttributeNS(null,"y",yt(-dt.y)),dt.xcoords=[],dt.ycoords=[]}endText(){var dt;const rt=this.current;rt.textRenderingMode&_.TextRenderingMode.ADD_TO_PATH_FLAG&&((dt=rt.txtElement)!=null&&dt.hasChildNodes())&&(rt.element=rt.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(rt){rt>0&&(this.current.lineWidth=rt)}setLineCap(rt){this.current.lineCap=et[rt]}setLineJoin(rt){this.current.lineJoin=lt[rt]}setMiterLimit(rt){this.current.miterLimit=rt}setStrokeAlpha(rt){this.current.strokeAlpha=rt}setStrokeRGBColor(rt,dt,xt){this.current.strokeColor=_.Util.makeHexColor(rt,dt,xt)}setFillAlpha(rt){this.current.fillAlpha=rt}setFillRGBColor(rt,dt,xt){this.current.fillColor=_.Util.makeHexColor(rt,dt,xt),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(rt){this.current.strokeColor=this._makeColorN_Pattern(rt)}setFillColorN(rt){this.current.fillColor=this._makeColorN_Pattern(rt)}shadingFill(rt){const{width:dt,height:xt}=this.viewport,vt=_.Util.inverseTransform(this.transformMatrix),[ht,kt,wt,Nt]=_.Util.getAxialAlignedBoundingBox([0,0,dt,xt],vt),jt=this.svgFactory.createElement("svg:rect");jt.setAttributeNS(null,"x",ht),jt.setAttributeNS(null,"y",kt),jt.setAttributeNS(null,"width",wt-ht),jt.setAttributeNS(null,"height",Nt-kt),jt.setAttributeNS(null,"fill",this._makeShadingPattern(rt)),this.current.fillAlpha<1&&jt.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(jt)}_makeColorN_Pattern(rt){return rt[0]==="TilingPattern"?this._makeTilingPattern(rt):this._makeShadingPattern(rt)}_makeTilingPattern(rt){const dt=rt[1],xt=rt[2],vt=rt[3]||_.IDENTITY_MATRIX,[ht,kt,wt,Nt]=rt[4],jt=rt[5],Pt=rt[6],Ut=rt[7],Xt=`shading${it++}`,[tn,Mt,Wt,Ht]=_.Util.normalizeRect([..._.Util.applyTransform([ht,kt],vt),..._.Util.applyTransform([wt,Nt],vt)]),[ln,cn]=_.Util.singularValueDecompose2dScale(vt),Ct=jt*ln,tt=Pt*cn,ut=this.svgFactory.createElement("svg:pattern");ut.setAttributeNS(null,"id",Xt),ut.setAttributeNS(null,"patternUnits","userSpaceOnUse"),ut.setAttributeNS(null,"width",Ct),ut.setAttributeNS(null,"height",tt),ut.setAttributeNS(null,"x",`${tn}`),ut.setAttributeNS(null,"y",`${Mt}`);const st=this.svg,gt=this.transformMatrix,bt=this.current.fillColor,Rt=this.current.strokeColor,Ft=this.svgFactory.create(Wt-tn,Ht-Mt);if(this.svg=Ft,this.transformMatrix=vt,Ut===2){const Ot=_.Util.makeHexColor(...dt);this.current.fillColor=Ot,this.current.strokeColor=Ot}return this.executeOpTree(this.convertOpList(xt)),this.svg=st,this.transformMatrix=gt,this.current.fillColor=bt,this.current.strokeColor=Rt,ut.append(Ft.childNodes[0]),this.defs.append(ut),`url(#${Xt})`}_makeShadingPattern(rt){switch(typeof rt=="string"&&(rt=this.objs.get(rt)),rt[0]){case"RadialAxial":const dt=`shading${it++}`,xt=rt[3];let vt;switch(rt[1]){case"axial":const ht=rt[4],kt=rt[5];vt=this.svgFactory.createElement("svg:linearGradient"),vt.setAttributeNS(null,"id",dt),vt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),vt.setAttributeNS(null,"x1",ht[0]),vt.setAttributeNS(null,"y1",ht[1]),vt.setAttributeNS(null,"x2",kt[0]),vt.setAttributeNS(null,"y2",kt[1]);break;case"radial":const wt=rt[4],Nt=rt[5],jt=rt[6],Pt=rt[7];vt=this.svgFactory.createElement("svg:radialGradient"),vt.setAttributeNS(null,"id",dt),vt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),vt.setAttributeNS(null,"cx",Nt[0]),vt.setAttributeNS(null,"cy",Nt[1]),vt.setAttributeNS(null,"r",Pt),vt.setAttributeNS(null,"fx",wt[0]),vt.setAttributeNS(null,"fy",wt[1]),vt.setAttributeNS(null,"fr",jt);break;default:throw new Error(`Unknown RadialAxial type: ${rt[1]}`)}for(const ht of xt){const kt=this.svgFactory.createElement("svg:stop");kt.setAttributeNS(null,"offset",ht[0]),kt.setAttributeNS(null,"stop-color",ht[1]),vt.append(kt)}return this.defs.append(vt),`url(#${dt})`;case"Mesh":return(0,_.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${rt[0]}`)}}setDash(rt,dt){this.current.dashArray=rt,this.current.dashPhase=dt}constructPath(rt,dt){const xt=this.current;let vt=xt.x,ht=xt.y,kt=[],wt=0;for(const Nt of rt)switch(Nt|0){case _.OPS.rectangle:vt=dt[wt++],ht=dt[wt++];const jt=dt[wt++],Pt=dt[wt++],Ut=vt+jt,Xt=ht+Pt;kt.push("M",yt(vt),yt(ht),"L",yt(Ut),yt(ht),"L",yt(Ut),yt(Xt),"L",yt(vt),yt(Xt),"Z");break;case _.OPS.moveTo:vt=dt[wt++],ht=dt[wt++],kt.push("M",yt(vt),yt(ht));break;case _.OPS.lineTo:vt=dt[wt++],ht=dt[wt++],kt.push("L",yt(vt),yt(ht));break;case _.OPS.curveTo:vt=dt[wt+4],ht=dt[wt+5],kt.push("C",yt(dt[wt]),yt(dt[wt+1]),yt(dt[wt+2]),yt(dt[wt+3]),yt(vt),yt(ht)),wt+=6;break;case _.OPS.curveTo2:kt.push("C",yt(vt),yt(ht),yt(dt[wt]),yt(dt[wt+1]),yt(dt[wt+2]),yt(dt[wt+3])),vt=dt[wt+2],ht=dt[wt+3],wt+=4;break;case _.OPS.curveTo3:vt=dt[wt+2],ht=dt[wt+3],kt.push("C",yt(dt[wt]),yt(dt[wt+1]),yt(vt),yt(ht),yt(vt),yt(ht)),wt+=4;break;case _.OPS.closePath:kt.push("Z");break}kt=kt.join(" "),xt.path&&rt.length>0&&rt[0]!==_.OPS.rectangle&&rt[0]!==_.OPS.moveTo?kt=xt.path.getAttributeNS(null,"d")+kt:(xt.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(xt.path)),xt.path.setAttributeNS(null,"d",kt),xt.path.setAttributeNS(null,"fill","none"),xt.element=xt.path,xt.setCurrentPoint(vt,ht)}endPath(){const rt=this.current;if(rt.path=null,!this.pendingClip)return;if(!rt.element){this.pendingClip=null;return}const dt=`clippath${mt++}`,xt=this.svgFactory.createElement("svg:clipPath");xt.setAttributeNS(null,"id",dt),xt.setAttributeNS(null,"transform",_t(this.transformMatrix));const vt=rt.element.cloneNode(!0);if(this.pendingClip==="evenodd"?vt.setAttributeNS(null,"clip-rule","evenodd"):vt.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,xt.append(vt),this.defs.append(xt),rt.activeClipUrl){rt.clipGroup=null;for(const ht of this.extraStack)ht.clipGroup=null;xt.setAttributeNS(null,"clip-path",rt.activeClipUrl)}rt.activeClipUrl=`url(#${dt})`,this.tgrp=null}clip(rt){this.pendingClip=rt}closePath(){const rt=this.current;if(rt.path){const dt=`${rt.path.getAttributeNS(null,"d")}Z`;rt.path.setAttributeNS(null,"d",dt)}}setLeading(rt){this.current.leading=-rt}setTextRise(rt){this.current.textRise=rt}setTextRenderingMode(rt){this.current.textRenderingMode=rt}setHScale(rt){this.current.textHScale=rt/100}setRenderingIntent(rt){}setFlatness(rt){}setGState(rt){for(const[dt,xt]of rt)switch(dt){case"LW":this.setLineWidth(xt);break;case"LC":this.setLineCap(xt);break;case"LJ":this.setLineJoin(xt);break;case"ML":this.setMiterLimit(xt);break;case"D":this.setDash(xt[0],xt[1]);break;case"RI":this.setRenderingIntent(xt);break;case"FL":this.setFlatness(xt);break;case"Font":this.setFont(xt);break;case"CA":this.setStrokeAlpha(xt);break;case"ca":this.setFillAlpha(xt);break;default:(0,_.warn)(`Unimplemented graphic state operator ${dt}`);break}}fill(){const rt=this.current;rt.element&&(rt.element.setAttributeNS(null,"fill",rt.fillColor),rt.element.setAttributeNS(null,"fill-opacity",rt.fillAlpha),this.endPath())}stroke(){const rt=this.current;rt.element&&(this._setStrokeAttributes(rt.element),rt.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(rt,dt=1){const xt=this.current;let vt=xt.dashArray;dt!==1&&vt.length>0&&(vt=vt.map(function(ht){return dt*ht})),rt.setAttributeNS(null,"stroke",xt.strokeColor),rt.setAttributeNS(null,"stroke-opacity",xt.strokeAlpha),rt.setAttributeNS(null,"stroke-miterlimit",yt(xt.miterLimit)),rt.setAttributeNS(null,"stroke-linecap",xt.lineCap),rt.setAttributeNS(null,"stroke-linejoin",xt.lineJoin),rt.setAttributeNS(null,"stroke-width",yt(dt*xt.lineWidth)+"px"),rt.setAttributeNS(null,"stroke-dasharray",vt.map(yt).join(" ")),rt.setAttributeNS(null,"stroke-dashoffset",yt(dt*xt.dashPhase)+"px")}eoFill(){var rt;(rt=this.current.element)==null||rt.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var rt;(rt=this.current.element)==null||rt.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const rt=this.svgFactory.createElement("svg:rect");rt.setAttributeNS(null,"x","0"),rt.setAttributeNS(null,"y","0"),rt.setAttributeNS(null,"width","1px"),rt.setAttributeNS(null,"height","1px"),rt.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(rt)}paintImageXObject(rt){const dt=this.getObject(rt);if(!dt){(0,_.warn)(`Dependent image with object ID ${rt} is not ready yet`);return}this.paintInlineImageXObject(dt)}paintInlineImageXObject(rt,dt){const xt=rt.width,vt=rt.height,ht=At(rt,this.forceDataSchema,!!dt),kt=this.svgFactory.createElement("svg:rect");kt.setAttributeNS(null,"x","0"),kt.setAttributeNS(null,"y","0"),kt.setAttributeNS(null,"width",yt(xt)),kt.setAttributeNS(null,"height",yt(vt)),this.current.element=kt,this.clip("nonzero");const wt=this.svgFactory.createElement("svg:image");wt.setAttributeNS(ft,"xlink:href",ht),wt.setAttributeNS(null,"x","0"),wt.setAttributeNS(null,"y",yt(-vt)),wt.setAttributeNS(null,"width",yt(xt)+"px"),wt.setAttributeNS(null,"height",yt(vt)+"px"),wt.setAttributeNS(null,"transform",`scale(${yt(1/xt)} ${yt(-1/vt)})`),dt?dt.append(wt):this._ensureTransformGroup().append(wt)}paintImageMaskXObject(rt){const dt=this.getObject(rt.data,rt);if(dt.bitmap){(0,_.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const xt=this.current,vt=dt.width,ht=dt.height,kt=xt.fillColor;xt.maskId=`mask${ot++}`;const wt=this.svgFactory.createElement("svg:mask");wt.setAttributeNS(null,"id",xt.maskId);const Nt=this.svgFactory.createElement("svg:rect");Nt.setAttributeNS(null,"x","0"),Nt.setAttributeNS(null,"y","0"),Nt.setAttributeNS(null,"width",yt(vt)),Nt.setAttributeNS(null,"height",yt(ht)),Nt.setAttributeNS(null,"fill",kt),Nt.setAttributeNS(null,"mask",`url(#${xt.maskId})`),this.defs.append(wt),this._ensureTransformGroup().append(Nt),this.paintInlineImageXObject(dt,wt)}paintFormXObjectBegin(rt,dt){if(Array.isArray(rt)&&rt.length===6&&this.transform(rt[0],rt[1],rt[2],rt[3],rt[4],rt[5]),dt){const xt=dt[2]-dt[0],vt=dt[3]-dt[1],ht=this.svgFactory.createElement("svg:rect");ht.setAttributeNS(null,"x",dt[0]),ht.setAttributeNS(null,"y",dt[1]),ht.setAttributeNS(null,"width",yt(xt)),ht.setAttributeNS(null,"height",yt(vt)),this.current.element=ht,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(rt){const dt=this.svgFactory.create(rt.width,rt.height),xt=this.svgFactory.createElement("svg:defs");dt.append(xt),this.defs=xt;const vt=this.svgFactory.createElement("svg:g");return vt.setAttributeNS(null,"transform",_t(rt.transform)),dt.append(vt),this.svg=vt,dt}_ensureClipGroup(){if(!this.current.clipGroup){const rt=this.svgFactory.createElement("svg:g");rt.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(rt),this.current.clipGroup=rt}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",_t(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}o.SVGGraphics=ct},(e,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.XfaText=void 0;class a{static textContent(_){const j=[],$={items:j,styles:Object.create(null)};function ft(et){var At;if(!et)return;let lt=null;const at=et.name;if(at==="#text")lt=et.value;else if(a.shouldBuildText(at))(At=et==null?void 0:et.attributes)!=null&&At.textContent?lt=et.attributes.textContent:et.value&&(lt=et.value);else return;if(lt!==null&&j.push({str:lt}),!!et.children)for(const St of et.children)ft(St)}return ft(_),$}static shouldBuildText(_){return!(_==="textarea"||_==="input"||_==="option"||_==="select")}}o.XfaText=a},(e,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TextLayerRenderTask=void 0,o.renderTextLayer=_t,o.updateTextLayer=mt;var g=a(1),_=a(6);const j=1e5,$=30,ft=.8,et=new Map;function lt(ot,it){let ct;if(it&&g.FeatureTest.isOffscreenCanvasSupported)ct=new OffscreenCanvas(ot,ot).getContext("2d",{alpha:!1});else{const pt=document.createElement("canvas");pt.width=pt.height=ot,ct=pt.getContext("2d",{alpha:!1})}return ct}function at(ot,it){const ct=et.get(ot);if(ct)return ct;const pt=lt($,it);pt.font=`${$}px ${ot}`;const rt=pt.measureText("");let dt=rt.fontBoundingBoxAscent,xt=Math.abs(rt.fontBoundingBoxDescent);if(dt){const ht=dt/(dt+xt);return et.set(ot,ht),pt.canvas.width=pt.canvas.height=0,ht}pt.strokeStyle="red",pt.clearRect(0,0,$,$),pt.strokeText("g",0,0);let vt=pt.getImageData(0,0,$,$).data;xt=0;for(let ht=vt.length-1-3;ht>=0;ht-=4)if(vt[ht]>0){xt=Math.ceil(ht/4/$);break}pt.clearRect(0,0,$,$),pt.strokeText("A",0,$),vt=pt.getImageData(0,0,$,$).data,dt=0;for(let ht=0,kt=vt.length;ht<kt;ht+=4)if(vt[ht]>0){dt=$-Math.floor(ht/4/$);break}if(pt.canvas.width=pt.canvas.height=0,dt){const ht=dt/(dt+xt);return et.set(ot,ht),ht}return et.set(ot,ft),ft}function At(ot,it,ct){const pt=document.createElement("span"),rt={angle:0,canvasWidth:0,hasText:it.str!=="",hasEOL:it.hasEOL,fontSize:0};ot._textDivs.push(pt);const dt=g.Util.transform(ot._transform,it.transform);let xt=Math.atan2(dt[1],dt[0]);const vt=ct[it.fontName];vt.vertical&&(xt+=Math.PI/2);const ht=Math.hypot(dt[2],dt[3]),kt=ht*at(vt.fontFamily,ot._isOffscreenCanvasSupported);let wt,Nt;xt===0?(wt=dt[4],Nt=dt[5]-kt):(wt=dt[4]+kt*Math.sin(xt),Nt=dt[5]-kt*Math.cos(xt));const jt="calc(var(--scale-factor)*",Pt=pt.style;ot._container===ot._rootContainer?(Pt.left=`${(100*wt/ot._pageWidth).toFixed(2)}%`,Pt.top=`${(100*Nt/ot._pageHeight).toFixed(2)}%`):(Pt.left=`${jt}${wt.toFixed(2)}px)`,Pt.top=`${jt}${Nt.toFixed(2)}px)`),Pt.fontSize=`${jt}${ht.toFixed(2)}px)`,Pt.fontFamily=vt.fontFamily,rt.fontSize=ht,pt.setAttribute("role","presentation"),pt.textContent=it.str,pt.dir=it.dir,ot._fontInspectorEnabled&&(pt.dataset.fontName=it.fontName),xt!==0&&(rt.angle=xt*(180/Math.PI));let Ut=!1;if(it.str.length>1)Ut=!0;else if(it.str!==" "&&it.transform[0]!==it.transform[3]){const Xt=Math.abs(it.transform[0]),tn=Math.abs(it.transform[3]);Xt!==tn&&Math.max(Xt,tn)/Math.min(Xt,tn)>1.5&&(Ut=!0)}Ut&&(rt.canvasWidth=vt.vertical?it.height:it.width),ot._textDivProperties.set(pt,rt),ot._isReadableStream&&ot._layoutText(pt)}function St(ot){const{div:it,scale:ct,properties:pt,ctx:rt,prevFontSize:dt,prevFontFamily:xt}=ot,{style:vt}=it;let ht="";if(pt.canvasWidth!==0&&pt.hasText){const{fontFamily:kt}=vt,{canvasWidth:wt,fontSize:Nt}=pt;(dt!==Nt||xt!==kt)&&(rt.font=`${Nt*ct}px ${kt}`,ot.prevFontSize=Nt,ot.prevFontFamily=kt);const{width:jt}=rt.measureText(it.textContent);jt>0&&(ht=`scaleX(${wt*ct/jt})`)}pt.angle!==0&&(ht=`rotate(${pt.angle}deg) ${ht}`),ht.length>0&&(vt.transform=ht)}function Et(ot){if(ot._canceled)return;const it=ot._textDivs,ct=ot._capability;if(it.length>j){ct.resolve();return}if(!ot._isReadableStream)for(const rt of it)ot._layoutText(rt);ct.resolve()}class yt{constructor({textContentSource:it,container:ct,viewport:pt,textDivs:rt,textDivProperties:dt,textContentItemsStr:xt,isOffscreenCanvasSupported:vt}){var jt;this._textContentSource=it,this._isReadableStream=it instanceof ReadableStream,this._container=this._rootContainer=ct,this._textDivs=rt||[],this._textContentItemsStr=xt||[],this._isOffscreenCanvasSupported=vt,this._fontInspectorEnabled=!!((jt=globalThis.FontInspector)!=null&&jt.enabled),this._reader=null,this._textDivProperties=dt||new WeakMap,this._canceled=!1,this._capability=new g.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:pt.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:lt(0,vt)};const{pageWidth:ht,pageHeight:kt,pageX:wt,pageY:Nt}=pt.rawDims;this._transform=[1,0,0,-1,-wt,Nt+kt],this._pageWidth=ht,this._pageHeight=kt,(0,_.setLayerDimensions)(ct,pt),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new g.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new g.AbortException("TextLayer task cancelled."))}_processItems(it,ct){for(const pt of it){if(pt.str===void 0){if(pt.type==="beginMarkedContentProps"||pt.type==="beginMarkedContent"){const rt=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),pt.id!==null&&this._container.setAttribute("id",`${pt.id}`),rt.append(this._container)}else pt.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(pt.str),At(this,pt,ct)}}_layoutText(it){const ct=this._layoutTextParams.properties=this._textDivProperties.get(it);if(this._layoutTextParams.div=it,St(this._layoutTextParams),ct.hasText&&this._container.append(it),ct.hasEOL){const pt=document.createElement("br");pt.setAttribute("role","presentation"),this._container.append(pt)}}_render(){const it=new g.PromiseCapability;let ct=Object.create(null);if(this._isReadableStream){const pt=()=>{this._reader.read().then(({value:rt,done:dt})=>{if(dt){it.resolve();return}Object.assign(ct,rt.styles),this._processItems(rt.items,ct),pt()},it.reject)};this._reader=this._textContentSource.getReader(),pt()}else if(this._textContentSource){const{items:pt,styles:rt}=this._textContentSource;this._processItems(pt,rt),it.resolve()}else throw new Error('No "textContentSource" parameter specified.');it.promise.then(()=>{ct=null,Et(this)},this._capability.reject)}}o.TextLayerRenderTask=yt;function _t(ot){!ot.textContentSource&&(ot.textContent||ot.textContentStream)&&((0,_.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),ot.textContentSource=ot.textContent||ot.textContentStream);const{container:it,viewport:ct}=ot,pt=getComputedStyle(it),rt=pt.getPropertyValue("visibility"),dt=parseFloat(pt.getPropertyValue("--scale-factor"));rt==="visible"&&(!dt||Math.abs(dt-ct.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const xt=new yt(ot);return xt._render(),xt}function mt({container:ot,viewport:it,textDivs:ct,textDivProperties:pt,isOffscreenCanvasSupported:rt,mustRotate:dt=!0,mustRescale:xt=!0}){if(dt&&(0,_.setLayerDimensions)(ot,{rotation:it.rotation}),xt){const vt=lt(0,rt),kt={prevFontSize:null,prevFontFamily:null,div:null,scale:it.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:vt};for(const wt of ct)kt.properties=pt.get(wt),kt.div=wt,St(kt)}}},(e,o,a)=>{var at,At,St,Et,yt,_t,mt,ot,it,ct,pt,Yr,dt,Ar,vt,qr,kt,Kr;Object.defineProperty(o,"__esModule",{value:!0}),o.AnnotationEditorLayer=void 0;var g=a(1),_=a(4),j=a(28),$=a(33),ft=a(6),et=a(34);const Nt=class Nt{constructor({uiManager:Pt,pageIndex:Ut,div:Xt,accessibilityManager:tn,annotationLayer:Mt,viewport:Wt,l10n:Ht}){It(this,pt);It(this,dt);It(this,vt);It(this,kt);It(this,at,void 0);It(this,At,!1);It(this,St,null);It(this,Et,this.pointerup.bind(this));It(this,yt,this.pointerdown.bind(this));It(this,_t,new Map);It(this,mt,!1);It(this,ot,!1);It(this,it,!1);It(this,ct,void 0);const ln=[j.FreeTextEditor,$.InkEditor,et.StampEditor];if(!Nt._initialized){Nt._initialized=!0;for(const cn of ln)cn.initialize(Ht)}Pt.registerEditorTypes(ln),en(this,ct,Pt),this.pageIndex=Ut,this.div=Xt,en(this,at,tn),en(this,St,Mt),this.viewport=Wt,_e(this,ct).addLayer(this)}get isEmpty(){return _e(this,_t).size===0}updateToolbar(Pt){_e(this,ct).updateToolbar(Pt)}updateMode(Pt=_e(this,ct).getMode()){Bt(this,kt,Kr).call(this),Pt===g.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),Pt!==g.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",Pt===g.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",Pt===g.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",Pt===g.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(Pt){if(!Pt&&_e(this,ct).getMode()!==g.AnnotationEditorType.INK)return;if(!Pt){for(const Xt of _e(this,_t).values())if(Xt.isEmpty()){Xt.setInBackground();return}}Bt(this,dt,Ar).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(Pt){_e(this,ct).setEditingState(Pt)}addCommands(Pt){_e(this,ct).addCommands(Pt)}enable(){this.div.style.pointerEvents="auto";const Pt=new Set;for(const Xt of _e(this,_t).values())Xt.enableEditing(),Xt.annotationElementId&&Pt.add(Xt.annotationElementId);if(!_e(this,St))return;const Ut=_e(this,St).getEditableAnnotations();for(const Xt of Ut){if(Xt.hide(),_e(this,ct).isDeletedAnnotationElement(Xt.data.id)||Pt.has(Xt.data.id))continue;const tn=this.deserialize(Xt);tn&&(this.addOrRebuild(tn),tn.enableEditing())}}disable(){var Ut;en(this,it,!0),this.div.style.pointerEvents="none";const Pt=new Set;for(const Xt of _e(this,_t).values()){if(Xt.disableEditing(),!Xt.annotationElementId||Xt.serialize()!==null){Pt.add(Xt.annotationElementId);continue}(Ut=this.getEditableAnnotation(Xt.annotationElementId))==null||Ut.show(),Xt.remove()}if(_e(this,St)){const Xt=_e(this,St).getEditableAnnotations();for(const tn of Xt){const{id:Mt}=tn.data;Pt.has(Mt)||_e(this,ct).isDeletedAnnotationElement(Mt)||tn.show()}}Bt(this,kt,Kr).call(this),this.isEmpty&&(this.div.hidden=!0),en(this,it,!1)}getEditableAnnotation(Pt){var Ut;return((Ut=_e(this,St))==null?void 0:Ut.getEditableAnnotation(Pt))||null}setActiveEditor(Pt){_e(this,ct).getActive()!==Pt&&_e(this,ct).setActiveEditor(Pt)}enableClick(){this.div.addEventListener("pointerdown",_e(this,yt)),this.div.addEventListener("pointerup",_e(this,Et))}disableClick(){this.div.removeEventListener("pointerdown",_e(this,yt)),this.div.removeEventListener("pointerup",_e(this,Et))}attach(Pt){_e(this,_t).set(Pt.id,Pt);const{annotationElementId:Ut}=Pt;Ut&&_e(this,ct).isDeletedAnnotationElement(Ut)&&_e(this,ct).removeDeletedAnnotationElement(Pt)}detach(Pt){var Ut;_e(this,_t).delete(Pt.id),(Ut=_e(this,at))==null||Ut.removePointerInTextLayer(Pt.contentDiv),!_e(this,it)&&Pt.annotationElementId&&_e(this,ct).addDeletedAnnotationElement(Pt)}remove(Pt){this.detach(Pt),_e(this,ct).removeEditor(Pt),Pt.div.contains(document.activeElement)&&setTimeout(()=>{_e(this,ct).focusMainContainer()},0),Pt.div.remove(),Pt.isAttachedToDOM=!1,_e(this,ot)||this.addInkEditorIfNeeded(!1)}changeParent(Pt){var Ut;Pt.parent!==this&&(Pt.annotationElementId&&(_e(this,ct).addDeletedAnnotationElement(Pt.annotationElementId),_.AnnotationEditor.deleteAnnotationElement(Pt),Pt.annotationElementId=null),this.attach(Pt),(Ut=Pt.parent)==null||Ut.detach(Pt),Pt.setParent(this),Pt.div&&Pt.isAttachedToDOM&&(Pt.div.remove(),this.div.append(Pt.div)))}add(Pt){if(this.changeParent(Pt),_e(this,ct).addEditor(Pt),this.attach(Pt),!Pt.isAttachedToDOM){const Ut=Pt.render();this.div.append(Ut),Pt.isAttachedToDOM=!0}Pt.fixAndSetPosition(),Pt.onceAdded(),_e(this,ct).addToAnnotationStorage(Pt)}moveEditorInDOM(Pt){var Xt;if(!Pt.isAttachedToDOM)return;const{activeElement:Ut}=document;Pt.div.contains(Ut)&&(Pt._focusEventsAllowed=!1,setTimeout(()=>{Pt.div.contains(document.activeElement)?Pt._focusEventsAllowed=!0:(Pt.div.addEventListener("focusin",()=>{Pt._focusEventsAllowed=!0},{once:!0}),Ut.focus())},0)),Pt._structTreeParentId=(Xt=_e(this,at))==null?void 0:Xt.moveElementInDOM(this.div,Pt.div,Pt.contentDiv,!0)}addOrRebuild(Pt){Pt.needsToBeRebuilt()?Pt.rebuild():this.add(Pt)}addUndoableEditor(Pt){const Ut=()=>Pt._uiManager.rebuild(Pt),Xt=()=>{Pt.remove()};this.addCommands({cmd:Ut,undo:Xt,mustExec:!1})}getNextId(){return _e(this,ct).getId()}pasteEditor(Pt,Ut){_e(this,ct).updateToolbar(Pt),_e(this,ct).updateMode(Pt);const{offsetX:Xt,offsetY:tn}=Bt(this,vt,qr).call(this),Mt=this.getNextId(),Wt=Bt(this,pt,Yr).call(this,{parent:this,id:Mt,x:Xt,y:tn,uiManager:_e(this,ct),isCentered:!0,...Ut});Wt&&this.add(Wt)}deserialize(Pt){switch(Pt.annotationType??Pt.annotationEditorType){case g.AnnotationEditorType.FREETEXT:return j.FreeTextEditor.deserialize(Pt,this,_e(this,ct));case g.AnnotationEditorType.INK:return $.InkEditor.deserialize(Pt,this,_e(this,ct));case g.AnnotationEditorType.STAMP:return et.StampEditor.deserialize(Pt,this,_e(this,ct))}return null}addNewEditor(){Bt(this,dt,Ar).call(this,Bt(this,vt,qr).call(this),!0)}setSelected(Pt){_e(this,ct).setSelected(Pt)}toggleSelected(Pt){_e(this,ct).toggleSelected(Pt)}isSelected(Pt){return _e(this,ct).isSelected(Pt)}unselect(Pt){_e(this,ct).unselect(Pt)}pointerup(Pt){const{isMac:Ut}=g.FeatureTest.platform;if(!(Pt.button!==0||Pt.ctrlKey&&Ut)&&Pt.target===this.div&&_e(this,mt)){if(en(this,mt,!1),!_e(this,At)){en(this,At,!0);return}if(_e(this,ct).getMode()===g.AnnotationEditorType.STAMP){_e(this,ct).unselectAll();return}Bt(this,dt,Ar).call(this,Pt,!1)}}pointerdown(Pt){if(_e(this,mt)){en(this,mt,!1);return}const{isMac:Ut}=g.FeatureTest.platform;if(Pt.button!==0||Pt.ctrlKey&&Ut||Pt.target!==this.div)return;en(this,mt,!0);const Xt=_e(this,ct).getActive();en(this,At,!Xt||Xt.isEmpty())}findNewParent(Pt,Ut,Xt){const tn=_e(this,ct).findParent(Ut,Xt);return tn===null||tn===this?!1:(tn.changeParent(Pt),!0)}destroy(){var Pt,Ut;((Pt=_e(this,ct).getActive())==null?void 0:Pt.parent)===this&&(_e(this,ct).commitOrRemove(),_e(this,ct).setActiveEditor(null));for(const Xt of _e(this,_t).values())(Ut=_e(this,at))==null||Ut.removePointerInTextLayer(Xt.contentDiv),Xt.setParent(null),Xt.isAttachedToDOM=!1,Xt.div.remove();this.div=null,_e(this,_t).clear(),_e(this,ct).removeLayer(this)}render({viewport:Pt}){this.viewport=Pt,(0,ft.setLayerDimensions)(this.div,Pt);for(const Ut of _e(this,ct).getEditors(this.pageIndex))this.add(Ut);this.updateMode()}update({viewport:Pt}){_e(this,ct).commitOrRemove(),this.viewport=Pt,(0,ft.setLayerDimensions)(this.div,{rotation:Pt.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:Pt,pageHeight:Ut}=this.viewport.rawDims;return[Pt,Ut]}};at=new WeakMap,At=new WeakMap,St=new WeakMap,Et=new WeakMap,yt=new WeakMap,_t=new WeakMap,mt=new WeakMap,ot=new WeakMap,it=new WeakMap,ct=new WeakMap,pt=new WeakSet,Yr=function(Pt){switch(_e(this,ct).getMode()){case g.AnnotationEditorType.FREETEXT:return new j.FreeTextEditor(Pt);case g.AnnotationEditorType.INK:return new $.InkEditor(Pt);case g.AnnotationEditorType.STAMP:return new et.StampEditor(Pt)}return null},dt=new WeakSet,Ar=function(Pt,Ut){const Xt=this.getNextId(),tn=Bt(this,pt,Yr).call(this,{parent:this,id:Xt,x:Pt.offsetX,y:Pt.offsetY,uiManager:_e(this,ct),isCentered:Ut});return tn&&this.add(tn),tn},vt=new WeakSet,qr=function(){const{x:Pt,y:Ut,width:Xt,height:tn}=this.div.getBoundingClientRect(),Mt=Math.max(0,Pt),Wt=Math.max(0,Ut),Ht=Math.min(window.innerWidth,Pt+Xt),ln=Math.min(window.innerHeight,Ut+tn),cn=(Mt+Ht)/2-Pt,Ct=(Wt+ln)/2-Ut,[tt,ut]=this.viewport.rotation%180===0?[cn,Ct]:[Ct,cn];return{offsetX:tt,offsetY:ut}},kt=new WeakSet,Kr=function(){en(this,ot,!0);for(const Pt of _e(this,_t).values())Pt.isEmpty()&&Pt.remove();en(this,ot,!1)},Yn(Nt,"_initialized",!1);let lt=Nt;o.AnnotationEditorLayer=lt},(e,o,a)=>{var et,lt,at,At,St,Et,yt,_t,mt,ot,As,ct,bs,rt,ws,xt,fr,ht,Qr,wt,xs,jt,Zr;Object.defineProperty(o,"__esModule",{value:!0}),o.FreeTextEditor=void 0;var g=a(1),_=a(5),j=a(4),$=a(29);const Ut=class Ut extends j.AnnotationEditor{constructor(Mt){super({...Mt,name:"freeTextEditor"});It(this,ot);It(this,ct);It(this,rt);It(this,xt);It(this,ht);It(this,wt);It(this,jt);It(this,et,this.editorDivBlur.bind(this));It(this,lt,this.editorDivFocus.bind(this));It(this,at,this.editorDivInput.bind(this));It(this,At,this.editorDivKeydown.bind(this));It(this,St,void 0);It(this,Et,"");It(this,yt,`${this.id}-editor`);It(this,_t,void 0);It(this,mt,null);en(this,St,Mt.color||Ut._defaultColor||j.AnnotationEditor._defaultLineColor),en(this,_t,Mt.fontSize||Ut._defaultFontSize)}static get _keyboardManager(){const Mt=Ut.prototype,Wt=cn=>cn.isEmpty(),Ht=_.AnnotationEditorUIManager.TRANSLATE_SMALL,ln=_.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,g.shadow)(this,"_keyboardManager",new _.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],Mt.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],Mt.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],Mt._translateEmpty,{args:[-Ht,0],checker:Wt}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Mt._translateEmpty,{args:[-ln,0],checker:Wt}],[["ArrowRight","mac+ArrowRight"],Mt._translateEmpty,{args:[Ht,0],checker:Wt}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Mt._translateEmpty,{args:[ln,0],checker:Wt}],[["ArrowUp","mac+ArrowUp"],Mt._translateEmpty,{args:[0,-Ht],checker:Wt}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Mt._translateEmpty,{args:[0,-ln],checker:Wt}],[["ArrowDown","mac+ArrowDown"],Mt._translateEmpty,{args:[0,Ht],checker:Wt}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Mt._translateEmpty,{args:[0,ln],checker:Wt}]]))}static initialize(Mt){j.AnnotationEditor.initialize(Mt,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const Wt=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(Wt.getPropertyValue("--freetext-padding"))}static updateDefaultParams(Mt,Wt){switch(Mt){case g.AnnotationEditorParamsType.FREETEXT_SIZE:Ut._defaultFontSize=Wt;break;case g.AnnotationEditorParamsType.FREETEXT_COLOR:Ut._defaultColor=Wt;break}}updateParams(Mt,Wt){switch(Mt){case g.AnnotationEditorParamsType.FREETEXT_SIZE:Bt(this,ot,As).call(this,Wt);break;case g.AnnotationEditorParamsType.FREETEXT_COLOR:Bt(this,ct,bs).call(this,Wt);break}}static get defaultPropertiesToUpdate(){return[[g.AnnotationEditorParamsType.FREETEXT_SIZE,Ut._defaultFontSize],[g.AnnotationEditorParamsType.FREETEXT_COLOR,Ut._defaultColor||j.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[g.AnnotationEditorParamsType.FREETEXT_SIZE,_e(this,_t)],[g.AnnotationEditorParamsType.FREETEXT_COLOR,_e(this,St)]]}_translateEmpty(Mt,Wt){this._uiManager.translateSelectedEditors(Mt,Wt,!0)}getInitialTranslation(){const Mt=this.parentScale;return[-Ut._internalPadding*Mt,-(Ut._internalPadding+_e(this,_t))*Mt]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(g.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",_e(this,At)),this.editorDiv.addEventListener("focus",_e(this,lt)),this.editorDiv.addEventListener("blur",_e(this,et)),this.editorDiv.addEventListener("input",_e(this,at)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",_e(this,yt)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",_e(this,At)),this.editorDiv.removeEventListener("focus",_e(this,lt)),this.editorDiv.removeEventListener("blur",_e(this,et)),this.editorDiv.removeEventListener("input",_e(this,at)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(Mt){this._focusEventsAllowed&&(super.focusin(Mt),Mt.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var Mt;if(this.width){Bt(this,jt,Zr).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(Mt=this._initialOptions)!=null&&Mt.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const Mt=_e(this,Et),Wt=en(this,Et,Bt(this,rt,ws).call(this).trimEnd());if(Mt===Wt)return;const Ht=ln=>{if(en(this,Et,ln),!ln){this.remove();return}Bt(this,ht,Qr).call(this),this._uiManager.rebuild(this),Bt(this,xt,fr).call(this)};this.addCommands({cmd:()=>{Ht(Wt)},undo:()=>{Ht(Mt)},mustExec:!1}),Bt(this,xt,fr).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(Mt){this.enterInEditMode()}keydown(Mt){Mt.target===this.div&&Mt.key==="Enter"&&(this.enterInEditMode(),Mt.preventDefault())}editorDivKeydown(Mt){Ut._keyboardManager.exec(this,Mt)}editorDivFocus(Mt){this.isEditing=!0}editorDivBlur(Mt){this.isEditing=!1}editorDivInput(Mt){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let Mt,Wt;this.width&&(Mt=this.x,Wt=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",_e(this,yt)),this.enableEditing(),j.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(ln=>{var cn;return(cn=this.editorDiv)==null?void 0:cn.setAttribute("aria-label",ln)}),j.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(ln=>{var cn;return(cn=this.editorDiv)==null?void 0:cn.setAttribute("default-content",ln)}),this.editorDiv.contentEditable=!0;const{style:Ht}=this.editorDiv;if(Ht.fontSize=`calc(${_e(this,_t)}px * var(--scale-factor))`,Ht.color=_e(this,St),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,_.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[ln,cn]=this.parentDimensions;if(this.annotationElementId){const{position:Ct}=_e(this,mt);let[tt,ut]=this.getInitialTranslation();[tt,ut]=this.pageTranslationToScreen(tt,ut);const[st,gt]=this.pageDimensions,[bt,Rt]=this.pageTranslation;let Ft,Ot;switch(this.rotation){case 0:Ft=Mt+(Ct[0]-bt)/st,Ot=Wt+this.height-(Ct[1]-Rt)/gt;break;case 90:Ft=Mt+(Ct[0]-bt)/st,Ot=Wt-(Ct[1]-Rt)/gt,[tt,ut]=[ut,-tt];break;case 180:Ft=Mt-this.width+(Ct[0]-bt)/st,Ot=Wt-(Ct[1]-Rt)/gt,[tt,ut]=[-tt,-ut];break;case 270:Ft=Mt+(Ct[0]-bt-this.height*gt)/st,Ot=Wt+(Ct[1]-Rt-this.width*st)/gt,[tt,ut]=[-ut,tt];break}this.setAt(Ft*ln,Ot*cn,tt,ut)}else this.setAt(Mt*ln,Wt*cn,this.width*ln,this.height*cn);Bt(this,ht,Qr).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(Mt,Wt,Ht){let ln=null;if(Mt instanceof $.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:Ct,fontColor:tt},rect:ut,rotation:st,id:gt},textContent:bt,textPosition:Rt,parent:{page:{pageNumber:Ft}}}=Mt;if(!bt||bt.length===0)return null;ln=Mt={annotationType:g.AnnotationEditorType.FREETEXT,color:Array.from(tt),fontSize:Ct,value:bt.join(`
`),position:Rt,pageIndex:Ft-1,rect:ut,rotation:st,id:gt,deleted:!1}}const cn=super.deserialize(Mt,Wt,Ht);return en(cn,_t,Mt.fontSize),en(cn,St,g.Util.makeHexColor(...Mt.color)),en(cn,Et,Mt.value),cn.annotationElementId=Mt.id||null,en(cn,mt,ln),cn}serialize(Mt=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const Wt=Ut._internalPadding*this.parentScale,Ht=this.getRect(Wt,Wt),ln=j.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:_e(this,St)),cn={annotationType:g.AnnotationEditorType.FREETEXT,color:ln,fontSize:_e(this,_t),value:_e(this,Et),pageIndex:this.pageIndex,rect:Ht,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return Mt?cn:this.annotationElementId&&!Bt(this,wt,xs).call(this,cn)?null:(cn.id=this.annotationElementId,cn)}};et=new WeakMap,lt=new WeakMap,at=new WeakMap,At=new WeakMap,St=new WeakMap,Et=new WeakMap,yt=new WeakMap,_t=new WeakMap,mt=new WeakMap,ot=new WeakSet,As=function(Mt){const Wt=ln=>{this.editorDiv.style.fontSize=`calc(${ln}px * var(--scale-factor))`,this.translate(0,-(ln-_e(this,_t))*this.parentScale),en(this,_t,ln),Bt(this,xt,fr).call(this)},Ht=_e(this,_t);this.addCommands({cmd:()=>{Wt(Mt)},undo:()=>{Wt(Ht)},mustExec:!0,type:g.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},ct=new WeakSet,bs=function(Mt){const Wt=_e(this,St);this.addCommands({cmd:()=>{en(this,St,this.editorDiv.style.color=Mt)},undo:()=>{en(this,St,this.editorDiv.style.color=Wt)},mustExec:!0,type:g.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},rt=new WeakSet,ws=function(){const Mt=this.editorDiv.getElementsByTagName("div");if(Mt.length===0)return this.editorDiv.innerText;const Wt=[];for(const Ht of Mt)Wt.push(Ht.innerText.replace(/\r\n?|\n/,""));return Wt.join(`
`)},xt=new WeakSet,fr=function(){const[Mt,Wt]=this.parentDimensions;let Ht;if(this.isAttachedToDOM)Ht=this.div.getBoundingClientRect();else{const{currentLayer:ln,div:cn}=this,Ct=cn.style.display;cn.style.display="hidden",ln.div.append(this.div),Ht=cn.getBoundingClientRect(),cn.remove(),cn.style.display=Ct}this.rotation%180===this.parentRotation%180?(this.width=Ht.width/Mt,this.height=Ht.height/Wt):(this.width=Ht.height/Mt,this.height=Ht.width/Wt),this.fixAndSetPosition()},ht=new WeakSet,Qr=function(){if(this.editorDiv.replaceChildren(),!!_e(this,Et))for(const Mt of _e(this,Et).split(`
`)){const Wt=document.createElement("div");Wt.append(Mt?document.createTextNode(Mt):document.createElement("br")),this.editorDiv.append(Wt)}},wt=new WeakSet,xs=function(Mt){const{value:Wt,fontSize:Ht,color:ln,rect:cn,pageIndex:Ct}=_e(this,mt);return Mt.value!==Wt||Mt.fontSize!==Ht||Mt.rect.some((tt,ut)=>Math.abs(tt-cn[ut])>=1)||Mt.color.some((tt,ut)=>tt!==ln[ut])||Mt.pageIndex!==Ct},jt=new WeakSet,Zr=function(Mt=!1){if(!this.annotationElementId)return;if(Bt(this,xt,fr).call(this),!Mt&&(this.width===0||this.height===0)){setTimeout(()=>Bt(this,jt,Zr).call(this,!0),0);return}const Wt=Ut._internalPadding*this.parentScale;_e(this,mt).rect=this.getRect(Wt,Wt)},Yn(Ut,"_freeTextDefaultContent",""),Yn(Ut,"_internalPadding",0),Yn(Ut,"_defaultColor",null),Yn(Ut,"_defaultFontSize",10),Yn(Ut,"_type","freetext");let ft=Ut;o.FreeTextEditor=ft},(e,o,a)=>{var ut,gt,nr,Rt,ks,Ot,Jt,qt,Kt,rn,dn,sn,bn,Mn,mn,kn,un,Qt,Zt,an,vn,_n,Fn,Ts,Ln,br,In,Jr,$n,_i,Yt,zt,fn,gn,Xn,Gn,Gt,es,Pn,En,Cn,Rn,Ps,pn,ts;Object.defineProperty(o,"__esModule",{value:!0}),o.StampAnnotationElement=o.InkAnnotationElement=o.FreeTextAnnotationElement=o.AnnotationLayer=void 0;var g=a(1),_=a(6),j=a(3),$=a(30),ft=a(31),et=a(32);const lt=1e3,at=9,At=new WeakSet;function St(Tn){return{width:Tn[2]-Tn[0],height:Tn[3]-Tn[1]}}class Et{static create(Lt){switch(Lt.data.annotationType){case g.AnnotationType.LINK:return new _t(Lt);case g.AnnotationType.TEXT:return new mt(Lt);case g.AnnotationType.WIDGET:switch(Lt.data.fieldType){case"Tx":return new it(Lt);case"Btn":return Lt.data.radioButton?new rt(Lt):Lt.data.checkBox?new pt(Lt):new dt(Lt);case"Ch":return new xt(Lt);case"Sig":return new ct(Lt)}return new ot(Lt);case g.AnnotationType.POPUP:return new vt(Lt);case g.AnnotationType.FREETEXT:return new kt(Lt);case g.AnnotationType.LINE:return new wt(Lt);case g.AnnotationType.SQUARE:return new Nt(Lt);case g.AnnotationType.CIRCLE:return new jt(Lt);case g.AnnotationType.POLYLINE:return new Pt(Lt);case g.AnnotationType.CARET:return new Xt(Lt);case g.AnnotationType.INK:return new tn(Lt);case g.AnnotationType.POLYGON:return new Ut(Lt);case g.AnnotationType.HIGHLIGHT:return new Mt(Lt);case g.AnnotationType.UNDERLINE:return new Wt(Lt);case g.AnnotationType.SQUIGGLY:return new Ht(Lt);case g.AnnotationType.STRIKEOUT:return new ln(Lt);case g.AnnotationType.STAMP:return new cn(Lt);case g.AnnotationType.FILEATTACHMENT:return new Ct(Lt);default:return new yt(Lt)}}}const st=class st{constructor(Lt,{isRenderable:nt=!1,ignoreBorder:Tt=!1,createQuadrilaterals:Dt=!1}={}){It(this,ut,!1);this.isRenderable=nt,this.data=Lt.data,this.layer=Lt.layer,this.linkService=Lt.linkService,this.downloadManager=Lt.downloadManager,this.imageResourcesPath=Lt.imageResourcesPath,this.renderForms=Lt.renderForms,this.svgFactory=Lt.svgFactory,this.annotationStorage=Lt.annotationStorage,this.enableScripting=Lt.enableScripting,this.hasJSActions=Lt.hasJSActions,this._fieldObjects=Lt.fieldObjects,this.parent=Lt.parent,nt&&(this.container=this._createContainer(Tt)),Dt&&this._createQuadrilaterals()}static _hasPopupData({titleObj:Lt,contentsObj:nt,richText:Tt}){return!!(Lt!=null&&Lt.str||nt!=null&&nt.str||Tt!=null&&Tt.str)}get hasPopupData(){return st._hasPopupData(this.data)}_createContainer(Lt){const{data:nt,parent:{page:Tt,viewport:Dt}}=this,$t=document.createElement("section");$t.setAttribute("data-annotation-id",nt.id),this instanceof ot||($t.tabIndex=lt),$t.style.zIndex=this.parent.zIndex++,this.data.popupRef&&$t.setAttribute("aria-haspopup","dialog"),nt.noRotate&&$t.classList.add("norotate");const{pageWidth:Vt,pageHeight:nn,pageX:hn,pageY:An}=Dt.rawDims;if(!nt.rect||this instanceof vt){const{rotation:On}=nt;return!nt.hasOwnCanvas&&On!==0&&this.setRotation(On,$t),$t}const{width:Sn,height:Un}=St(nt.rect),wn=g.Util.normalizeRect([nt.rect[0],Tt.view[3]-nt.rect[1]+Tt.view[1],nt.rect[2],Tt.view[3]-nt.rect[3]+Tt.view[1]]);if(!Lt&&nt.borderStyle.width>0){$t.style.borderWidth=`${nt.borderStyle.width}px`;const On=nt.borderStyle.horizontalCornerRadius,Bn=nt.borderStyle.verticalCornerRadius;if(On>0||Bn>0){const Hn=`calc(${On}px * var(--scale-factor)) / calc(${Bn}px * var(--scale-factor))`;$t.style.borderRadius=Hn}else if(this instanceof rt){const Hn=`calc(${Sn}px * var(--scale-factor)) / calc(${Un}px * var(--scale-factor))`;$t.style.borderRadius=Hn}switch(nt.borderStyle.style){case g.AnnotationBorderStyleType.SOLID:$t.style.borderStyle="solid";break;case g.AnnotationBorderStyleType.DASHED:$t.style.borderStyle="dashed";break;case g.AnnotationBorderStyleType.BEVELED:(0,g.warn)("Unimplemented border style: beveled");break;case g.AnnotationBorderStyleType.INSET:(0,g.warn)("Unimplemented border style: inset");break;case g.AnnotationBorderStyleType.UNDERLINE:$t.style.borderBottomStyle="solid";break}const Wn=nt.borderColor||null;Wn?(en(this,ut,!0),$t.style.borderColor=g.Util.makeHexColor(Wn[0]|0,Wn[1]|0,Wn[2]|0)):$t.style.borderWidth=0}$t.style.left=`${100*(wn[0]-hn)/Vt}%`,$t.style.top=`${100*(wn[1]-An)/nn}%`;const{rotation:xn}=nt;return nt.hasOwnCanvas||xn===0?($t.style.width=`${100*Sn/Vt}%`,$t.style.height=`${100*Un/nn}%`):this.setRotation(xn,$t),$t}setRotation(Lt,nt=this.container){if(!this.data.rect)return;const{pageWidth:Tt,pageHeight:Dt}=this.parent.viewport.rawDims,{width:$t,height:Vt}=St(this.data.rect);let nn,hn;Lt%180===0?(nn=100*$t/Tt,hn=100*Vt/Dt):(nn=100*Vt/Tt,hn=100*$t/Dt),nt.style.width=`${nn}%`,nt.style.height=`${hn}%`,nt.setAttribute("data-main-rotation",(360-Lt)%360)}get _commonActions(){const Lt=(nt,Tt,Dt)=>{const $t=Dt.detail[nt],Vt=$t[0],nn=$t.slice(1);Dt.target.style[Tt]=$.ColorConverters[`${Vt}_HTML`](nn),this.annotationStorage.setValue(this.data.id,{[Tt]:$.ColorConverters[`${Vt}_rgb`](nn)})};return(0,g.shadow)(this,"_commonActions",{display:nt=>{const{display:Tt}=nt.detail,Dt=Tt%2===1;this.container.style.visibility=Dt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:Dt,noPrint:Tt===1||Tt===2})},print:nt=>{this.annotationStorage.setValue(this.data.id,{noPrint:!nt.detail.print})},hidden:nt=>{const{hidden:Tt}=nt.detail;this.container.style.visibility=Tt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:Tt,noView:Tt})},focus:nt=>{setTimeout(()=>nt.target.focus({preventScroll:!1}),0)},userName:nt=>{nt.target.title=nt.detail.userName},readonly:nt=>{nt.target.disabled=nt.detail.readonly},required:nt=>{this._setRequired(nt.target,nt.detail.required)},bgColor:nt=>{Lt("bgColor","backgroundColor",nt)},fillColor:nt=>{Lt("fillColor","backgroundColor",nt)},fgColor:nt=>{Lt("fgColor","color",nt)},textColor:nt=>{Lt("textColor","color",nt)},borderColor:nt=>{Lt("borderColor","borderColor",nt)},strokeColor:nt=>{Lt("strokeColor","borderColor",nt)},rotation:nt=>{const Tt=nt.detail.rotation;this.setRotation(Tt),this.annotationStorage.setValue(this.data.id,{rotation:Tt})}})}_dispatchEventFromSandbox(Lt,nt){const Tt=this._commonActions;for(const Dt of Object.keys(nt.detail)){const $t=Lt[Dt]||Tt[Dt];$t==null||$t(nt)}}_setDefaultPropertiesFromJS(Lt){if(!this.enableScripting)return;const nt=this.annotationStorage.getRawValue(this.data.id);if(!nt)return;const Tt=this._commonActions;for(const[Dt,$t]of Object.entries(nt)){const Vt=Tt[Dt];if(Vt){const nn={detail:{[Dt]:$t},target:Lt};Vt(nn),delete nt[Dt]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:Lt}=this.data;if(!Lt)return;const[nt,Tt,Dt,$t]=this.data.rect;if(Lt.length===1){const[,{x:Bn,y:Wn},{x:Hn,y:Kn}]=Lt[0];if(Dt===Bn&&$t===Wn&&nt===Hn&&Tt===Kn)return}const{style:Vt}=this.container;let nn;if(_e(this,ut)){const{borderColor:Bn,borderWidth:Wn}=Vt;Vt.borderWidth=0,nn=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Bn}" stroke-width="${Wn}">`],this.container.classList.add("hasBorder")}const hn=Dt-nt,An=$t-Tt,{svgFactory:Sn}=this,Un=Sn.createElement("svg");Un.classList.add("quadrilateralsContainer"),Un.setAttribute("width",0),Un.setAttribute("height",0);const wn=Sn.createElement("defs");Un.append(wn);const xn=Sn.createElement("clipPath"),On=`clippath_${this.data.id}`;xn.setAttribute("id",On),xn.setAttribute("clipPathUnits","objectBoundingBox"),wn.append(xn);for(const[,{x:Bn,y:Wn},{x:Hn,y:Kn}]of Lt){const qn=Sn.createElement("rect"),Qn=(Hn-nt)/hn,er=($t-Wn)/An,tr=(Bn-Hn)/hn,us=(Wn-Kn)/An;qn.setAttribute("x",Qn),qn.setAttribute("y",er),qn.setAttribute("width",tr),qn.setAttribute("height",us),xn.append(qn),nn==null||nn.push(`<rect vector-effect="non-scaling-stroke" x="${Qn}" y="${er}" width="${tr}" height="${us}"/>`)}_e(this,ut)&&(nn.push("</g></svg>')"),Vt.backgroundImage=nn.join("")),this.container.append(Un),this.container.style.clipPath=`url(#${On})`}_createPopup(){const{container:Lt,data:nt}=this;Lt.setAttribute("aria-haspopup","dialog");const Tt=new vt({data:{color:nt.color,titleObj:nt.titleObj,modificationDate:nt.modificationDate,contentsObj:nt.contentsObj,richText:nt.richText,parentRect:nt.rect,borderStyle:0,id:`popup_${nt.id}`,rotation:nt.rotation},parent:this.parent,elements:[this]});this.parent.div.append(Tt.render())}render(){(0,g.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(Lt,nt=null){const Tt=[];if(this._fieldObjects){const Dt=this._fieldObjects[Lt];if(Dt)for(const{page:$t,id:Vt,exportValues:nn}of Dt){if($t===-1||Vt===nt)continue;const hn=typeof nn=="string"?nn:null,An=document.querySelector(`[data-element-id="${Vt}"]`);if(An&&!At.has(An)){(0,g.warn)(`_getElementsByName - element not allowed: ${Vt}`);continue}Tt.push({id:Vt,exportValue:hn,domElement:An})}return Tt}for(const Dt of document.getElementsByName(Lt)){const{exportValue:$t}=Dt,Vt=Dt.getAttribute("data-element-id");Vt!==nt&&At.has(Dt)&&Tt.push({id:Vt,exportValue:$t,domElement:Dt})}return Tt}show(){var Lt;this.container&&(this.container.hidden=!1),(Lt=this.popup)==null||Lt.maybeShow()}hide(){var Lt;this.container&&(this.container.hidden=!0),(Lt=this.popup)==null||Lt.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const Lt=this.getElementsToTriggerPopup();if(Array.isArray(Lt))for(const nt of Lt)nt.classList.add("highlightArea");else Lt.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:Lt,data:{id:nt}}=this;this.container.addEventListener("dblclick",()=>{var Tt;(Tt=this.linkService.eventBus)==null||Tt.dispatch("switchannotationeditormode",{source:this,mode:Lt,editId:nt})})}};ut=new WeakMap;let yt=st;class _t extends yt{constructor(nt,Tt=null){super(nt,{isRenderable:!0,ignoreBorder:!!(Tt!=null&&Tt.ignoreBorder),createQuadrilaterals:!0});It(this,gt);It(this,Rt);this.isTooltipOnly=nt.data.isTooltipOnly}render(){const{data:nt,linkService:Tt}=this,Dt=document.createElement("a");Dt.setAttribute("data-element-id",nt.id);let $t=!1;return nt.url?(Tt.addLinkAttributes(Dt,nt.url,nt.newWindow),$t=!0):nt.action?(this._bindNamedAction(Dt,nt.action),$t=!0):nt.attachment?(this._bindAttachment(Dt,nt.attachment),$t=!0):nt.setOCGState?(Bt(this,Rt,ks).call(this,Dt,nt.setOCGState),$t=!0):nt.dest?(this._bindLink(Dt,nt.dest),$t=!0):(nt.actions&&(nt.actions.Action||nt.actions["Mouse Up"]||nt.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(Dt,nt),$t=!0),nt.resetForm?(this._bindResetFormAction(Dt,nt.resetForm),$t=!0):this.isTooltipOnly&&!$t&&(this._bindLink(Dt,""),$t=!0)),this.container.classList.add("linkAnnotation"),$t&&this.container.append(Dt),this.container}_bindLink(nt,Tt){nt.href=this.linkService.getDestinationHash(Tt),nt.onclick=()=>(Tt&&this.linkService.goToDestination(Tt),!1),(Tt||Tt==="")&&Bt(this,gt,nr).call(this)}_bindNamedAction(nt,Tt){nt.href=this.linkService.getAnchorUrl(""),nt.onclick=()=>(this.linkService.executeNamedAction(Tt),!1),Bt(this,gt,nr).call(this)}_bindAttachment(nt,Tt){nt.href=this.linkService.getAnchorUrl(""),nt.onclick=()=>{var Dt;return(Dt=this.downloadManager)==null||Dt.openOrDownloadData(this.container,Tt.content,Tt.filename),!1},Bt(this,gt,nr).call(this)}_bindJSAction(nt,Tt){nt.href=this.linkService.getAnchorUrl("");const Dt=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const $t of Object.keys(Tt.actions)){const Vt=Dt.get($t);Vt&&(nt[Vt]=()=>{var nn;return(nn=this.linkService.eventBus)==null||nn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Tt.id,name:$t}}),!1})}nt.onclick||(nt.onclick=()=>!1),Bt(this,gt,nr).call(this)}_bindResetFormAction(nt,Tt){const Dt=nt.onclick;if(Dt||(nt.href=this.linkService.getAnchorUrl("")),Bt(this,gt,nr).call(this),!this._fieldObjects){(0,g.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),Dt||(nt.onclick=()=>!1);return}nt.onclick=()=>{var Un;Dt==null||Dt();const{fields:$t,refs:Vt,include:nn}=Tt,hn=[];if($t.length!==0||Vt.length!==0){const wn=new Set(Vt);for(const xn of $t){const On=this._fieldObjects[xn]||[];for(const{id:Bn}of On)wn.add(Bn)}for(const xn of Object.values(this._fieldObjects))for(const On of xn)wn.has(On.id)===nn&&hn.push(On)}else for(const wn of Object.values(this._fieldObjects))hn.push(...wn);const An=this.annotationStorage,Sn=[];for(const wn of hn){const{id:xn}=wn;switch(Sn.push(xn),wn.type){case"text":{const Bn=wn.defaultValue||"";An.setValue(xn,{value:Bn});break}case"checkbox":case"radiobutton":{const Bn=wn.defaultValue===wn.exportValues;An.setValue(xn,{value:Bn});break}case"combobox":case"listbox":{const Bn=wn.defaultValue||"";An.setValue(xn,{value:Bn});break}default:continue}const On=document.querySelector(`[data-element-id="${xn}"]`);if(On){if(!At.has(On)){(0,g.warn)(`_bindResetFormAction - element not allowed: ${xn}`);continue}}else continue;On.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Un=this.linkService.eventBus)==null||Un.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Sn,name:"ResetForm"}})),!1}}}gt=new WeakSet,nr=function(){this.container.setAttribute("data-internal-link","")},Rt=new WeakSet,ks=function(nt,Tt){nt.href=this.linkService.getAnchorUrl(""),nt.onclick=()=>(this.linkService.executeSetOCGState(Tt),!1),Bt(this,gt,nr).call(this)};class mt extends yt{constructor(Lt){super(Lt,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const Lt=document.createElement("img");return Lt.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Lt.alt="[{{type}} Annotation]",Lt.dataset.l10nId="text_annotation_type",Lt.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(Lt),this.container}}class ot extends yt{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(Lt){var nt;this.data.hasOwnCanvas&&(((nt=Lt.previousSibling)==null?void 0:nt.nodeName)==="CANVAS"&&(Lt.previousSibling.hidden=!0),Lt.hidden=!1)}_getKeyModifier(Lt){const{isWin:nt,isMac:Tt}=g.FeatureTest.platform;return nt&&Lt.ctrlKey||Tt&&Lt.metaKey}_setEventListener(Lt,nt,Tt,Dt,$t){Tt.includes("mouse")?Lt.addEventListener(Tt,Vt=>{var nn;(nn=this.linkService.eventBus)==null||nn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Dt,value:$t(Vt),shift:Vt.shiftKey,modifier:this._getKeyModifier(Vt)}})}):Lt.addEventListener(Tt,Vt=>{var nn;if(Tt==="blur"){if(!nt.focused||!Vt.relatedTarget)return;nt.focused=!1}else if(Tt==="focus"){if(nt.focused)return;nt.focused=!0}$t&&((nn=this.linkService.eventBus)==null||nn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Dt,value:$t(Vt)}}))})}_setEventListeners(Lt,nt,Tt,Dt){var $t,Vt,nn;for(const[hn,An]of Tt)(An==="Action"||($t=this.data.actions)!=null&&$t[An])&&((An==="Focus"||An==="Blur")&&(nt||(nt={focused:!1})),this._setEventListener(Lt,nt,hn,An,Dt),An==="Focus"&&!((Vt=this.data.actions)!=null&&Vt.Blur)?this._setEventListener(Lt,nt,"blur","Blur",null):An==="Blur"&&!((nn=this.data.actions)!=null&&nn.Focus)&&this._setEventListener(Lt,nt,"focus","Focus",null))}_setBackgroundColor(Lt){const nt=this.data.backgroundColor||null;Lt.style.backgroundColor=nt===null?"transparent":g.Util.makeHexColor(nt[0],nt[1],nt[2])}_setTextStyle(Lt){const nt=["left","center","right"],{fontColor:Tt}=this.data.defaultAppearanceData,Dt=this.data.defaultAppearanceData.fontSize||at,$t=Lt.style;let Vt;const nn=2,hn=An=>Math.round(10*An)/10;if(this.data.multiLine){const An=Math.abs(this.data.rect[3]-this.data.rect[1]-nn),Sn=Math.round(An/(g.LINE_FACTOR*Dt))||1,Un=An/Sn;Vt=Math.min(Dt,hn(Un/g.LINE_FACTOR))}else{const An=Math.abs(this.data.rect[3]-this.data.rect[1]-nn);Vt=Math.min(Dt,hn(An/g.LINE_FACTOR))}$t.fontSize=`calc(${Vt}px * var(--scale-factor))`,$t.color=g.Util.makeHexColor(Tt[0],Tt[1],Tt[2]),this.data.textAlignment!==null&&($t.textAlign=nt[this.data.textAlignment])}_setRequired(Lt,nt){nt?Lt.setAttribute("required",!0):Lt.removeAttribute("required"),Lt.setAttribute("aria-required",nt)}}class it extends ot{constructor(Lt){const nt=Lt.renderForms||!Lt.data.hasAppearance&&!!Lt.data.fieldValue;super(Lt,{isRenderable:nt})}setPropertyOnSiblings(Lt,nt,Tt,Dt){const $t=this.annotationStorage;for(const Vt of this._getElementsByName(Lt.name,Lt.id))Vt.domElement&&(Vt.domElement[nt]=Tt),$t.setValue(Vt.id,{[Dt]:Tt})}render(){var Dt,$t;const Lt=this.annotationStorage,nt=this.data.id;this.container.classList.add("textWidgetAnnotation");let Tt=null;if(this.renderForms){const Vt=Lt.getValue(nt,{value:this.data.fieldValue});let nn=Vt.value||"";const hn=Lt.getValue(nt,{charLimit:this.data.maxLen}).charLimit;hn&&nn.length>hn&&(nn=nn.slice(0,hn));let An=Vt.formattedValue||((Dt=this.data.textContent)==null?void 0:Dt.join(`
`))||null;An&&this.data.comb&&(An=An.replaceAll(/\s+/g,""));const Sn={userValue:nn,formattedValue:An,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(Tt=document.createElement("textarea"),Tt.textContent=An??nn,this.data.doNotScroll&&(Tt.style.overflowY="hidden")):(Tt=document.createElement("input"),Tt.type="text",Tt.setAttribute("value",An??nn),this.data.doNotScroll&&(Tt.style.overflowX="hidden")),this.data.hasOwnCanvas&&(Tt.hidden=!0),At.add(Tt),Tt.setAttribute("data-element-id",nt),Tt.disabled=this.data.readOnly,Tt.name=this.data.fieldName,Tt.tabIndex=lt,this._setRequired(Tt,this.data.required),hn&&(Tt.maxLength=hn),Tt.addEventListener("input",wn=>{Lt.setValue(nt,{value:wn.target.value}),this.setPropertyOnSiblings(Tt,"value",wn.target.value,"value"),Sn.formattedValue=null}),Tt.addEventListener("resetform",wn=>{const xn=this.data.defaultFieldValue??"";Tt.value=Sn.userValue=xn,Sn.formattedValue=null});let Un=wn=>{const{formattedValue:xn}=Sn;xn!=null&&(wn.target.value=xn),wn.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){Tt.addEventListener("focus",xn=>{if(Sn.focused)return;const{target:On}=xn;Sn.userValue&&(On.value=Sn.userValue),Sn.lastCommittedValue=On.value,Sn.commitKey=1,Sn.focused=!0}),Tt.addEventListener("updatefromsandbox",xn=>{this.showElementAndHideCanvas(xn.target);const On={value(Bn){Sn.userValue=Bn.detail.value??"",Lt.setValue(nt,{value:Sn.userValue.toString()}),Bn.target.value=Sn.userValue},formattedValue(Bn){const{formattedValue:Wn}=Bn.detail;Sn.formattedValue=Wn,Wn!=null&&Bn.target!==document.activeElement&&(Bn.target.value=Wn),Lt.setValue(nt,{formattedValue:Wn})},selRange(Bn){Bn.target.setSelectionRange(...Bn.detail.selRange)},charLimit:Bn=>{var qn;const{charLimit:Wn}=Bn.detail,{target:Hn}=Bn;if(Wn===0){Hn.removeAttribute("maxLength");return}Hn.setAttribute("maxLength",Wn);let Kn=Sn.userValue;!Kn||Kn.length<=Wn||(Kn=Kn.slice(0,Wn),Hn.value=Sn.userValue=Kn,Lt.setValue(nt,{value:Kn}),(qn=this.linkService.eventBus)==null||qn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:nt,name:"Keystroke",value:Kn,willCommit:!0,commitKey:1,selStart:Hn.selectionStart,selEnd:Hn.selectionEnd}}))}};this._dispatchEventFromSandbox(On,xn)}),Tt.addEventListener("keydown",xn=>{var Wn;Sn.commitKey=1;let On=-1;if(xn.key==="Escape"?On=0:xn.key==="Enter"&&!this.data.multiLine?On=2:xn.key==="Tab"&&(Sn.commitKey=3),On===-1)return;const{value:Bn}=xn.target;Sn.lastCommittedValue!==Bn&&(Sn.lastCommittedValue=Bn,Sn.userValue=Bn,(Wn=this.linkService.eventBus)==null||Wn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:nt,name:"Keystroke",value:Bn,willCommit:!0,commitKey:On,selStart:xn.target.selectionStart,selEnd:xn.target.selectionEnd}}))});const wn=Un;Un=null,Tt.addEventListener("blur",xn=>{var Bn;if(!Sn.focused||!xn.relatedTarget)return;Sn.focused=!1;const{value:On}=xn.target;Sn.userValue=On,Sn.lastCommittedValue!==On&&((Bn=this.linkService.eventBus)==null||Bn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:nt,name:"Keystroke",value:On,willCommit:!0,commitKey:Sn.commitKey,selStart:xn.target.selectionStart,selEnd:xn.target.selectionEnd}})),wn(xn)}),($t=this.data.actions)!=null&&$t.Keystroke&&Tt.addEventListener("beforeinput",xn=>{var er;Sn.lastCommittedValue=null;const{data:On,target:Bn}=xn,{value:Wn,selectionStart:Hn,selectionEnd:Kn}=Bn;let qn=Hn,Qn=Kn;switch(xn.inputType){case"deleteWordBackward":{const tr=Wn.substring(0,Hn).match(/\w*[^\w]*$/);tr&&(qn-=tr[0].length);break}case"deleteWordForward":{const tr=Wn.substring(Hn).match(/^[^\w]*\w*/);tr&&(Qn+=tr[0].length);break}case"deleteContentBackward":Hn===Kn&&(qn-=1);break;case"deleteContentForward":Hn===Kn&&(Qn+=1);break}xn.preventDefault(),(er=this.linkService.eventBus)==null||er.dispatch("dispatcheventinsandbox",{source:this,detail:{id:nt,name:"Keystroke",value:Wn,change:On||"",willCommit:!1,selStart:qn,selEnd:Qn}})}),this._setEventListeners(Tt,Sn,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],xn=>xn.target.value)}if(Un&&Tt.addEventListener("blur",Un),this.data.comb){const xn=(this.data.rect[2]-this.data.rect[0])/hn;Tt.classList.add("comb"),Tt.style.letterSpacing=`calc(${xn}px * var(--scale-factor) - 1ch)`}}else Tt=document.createElement("div"),Tt.textContent=this.data.fieldValue,Tt.style.verticalAlign="middle",Tt.style.display="table-cell";return this._setTextStyle(Tt),this._setBackgroundColor(Tt),this._setDefaultPropertiesFromJS(Tt),this.container.append(Tt),this.container}}class ct extends ot{constructor(Lt){super(Lt,{isRenderable:!!Lt.data.hasOwnCanvas})}}class pt extends ot{constructor(Lt){super(Lt,{isRenderable:Lt.renderForms})}render(){const Lt=this.annotationStorage,nt=this.data,Tt=nt.id;let Dt=Lt.getValue(Tt,{value:nt.exportValue===nt.fieldValue}).value;typeof Dt=="string"&&(Dt=Dt!=="Off",Lt.setValue(Tt,{value:Dt})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const $t=document.createElement("input");return At.add($t),$t.setAttribute("data-element-id",Tt),$t.disabled=nt.readOnly,this._setRequired($t,this.data.required),$t.type="checkbox",$t.name=nt.fieldName,Dt&&$t.setAttribute("checked",!0),$t.setAttribute("exportValue",nt.exportValue),$t.tabIndex=lt,$t.addEventListener("change",Vt=>{const{name:nn,checked:hn}=Vt.target;for(const An of this._getElementsByName(nn,Tt)){const Sn=hn&&An.exportValue===nt.exportValue;An.domElement&&(An.domElement.checked=Sn),Lt.setValue(An.id,{value:Sn})}Lt.setValue(Tt,{value:hn})}),$t.addEventListener("resetform",Vt=>{const nn=nt.defaultFieldValue||"Off";Vt.target.checked=nn===nt.exportValue}),this.enableScripting&&this.hasJSActions&&($t.addEventListener("updatefromsandbox",Vt=>{const nn={value(hn){hn.target.checked=hn.detail.value!=="Off",Lt.setValue(Tt,{value:hn.target.checked})}};this._dispatchEventFromSandbox(nn,Vt)}),this._setEventListeners($t,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Vt=>Vt.target.checked)),this._setBackgroundColor($t),this._setDefaultPropertiesFromJS($t),this.container.append($t),this.container}}class rt extends ot{constructor(Lt){super(Lt,{isRenderable:Lt.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const Lt=this.annotationStorage,nt=this.data,Tt=nt.id;let Dt=Lt.getValue(Tt,{value:nt.fieldValue===nt.buttonValue}).value;typeof Dt=="string"&&(Dt=Dt!==nt.buttonValue,Lt.setValue(Tt,{value:Dt}));const $t=document.createElement("input");if(At.add($t),$t.setAttribute("data-element-id",Tt),$t.disabled=nt.readOnly,this._setRequired($t,this.data.required),$t.type="radio",$t.name=nt.fieldName,Dt&&$t.setAttribute("checked",!0),$t.tabIndex=lt,$t.addEventListener("change",Vt=>{const{name:nn,checked:hn}=Vt.target;for(const An of this._getElementsByName(nn,Tt))Lt.setValue(An.id,{value:!1});Lt.setValue(Tt,{value:hn})}),$t.addEventListener("resetform",Vt=>{const nn=nt.defaultFieldValue;Vt.target.checked=nn!=null&&nn===nt.buttonValue}),this.enableScripting&&this.hasJSActions){const Vt=nt.buttonValue;$t.addEventListener("updatefromsandbox",nn=>{const hn={value:An=>{const Sn=Vt===An.detail.value;for(const Un of this._getElementsByName(An.target.name)){const wn=Sn&&Un.id===Tt;Un.domElement&&(Un.domElement.checked=wn),Lt.setValue(Un.id,{value:wn})}}};this._dispatchEventFromSandbox(hn,nn)}),this._setEventListeners($t,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],nn=>nn.target.checked)}return this._setBackgroundColor($t),this._setDefaultPropertiesFromJS($t),this.container.append($t),this.container}}class dt extends _t{constructor(Lt){super(Lt,{ignoreBorder:Lt.data.hasAppearance})}render(){const Lt=super.render();Lt.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(Lt.title=this.data.alternativeText);const nt=Lt.lastChild;return this.enableScripting&&this.hasJSActions&&nt&&(this._setDefaultPropertiesFromJS(nt),nt.addEventListener("updatefromsandbox",Tt=>{this._dispatchEventFromSandbox({},Tt)})),Lt}}class xt extends ot{constructor(Lt){super(Lt,{isRenderable:Lt.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const Lt=this.annotationStorage,nt=this.data.id,Tt=Lt.getValue(nt,{value:this.data.fieldValue}),Dt=document.createElement("select");At.add(Dt),Dt.setAttribute("data-element-id",nt),Dt.disabled=this.data.readOnly,this._setRequired(Dt,this.data.required),Dt.name=this.data.fieldName,Dt.tabIndex=lt;let $t=this.data.combo&&this.data.options.length>0;this.data.combo||(Dt.size=this.data.options.length,this.data.multiSelect&&(Dt.multiple=!0)),Dt.addEventListener("resetform",Sn=>{const Un=this.data.defaultFieldValue;for(const wn of Dt.options)wn.selected=wn.value===Un});for(const Sn of this.data.options){const Un=document.createElement("option");Un.textContent=Sn.displayValue,Un.value=Sn.exportValue,Tt.value.includes(Sn.exportValue)&&(Un.setAttribute("selected",!0),$t=!1),Dt.append(Un)}let Vt=null;if($t){const Sn=document.createElement("option");Sn.value=" ",Sn.setAttribute("hidden",!0),Sn.setAttribute("selected",!0),Dt.prepend(Sn),Vt=()=>{Sn.remove(),Dt.removeEventListener("input",Vt),Vt=null},Dt.addEventListener("input",Vt)}const nn=Sn=>{const Un=Sn?"value":"textContent",{options:wn,multiple:xn}=Dt;return xn?Array.prototype.filter.call(wn,On=>On.selected).map(On=>On[Un]):wn.selectedIndex===-1?null:wn[wn.selectedIndex][Un]};let hn=nn(!1);const An=Sn=>{const Un=Sn.target.options;return Array.prototype.map.call(Un,wn=>({displayValue:wn.textContent,exportValue:wn.value}))};return this.enableScripting&&this.hasJSActions?(Dt.addEventListener("updatefromsandbox",Sn=>{const Un={value(wn){Vt==null||Vt();const xn=wn.detail.value,On=new Set(Array.isArray(xn)?xn:[xn]);for(const Bn of Dt.options)Bn.selected=On.has(Bn.value);Lt.setValue(nt,{value:nn(!0)}),hn=nn(!1)},multipleSelection(wn){Dt.multiple=!0},remove(wn){const xn=Dt.options,On=wn.detail.remove;xn[On].selected=!1,Dt.remove(On),xn.length>0&&Array.prototype.findIndex.call(xn,Wn=>Wn.selected)===-1&&(xn[0].selected=!0),Lt.setValue(nt,{value:nn(!0),items:An(wn)}),hn=nn(!1)},clear(wn){for(;Dt.length!==0;)Dt.remove(0);Lt.setValue(nt,{value:null,items:[]}),hn=nn(!1)},insert(wn){const{index:xn,displayValue:On,exportValue:Bn}=wn.detail.insert,Wn=Dt.children[xn],Hn=document.createElement("option");Hn.textContent=On,Hn.value=Bn,Wn?Wn.before(Hn):Dt.append(Hn),Lt.setValue(nt,{value:nn(!0),items:An(wn)}),hn=nn(!1)},items(wn){const{items:xn}=wn.detail;for(;Dt.length!==0;)Dt.remove(0);for(const On of xn){const{displayValue:Bn,exportValue:Wn}=On,Hn=document.createElement("option");Hn.textContent=Bn,Hn.value=Wn,Dt.append(Hn)}Dt.options.length>0&&(Dt.options[0].selected=!0),Lt.setValue(nt,{value:nn(!0),items:An(wn)}),hn=nn(!1)},indices(wn){const xn=new Set(wn.detail.indices);for(const On of wn.target.options)On.selected=xn.has(On.index);Lt.setValue(nt,{value:nn(!0)}),hn=nn(!1)},editable(wn){wn.target.disabled=!wn.detail.editable}};this._dispatchEventFromSandbox(Un,Sn)}),Dt.addEventListener("input",Sn=>{var wn;const Un=nn(!0);Lt.setValue(nt,{value:Un}),Sn.preventDefault(),(wn=this.linkService.eventBus)==null||wn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:nt,name:"Keystroke",value:hn,changeEx:Un,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(Dt,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Sn=>Sn.target.value)):Dt.addEventListener("input",function(Sn){Lt.setValue(nt,{value:nn(!0)})}),this.data.combo&&this._setTextStyle(Dt),this._setBackgroundColor(Dt),this._setDefaultPropertiesFromJS(Dt),this.container.append(Dt),this.container}}class vt extends yt{constructor(Lt){const{data:nt,elements:Tt}=Lt;super(Lt,{isRenderable:yt._hasPopupData(nt)}),this.elements=Tt}render(){this.container.classList.add("popupAnnotation");const Lt=new ht({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),nt=[];for(const Tt of this.elements)Tt.popup=Lt,nt.push(Tt.data.id),Tt.addHighlightArea();return this.container.setAttribute("aria-controls",nt.map(Tt=>`${g.AnnotationPrefix}${Tt}`).join(",")),this.container}}class ht{constructor({container:Lt,color:nt,elements:Tt,titleObj:Dt,modificationDate:$t,contentsObj:Vt,richText:nn,parent:hn,rect:An,parentRect:Sn,open:Un}){It(this,Fn);It(this,Ln);It(this,In);It(this,$n);It(this,Ot,null);It(this,Jt,Bt(this,Fn,Ts).bind(this));It(this,qt,Bt(this,$n,_i).bind(this));It(this,Kt,Bt(this,In,Jr).bind(this));It(this,rn,Bt(this,Ln,br).bind(this));It(this,dn,null);It(this,sn,null);It(this,bn,null);It(this,Mn,null);It(this,mn,null);It(this,kn,null);It(this,un,!1);It(this,Qt,null);It(this,Zt,null);It(this,an,null);It(this,vn,null);It(this,_n,!1);var xn;en(this,sn,Lt),en(this,vn,Dt),en(this,bn,Vt),en(this,an,nn),en(this,mn,hn),en(this,dn,nt),en(this,Zt,An),en(this,kn,Sn),en(this,Mn,Tt);const wn=_.PDFDateString.toDateObject($t);wn&&en(this,Ot,hn.l10n.get("annotation_date_string",{date:wn.toLocaleDateString(),time:wn.toLocaleTimeString()})),this.trigger=Tt.flatMap(On=>On.getElementsToTriggerPopup());for(const On of this.trigger)On.addEventListener("click",_e(this,rn)),On.addEventListener("mouseenter",_e(this,Kt)),On.addEventListener("mouseleave",_e(this,qt)),On.classList.add("popupTriggerArea");for(const On of Tt)(xn=On.container)==null||xn.addEventListener("keydown",_e(this,Jt));_e(this,sn).hidden=!0,Un&&Bt(this,Ln,br).call(this)}render(){if(_e(this,Qt))return;const{page:{view:Lt},viewport:{rawDims:{pageWidth:nt,pageHeight:Tt,pageX:Dt,pageY:$t}}}=_e(this,mn),Vt=en(this,Qt,document.createElement("div"));if(Vt.className="popup",_e(this,dn)){const qn=Vt.style.outlineColor=g.Util.makeHexColor(..._e(this,dn));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?Vt.style.backgroundColor=`color-mix(in srgb, ${qn} 30%, white)`:Vt.style.backgroundColor=g.Util.makeHexColor(..._e(this,dn).map(er=>Math.floor(.7*(255-er)+er)))}const nn=document.createElement("span");nn.className="header";const hn=document.createElement("h1");if(nn.append(hn),{dir:hn.dir,str:hn.textContent}=_e(this,vn),Vt.append(nn),_e(this,Ot)){const qn=document.createElement("span");qn.classList.add("popupDate"),_e(this,Ot).then(Qn=>{qn.textContent=Qn}),nn.append(qn)}const An=_e(this,bn),Sn=_e(this,an);if(Sn!=null&&Sn.str&&(!(An!=null&&An.str)||An.str===Sn.str))et.XfaLayer.render({xfaHtml:Sn.html,intent:"richText",div:Vt}),Vt.lastChild.classList.add("richText","popupContent");else{const qn=this._formatContents(An);Vt.append(qn)}let Un=!!_e(this,kn),wn=Un?_e(this,kn):_e(this,Zt);for(const qn of _e(this,Mn))if(!wn||g.Util.intersect(qn.data.rect,wn)!==null){wn=qn.data.rect,Un=!0;break}const xn=g.Util.normalizeRect([wn[0],Lt[3]-wn[1]+Lt[1],wn[2],Lt[3]-wn[3]+Lt[1]]),On=5,Bn=Un?wn[2]-wn[0]+On:0,Wn=xn[0]+Bn,Hn=xn[1],{style:Kn}=_e(this,sn);Kn.left=`${100*(Wn-Dt)/nt}%`,Kn.top=`${100*(Hn-$t)/Tt}%`,_e(this,sn).append(Vt)}_formatContents({str:Lt,dir:nt}){const Tt=document.createElement("p");Tt.classList.add("popupContent"),Tt.dir=nt;const Dt=Lt.split(/(?:\r\n?|\n)/);for(let $t=0,Vt=Dt.length;$t<Vt;++$t){const nn=Dt[$t];Tt.append(document.createTextNode(nn)),$t<Vt-1&&Tt.append(document.createElement("br"))}return Tt}forceHide(){en(this,_n,this.isVisible),_e(this,_n)&&(_e(this,sn).hidden=!0)}maybeShow(){_e(this,_n)&&(en(this,_n,!1),_e(this,sn).hidden=!1)}get isVisible(){return _e(this,sn).hidden===!1}}Ot=new WeakMap,Jt=new WeakMap,qt=new WeakMap,Kt=new WeakMap,rn=new WeakMap,dn=new WeakMap,sn=new WeakMap,bn=new WeakMap,Mn=new WeakMap,mn=new WeakMap,kn=new WeakMap,un=new WeakMap,Qt=new WeakMap,Zt=new WeakMap,an=new WeakMap,vn=new WeakMap,_n=new WeakMap,Fn=new WeakSet,Ts=function(Lt){Lt.altKey||Lt.shiftKey||Lt.ctrlKey||Lt.metaKey||(Lt.key==="Enter"||Lt.key==="Escape"&&_e(this,un))&&Bt(this,Ln,br).call(this)},Ln=new WeakSet,br=function(){en(this,un,!_e(this,un)),_e(this,un)?(Bt(this,In,Jr).call(this),_e(this,sn).addEventListener("click",_e(this,rn)),_e(this,sn).addEventListener("keydown",_e(this,Jt))):(Bt(this,$n,_i).call(this),_e(this,sn).removeEventListener("click",_e(this,rn)),_e(this,sn).removeEventListener("keydown",_e(this,Jt)))},In=new WeakSet,Jr=function(){_e(this,Qt)||this.render(),this.isVisible?_e(this,un)&&_e(this,sn).classList.add("focused"):(_e(this,sn).hidden=!1,_e(this,sn).style.zIndex=parseInt(_e(this,sn).style.zIndex)+1e3)},$n=new WeakSet,_i=function(){_e(this,sn).classList.remove("focused"),!(_e(this,un)||!this.isVisible)&&(_e(this,sn).hidden=!0,_e(this,sn).style.zIndex=parseInt(_e(this,sn).style.zIndex)-1e3)};class kt extends yt{constructor(Lt){super(Lt,{isRenderable:!0,ignoreBorder:!0}),this.textContent=Lt.data.textContent,this.textPosition=Lt.data.textPosition,this.annotationEditorType=g.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const Lt=document.createElement("div");Lt.classList.add("annotationTextContent"),Lt.setAttribute("role","comment");for(const nt of this.textContent){const Tt=document.createElement("span");Tt.textContent=nt,Lt.append(Tt)}this.container.append(Lt)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}o.FreeTextAnnotationElement=kt;class wt extends yt{constructor(nt){super(nt,{isRenderable:!0,ignoreBorder:!0});It(this,Yt,null)}render(){this.container.classList.add("lineAnnotation");const nt=this.data,{width:Tt,height:Dt}=St(nt.rect),$t=this.svgFactory.create(Tt,Dt,!0),Vt=en(this,Yt,this.svgFactory.createElement("svg:line"));return Vt.setAttribute("x1",nt.rect[2]-nt.lineCoordinates[0]),Vt.setAttribute("y1",nt.rect[3]-nt.lineCoordinates[1]),Vt.setAttribute("x2",nt.rect[2]-nt.lineCoordinates[2]),Vt.setAttribute("y2",nt.rect[3]-nt.lineCoordinates[3]),Vt.setAttribute("stroke-width",nt.borderStyle.width||1),Vt.setAttribute("stroke","transparent"),Vt.setAttribute("fill","transparent"),$t.append(Vt),this.container.append($t),!nt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _e(this,Yt)}addHighlightArea(){this.container.classList.add("highlightArea")}}Yt=new WeakMap;class Nt extends yt{constructor(nt){super(nt,{isRenderable:!0,ignoreBorder:!0});It(this,zt,null)}render(){this.container.classList.add("squareAnnotation");const nt=this.data,{width:Tt,height:Dt}=St(nt.rect),$t=this.svgFactory.create(Tt,Dt,!0),Vt=nt.borderStyle.width,nn=en(this,zt,this.svgFactory.createElement("svg:rect"));return nn.setAttribute("x",Vt/2),nn.setAttribute("y",Vt/2),nn.setAttribute("width",Tt-Vt),nn.setAttribute("height",Dt-Vt),nn.setAttribute("stroke-width",Vt||1),nn.setAttribute("stroke","transparent"),nn.setAttribute("fill","transparent"),$t.append(nn),this.container.append($t),!nt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _e(this,zt)}addHighlightArea(){this.container.classList.add("highlightArea")}}zt=new WeakMap;class jt extends yt{constructor(nt){super(nt,{isRenderable:!0,ignoreBorder:!0});It(this,fn,null)}render(){this.container.classList.add("circleAnnotation");const nt=this.data,{width:Tt,height:Dt}=St(nt.rect),$t=this.svgFactory.create(Tt,Dt,!0),Vt=nt.borderStyle.width,nn=en(this,fn,this.svgFactory.createElement("svg:ellipse"));return nn.setAttribute("cx",Tt/2),nn.setAttribute("cy",Dt/2),nn.setAttribute("rx",Tt/2-Vt/2),nn.setAttribute("ry",Dt/2-Vt/2),nn.setAttribute("stroke-width",Vt||1),nn.setAttribute("stroke","transparent"),nn.setAttribute("fill","transparent"),$t.append(nn),this.container.append($t),!nt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _e(this,fn)}addHighlightArea(){this.container.classList.add("highlightArea")}}fn=new WeakMap;class Pt extends yt{constructor(nt){super(nt,{isRenderable:!0,ignoreBorder:!0});It(this,gn,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const nt=this.data,{width:Tt,height:Dt}=St(nt.rect),$t=this.svgFactory.create(Tt,Dt,!0);let Vt=[];for(const hn of nt.vertices){const An=hn.x-nt.rect[0],Sn=nt.rect[3]-hn.y;Vt.push(An+","+Sn)}Vt=Vt.join(" ");const nn=en(this,gn,this.svgFactory.createElement(this.svgElementName));return nn.setAttribute("points",Vt),nn.setAttribute("stroke-width",nt.borderStyle.width||1),nn.setAttribute("stroke","transparent"),nn.setAttribute("fill","transparent"),$t.append(nn),this.container.append($t),!nt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _e(this,gn)}addHighlightArea(){this.container.classList.add("highlightArea")}}gn=new WeakMap;class Ut extends Pt{constructor(Lt){super(Lt),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Xt extends yt{constructor(Lt){super(Lt,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class tn extends yt{constructor(nt){super(nt,{isRenderable:!0,ignoreBorder:!0});It(this,Xn,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=g.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const nt=this.data,{width:Tt,height:Dt}=St(nt.rect),$t=this.svgFactory.create(Tt,Dt,!0);for(const Vt of nt.inkLists){let nn=[];for(const An of Vt){const Sn=An.x-nt.rect[0],Un=nt.rect[3]-An.y;nn.push(`${Sn},${Un}`)}nn=nn.join(" ");const hn=this.svgFactory.createElement(this.svgElementName);_e(this,Xn).push(hn),hn.setAttribute("points",nn),hn.setAttribute("stroke-width",nt.borderStyle.width||1),hn.setAttribute("stroke","transparent"),hn.setAttribute("fill","transparent"),!nt.popupRef&&this.hasPopupData&&this._createPopup(),$t.append(hn)}return this.container.append($t),this.container}getElementsToTriggerPopup(){return _e(this,Xn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Xn=new WeakMap,o.InkAnnotationElement=tn;class Mt extends yt{constructor(Lt){super(Lt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class Wt extends yt{constructor(Lt){super(Lt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Ht extends yt{constructor(Lt){super(Lt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class ln extends yt{constructor(Lt){super(Lt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class cn extends yt{constructor(Lt){super(Lt,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}o.StampAnnotationElement=cn;class Ct extends yt{constructor(nt){var $t;super(nt,{isRenderable:!0});It(this,Gt);It(this,Gn,null);const{filename:Tt,content:Dt}=this.data.file;this.filename=(0,_.getFilenameFromUrl)(Tt,!0),this.content=Dt,($t=this.linkService.eventBus)==null||$t.dispatch("fileattachmentannotation",{source:this,filename:Tt,content:Dt})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:nt,data:Tt}=this;let Dt;Tt.hasAppearance||Tt.fillAlpha===0?Dt=document.createElement("div"):(Dt=document.createElement("img"),Dt.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(Tt.name)?"paperclip":"pushpin"}.svg`,Tt.fillAlpha&&Tt.fillAlpha<1&&(Dt.style=`filter: opacity(${Math.round(Tt.fillAlpha*100)}%);`)),Dt.addEventListener("dblclick",Bt(this,Gt,es).bind(this)),en(this,Gn,Dt);const{isMac:$t}=g.FeatureTest.platform;return nt.addEventListener("keydown",Vt=>{Vt.key==="Enter"&&($t?Vt.metaKey:Vt.ctrlKey)&&Bt(this,Gt,es).call(this)}),!Tt.popupRef&&this.hasPopupData?this._createPopup():Dt.classList.add("popupTriggerArea"),nt.append(Dt),nt}getElementsToTriggerPopup(){return _e(this,Gn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Gn=new WeakMap,Gt=new WeakSet,es=function(){var nt;(nt=this.downloadManager)==null||nt.openOrDownloadData(this.container,this.content,this.filename)};class tt{constructor({div:Lt,accessibilityManager:nt,annotationCanvasMap:Tt,l10n:Dt,page:$t,viewport:Vt}){It(this,Rn);It(this,pn);It(this,Pn,null);It(this,En,null);It(this,Cn,new Map);this.div=Lt,en(this,Pn,nt),en(this,En,Tt),this.l10n=Dt,this.page=$t,this.viewport=Vt,this.zIndex=0,this.l10n||(this.l10n=ft.NullL10n)}async render(Lt){const{annotations:nt}=Lt,Tt=this.div;(0,_.setLayerDimensions)(Tt,this.viewport);const Dt=new Map,$t={data:null,layer:Tt,linkService:Lt.linkService,downloadManager:Lt.downloadManager,imageResourcesPath:Lt.imageResourcesPath||"",renderForms:Lt.renderForms!==!1,svgFactory:new _.DOMSVGFactory,annotationStorage:Lt.annotationStorage||new j.AnnotationStorage,enableScripting:Lt.enableScripting===!0,hasJSActions:Lt.hasJSActions,fieldObjects:Lt.fieldObjects,parent:this,elements:null};for(const Vt of nt){if(Vt.noHTML)continue;const nn=Vt.annotationType===g.AnnotationType.POPUP;if(nn){const Sn=Dt.get(Vt.id);if(!Sn)continue;$t.elements=Sn}else{const{width:Sn,height:Un}=St(Vt.rect);if(Sn<=0||Un<=0)continue}$t.data=Vt;const hn=Et.create($t);if(!hn.isRenderable)continue;if(!nn&&Vt.popupRef){const Sn=Dt.get(Vt.popupRef);Sn?Sn.push(hn):Dt.set(Vt.popupRef,[hn])}hn.annotationEditorType>0&&_e(this,Cn).set(hn.data.id,hn);const An=hn.render();Vt.hidden&&(An.style.visibility="hidden"),Bt(this,Rn,Ps).call(this,An,Vt.id)}Bt(this,pn,ts).call(this),await this.l10n.translate(Tt)}update({viewport:Lt}){const nt=this.div;this.viewport=Lt,(0,_.setLayerDimensions)(nt,{rotation:Lt.rotation}),Bt(this,pn,ts).call(this),nt.hidden=!1}getEditableAnnotations(){return Array.from(_e(this,Cn).values())}getEditableAnnotation(Lt){return _e(this,Cn).get(Lt)}}Pn=new WeakMap,En=new WeakMap,Cn=new WeakMap,Rn=new WeakSet,Ps=function(Lt,nt){var Dt;const Tt=Lt.firstChild||Lt;Tt.id=`${g.AnnotationPrefix}${nt}`,this.div.append(Lt),(Dt=_e(this,Pn))==null||Dt.moveElementInDOM(this.div,Lt,Tt,!1)},pn=new WeakSet,ts=function(){if(!_e(this,En))return;const Lt=this.div;for(const[nt,Tt]of _e(this,En)){const Dt=Lt.querySelector(`[data-annotation-id="${nt}"]`);if(!Dt)continue;const{firstChild:$t}=Dt;$t?$t.nodeName==="CANVAS"?$t.replaceWith(Tt):$t.before(Tt):Dt.append(Tt)}_e(this,En).clear()},o.AnnotationLayer=tt},(e,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ColorConverters=void 0;function a(j){return Math.floor(Math.max(0,Math.min(1,j))*255).toString(16).padStart(2,"0")}function g(j){return Math.max(0,Math.min(255,255*j))}class _{static CMYK_G([$,ft,et,lt]){return["G",1-Math.min(1,.3*$+.59*et+.11*ft+lt)]}static G_CMYK([$]){return["CMYK",0,0,0,1-$]}static G_RGB([$]){return["RGB",$,$,$]}static G_rgb([$]){return $=g($),[$,$,$]}static G_HTML([$]){const ft=a($);return`#${ft}${ft}${ft}`}static RGB_G([$,ft,et]){return["G",.3*$+.59*ft+.11*et]}static RGB_rgb($){return $.map(g)}static RGB_HTML($){return`#${$.map(a).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([$,ft,et,lt]){return["RGB",1-Math.min(1,$+lt),1-Math.min(1,et+lt),1-Math.min(1,ft+lt)]}static CMYK_rgb([$,ft,et,lt]){return[g(1-Math.min(1,$+lt)),g(1-Math.min(1,et+lt)),g(1-Math.min(1,ft+lt))]}static CMYK_HTML($){const ft=this.CMYK_RGB($).slice(1);return this.RGB_HTML(ft)}static RGB_CMYK([$,ft,et]){const lt=1-$,at=1-ft,At=1-et,St=Math.min(lt,at,At);return["CMYK",lt,at,At,St]}}o.ColorConverters=_},(e,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.NullL10n=void 0,o.getL10nFallback=g;const a={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};a.print_progress_percent="{{progress}}%";function g($,ft){switch($){case"find_match_count":$=`find_match_count[${ft.total===1?"one":"other"}]`;break;case"find_match_count_limit":$=`find_match_count_limit[${ft.limit===1?"one":"other"}]`;break}return a[$]||""}function _($,ft){return ft?$.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(et,lt)=>lt in ft?ft[lt]:"{{"+lt+"}}"):$}const j={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get($,ft=null,et=g($,ft)){return _(et,ft)},async translate($){}};o.NullL10n=j},(e,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.XfaLayer=void 0;var g=a(25);class _{static setupStorage($,ft,et,lt,at){const At=lt.getValue(ft,{value:null});switch(et.name){case"textarea":if(At.value!==null&&($.textContent=At.value),at==="print")break;$.addEventListener("input",St=>{lt.setValue(ft,{value:St.target.value})});break;case"input":if(et.attributes.type==="radio"||et.attributes.type==="checkbox"){if(At.value===et.attributes.xfaOn?$.setAttribute("checked",!0):At.value===et.attributes.xfaOff&&$.removeAttribute("checked"),at==="print")break;$.addEventListener("change",St=>{lt.setValue(ft,{value:St.target.checked?St.target.getAttribute("xfaOn"):St.target.getAttribute("xfaOff")})})}else{if(At.value!==null&&$.setAttribute("value",At.value),at==="print")break;$.addEventListener("input",St=>{lt.setValue(ft,{value:St.target.value})})}break;case"select":if(At.value!==null){$.setAttribute("value",At.value);for(const St of et.children)St.attributes.value===At.value?St.attributes.selected=!0:St.attributes.hasOwnProperty("selected")&&delete St.attributes.selected}$.addEventListener("input",St=>{const Et=St.target.options,yt=Et.selectedIndex===-1?"":Et[Et.selectedIndex].value;lt.setValue(ft,{value:yt})});break}}static setAttributes({html:$,element:ft,storage:et=null,intent:lt,linkService:at}){const{attributes:At}=ft,St=$ instanceof HTMLAnchorElement;At.type==="radio"&&(At.name=`${At.name}-${lt}`);for(const[Et,yt]of Object.entries(At))if(yt!=null)switch(Et){case"class":yt.length&&$.setAttribute(Et,yt.join(" "));break;case"dataId":break;case"id":$.setAttribute("data-element-id",yt);break;case"style":Object.assign($.style,yt);break;case"textContent":$.textContent=yt;break;default:(!St||Et!=="href"&&Et!=="newWindow")&&$.setAttribute(Et,yt)}St&&at.addLinkAttributes($,At.href,At.newWindow),et&&At.dataId&&this.setupStorage($,At.dataId,ft,et)}static render($){var _t;const ft=$.annotationStorage,et=$.linkService,lt=$.xfaHtml,at=$.intent||"display",At=document.createElement(lt.name);lt.attributes&&this.setAttributes({html:At,element:lt,intent:at,linkService:et});const St=[[lt,-1,At]],Et=$.div;if(Et.append(At),$.viewport){const mt=`matrix(${$.viewport.transform.join(",")})`;Et.style.transform=mt}at!=="richText"&&Et.setAttribute("class","xfaLayer xfaFont");const yt=[];for(;St.length>0;){const[mt,ot,it]=St.at(-1);if(ot+1===mt.children.length){St.pop();continue}const ct=mt.children[++St.at(-1)[1]];if(ct===null)continue;const{name:pt}=ct;if(pt==="#text"){const dt=document.createTextNode(ct.value);yt.push(dt),it.append(dt);continue}const rt=(_t=ct==null?void 0:ct.attributes)!=null&&_t.xmlns?document.createElementNS(ct.attributes.xmlns,pt):document.createElement(pt);if(it.append(rt),ct.attributes&&this.setAttributes({html:rt,element:ct,storage:ft,intent:at,linkService:et}),ct.children&&ct.children.length>0)St.push([ct,-1,rt]);else if(ct.value){const dt=document.createTextNode(ct.value);g.XfaText.shouldBuildText(pt)&&yt.push(dt),rt.append(dt)}}for(const mt of Et.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))mt.setAttribute("readOnly",!0);return{textDivs:yt}}static update($){const ft=`matrix(${$.viewport.transform.join(",")})`;$.div.style.transform=ft,$.div.hidden=!1}}o.XfaLayer=_},(e,o,a)=>{var lt,at,At,St,Et,yt,_t,mt,ot,it,ct,pt,rt,dt,xt,Cs,ht,Rs,wt,Ms,jt,Fs,Ut,ns,tn,Ls,Wt,rs,ln,Ds,Ct,Os,ut,Is,gt,Ns,Rt,js,Ot,Jn,qt,is,rn,wr,sn,xr,Mn,or,kn,ss,Qt,kr,an,$s,_n,os,Nn,Us,jn,Bs,Dn,as,on,Tr,zt,ar;Object.defineProperty(o,"__esModule",{value:!0}),o.InkEditor=void 0;var g=a(1),_=a(4),j=a(29),$=a(6),ft=a(5);const gn=class gn extends _.AnnotationEditor{constructor(Gt){super({...Gt,name:"inkEditor"});It(this,xt);It(this,ht);It(this,wt);It(this,jt);It(this,Ut);It(this,tn);It(this,Wt);It(this,ln);It(this,Ct);It(this,ut);It(this,gt);It(this,Rt);It(this,Ot);It(this,qt);It(this,rn);It(this,sn);It(this,Mn);It(this,kn);It(this,Qt);It(this,jn);It(this,Dn);It(this,on);It(this,zt);It(this,lt,0);It(this,at,0);It(this,At,this.canvasPointermove.bind(this));It(this,St,this.canvasPointerleave.bind(this));It(this,Et,this.canvasPointerup.bind(this));It(this,yt,this.canvasPointerdown.bind(this));It(this,_t,new Path2D);It(this,mt,!1);It(this,ot,!1);It(this,it,!1);It(this,ct,null);It(this,pt,0);It(this,rt,0);It(this,dt,null);this.color=Gt.color||null,this.thickness=Gt.thickness||null,this.opacity=Gt.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(Gt){_.AnnotationEditor.initialize(Gt,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(Gt,yn){switch(Gt){case g.AnnotationEditorParamsType.INK_THICKNESS:gn._defaultThickness=yn;break;case g.AnnotationEditorParamsType.INK_COLOR:gn._defaultColor=yn;break;case g.AnnotationEditorParamsType.INK_OPACITY:gn._defaultOpacity=yn/100;break}}updateParams(Gt,yn){switch(Gt){case g.AnnotationEditorParamsType.INK_THICKNESS:Bt(this,xt,Cs).call(this,yn);break;case g.AnnotationEditorParamsType.INK_COLOR:Bt(this,ht,Rs).call(this,yn);break;case g.AnnotationEditorParamsType.INK_OPACITY:Bt(this,wt,Ms).call(this,yn);break}}static get defaultPropertiesToUpdate(){return[[g.AnnotationEditorParamsType.INK_THICKNESS,gn._defaultThickness],[g.AnnotationEditorParamsType.INK_COLOR,gn._defaultColor||_.AnnotationEditor._defaultLineColor],[g.AnnotationEditorParamsType.INK_OPACITY,Math.round(gn._defaultOpacity*100)]]}get propertiesToUpdate(){return[[g.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||gn._defaultThickness],[g.AnnotationEditorParamsType.INK_COLOR,this.color||gn._defaultColor||_.AnnotationEditor._defaultLineColor],[g.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??gn._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(Bt(this,rn,wr).call(this),Bt(this,sn,xr).call(this)),this.isAttachedToDOM||(this.parent.add(this),Bt(this,Mn,or).call(this)),Bt(this,zt,ar).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,_e(this,ct).disconnect(),en(this,ct,null),super.remove())}setParent(Gt){!this.parent&&Gt?this._uiManager.removeShouldRescale(this):this.parent&&Gt===null&&this._uiManager.addShouldRescale(this),super.setParent(Gt)}onScaleChanging(){const[Gt,yn]=this.parentDimensions,Pn=this.width*Gt,En=this.height*yn;this.setDimensions(Pn,En)}enableEditMode(){_e(this,mt)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",_e(this,yt)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",_e(this,yt)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){_e(this,mt)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),en(this,mt,!0),this.div.classList.add("disabled"),Bt(this,zt,ar).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(Gt){this._focusEventsAllowed&&(super.focusin(Gt),this.enableEditMode())}canvasPointerdown(Gt){Gt.button!==0||!this.isInEditMode()||_e(this,mt)||(this.setInForeground(),Gt.preventDefault(),Gt.type!=="mouse"&&this.div.focus(),Bt(this,tn,Ls).call(this,Gt.offsetX,Gt.offsetY))}canvasPointermove(Gt){Gt.preventDefault(),Bt(this,Wt,rs).call(this,Gt.offsetX,Gt.offsetY)}canvasPointerup(Gt){Gt.preventDefault(),Bt(this,qt,is).call(this,Gt)}canvasPointerleave(Gt){Bt(this,qt,is).call(this,Gt)}get isResizable(){return!this.isEmpty()&&_e(this,mt)}render(){if(this.div)return this.div;let Gt,yn;this.width&&(Gt=this.x,yn=this.y),super.render(),_.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(Vn=>{var pn;return(pn=this.div)==null?void 0:pn.setAttribute("aria-label",Vn)});const[Pn,En,Cn,Rn]=Bt(this,jt,Fs).call(this);if(this.setAt(Pn,En,0,0),this.setDims(Cn,Rn),Bt(this,rn,wr).call(this),this.width){const[Vn,pn]=this.parentDimensions;this.setAspectRatio(this.width*Vn,this.height*pn),this.setAt(Gt*Vn,yn*pn,this.width*Vn,this.height*pn),en(this,it,!0),Bt(this,Mn,or).call(this),this.setDims(this.width*Vn,this.height*pn),Bt(this,Ot,Jn).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Bt(this,sn,xr).call(this),this.div}setDimensions(Gt,yn){const Pn=Math.round(Gt),En=Math.round(yn);if(_e(this,pt)===Pn&&_e(this,rt)===En)return;en(this,pt,Pn),en(this,rt,En),this.canvas.style.visibility="hidden";const[Cn,Rn]=this.parentDimensions;this.width=Gt/Cn,this.height=yn/Rn,this.fixAndSetPosition(),_e(this,mt)&&Bt(this,kn,ss).call(this,Gt,yn),Bt(this,Mn,or).call(this),Bt(this,Ot,Jn).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(Gt,yn,Pn){var $t,Vt,nn;if(Gt instanceof j.InkAnnotationElement)return null;const En=super.deserialize(Gt,yn,Pn);En.thickness=Gt.thickness,En.color=g.Util.makeHexColor(...Gt.color),En.opacity=Gt.opacity;const[Cn,Rn]=En.pageDimensions,Vn=En.width*Cn,pn=En.height*Rn,zn=En.parentScale,Tn=Gt.thickness/2;en(En,mt,!0),en(En,pt,Math.round(Vn)),en(En,rt,Math.round(pn));const{paths:Lt,rect:nt,rotation:Tt}=Gt;for(let{bezier:hn}of Lt){hn=Bt($t=gn,Nn,Us).call($t,hn,nt,Tt);const An=[];En.paths.push(An);let Sn=zn*(hn[0]-Tn),Un=zn*(hn[1]-Tn);for(let xn=2,On=hn.length;xn<On;xn+=6){const Bn=zn*(hn[xn]-Tn),Wn=zn*(hn[xn+1]-Tn),Hn=zn*(hn[xn+2]-Tn),Kn=zn*(hn[xn+3]-Tn),qn=zn*(hn[xn+4]-Tn),Qn=zn*(hn[xn+5]-Tn);An.push([[Sn,Un],[Bn,Wn],[Hn,Kn],[qn,Qn]]),Sn=qn,Un=Qn}const wn=Bt(this,an,$s).call(this,An);En.bezierPath2D.push(wn)}const Dt=Bt(Vt=En,Dn,as).call(Vt);return en(En,at,Math.max(_.AnnotationEditor.MIN_SIZE,Dt[2]-Dt[0])),en(En,lt,Math.max(_.AnnotationEditor.MIN_SIZE,Dt[3]-Dt[1])),Bt(nn=En,kn,ss).call(nn,Vn,pn),En}serialize(){if(this.isEmpty())return null;const Gt=this.getRect(0,0),yn=_.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:g.AnnotationEditorType.INK,color:yn,thickness:this.thickness,opacity:this.opacity,paths:Bt(this,jn,Bs).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,Gt),pageIndex:this.pageIndex,rect:Gt,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};lt=new WeakMap,at=new WeakMap,At=new WeakMap,St=new WeakMap,Et=new WeakMap,yt=new WeakMap,_t=new WeakMap,mt=new WeakMap,ot=new WeakMap,it=new WeakMap,ct=new WeakMap,pt=new WeakMap,rt=new WeakMap,dt=new WeakMap,xt=new WeakSet,Cs=function(Gt){const yn=this.thickness;this.addCommands({cmd:()=>{this.thickness=Gt,Bt(this,zt,ar).call(this)},undo:()=>{this.thickness=yn,Bt(this,zt,ar).call(this)},mustExec:!0,type:g.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},ht=new WeakSet,Rs=function(Gt){const yn=this.color;this.addCommands({cmd:()=>{this.color=Gt,Bt(this,Ot,Jn).call(this)},undo:()=>{this.color=yn,Bt(this,Ot,Jn).call(this)},mustExec:!0,type:g.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},wt=new WeakSet,Ms=function(Gt){Gt/=100;const yn=this.opacity;this.addCommands({cmd:()=>{this.opacity=Gt,Bt(this,Ot,Jn).call(this)},undo:()=>{this.opacity=yn,Bt(this,Ot,Jn).call(this)},mustExec:!0,type:g.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},jt=new WeakSet,Fs=function(){const{parentRotation:Gt,parentDimensions:[yn,Pn]}=this;switch(Gt){case 90:return[0,Pn,Pn,yn];case 180:return[yn,Pn,yn,Pn];case 270:return[yn,0,Pn,yn];default:return[0,0,yn,Pn]}},Ut=new WeakSet,ns=function(){const{ctx:Gt,color:yn,opacity:Pn,thickness:En,parentScale:Cn,scaleFactor:Rn}=this;Gt.lineWidth=En*Cn/Rn,Gt.lineCap="round",Gt.lineJoin="round",Gt.miterLimit=10,Gt.strokeStyle=`${yn}${(0,ft.opacityToHex)(Pn)}`},tn=new WeakSet,Ls=function(Gt,yn){this.canvas.addEventListener("contextmenu",$.noContextMenu),this.canvas.addEventListener("pointerleave",_e(this,St)),this.canvas.addEventListener("pointermove",_e(this,At)),this.canvas.addEventListener("pointerup",_e(this,Et)),this.canvas.removeEventListener("pointerdown",_e(this,yt)),this.isEditing=!0,_e(this,it)||(en(this,it,!0),Bt(this,Mn,or).call(this),this.thickness||(this.thickness=gn._defaultThickness),this.color||(this.color=gn._defaultColor||_.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=gn._defaultOpacity)),this.currentPath.push([Gt,yn]),en(this,ot,!1),Bt(this,Ut,ns).call(this),en(this,dt,()=>{Bt(this,ut,Is).call(this),_e(this,dt)&&window.requestAnimationFrame(_e(this,dt))}),window.requestAnimationFrame(_e(this,dt))},Wt=new WeakSet,rs=function(Gt,yn){const[Pn,En]=this.currentPath.at(-1);if(this.currentPath.length>1&&Gt===Pn&&yn===En)return;const Cn=this.currentPath;let Rn=_e(this,_t);if(Cn.push([Gt,yn]),en(this,ot,!0),Cn.length<=2){Rn.moveTo(...Cn[0]),Rn.lineTo(Gt,yn);return}Cn.length===3&&(en(this,_t,Rn=new Path2D),Rn.moveTo(...Cn[0])),Bt(this,gt,Ns).call(this,Rn,...Cn.at(-3),...Cn.at(-2),Gt,yn)},ln=new WeakSet,Ds=function(){if(this.currentPath.length===0)return;const Gt=this.currentPath.at(-1);_e(this,_t).lineTo(...Gt)},Ct=new WeakSet,Os=function(Gt,yn){en(this,dt,null),Gt=Math.min(Math.max(Gt,0),this.canvas.width),yn=Math.min(Math.max(yn,0),this.canvas.height),Bt(this,Wt,rs).call(this,Gt,yn),Bt(this,ln,Ds).call(this);let Pn;if(this.currentPath.length!==1)Pn=Bt(this,Rt,js).call(this);else{const pn=[Gt,yn];Pn=[[pn,pn.slice(),pn.slice(),pn]]}const En=_e(this,_t),Cn=this.currentPath;this.currentPath=[],en(this,_t,new Path2D);const Rn=()=>{this.allRawPaths.push(Cn),this.paths.push(Pn),this.bezierPath2D.push(En),this.rebuild()},Vn=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Bt(this,rn,wr).call(this),Bt(this,sn,xr).call(this)),Bt(this,zt,ar).call(this))};this.addCommands({cmd:Rn,undo:Vn,mustExec:!0})},ut=new WeakSet,Is=function(){if(!_e(this,ot))return;en(this,ot,!1);const Gt=Math.ceil(this.thickness*this.parentScale),yn=this.currentPath.slice(-3),Pn=yn.map(Rn=>Rn[0]),En=yn.map(Rn=>Rn[1]);Math.min(...Pn)-Gt,Math.max(...Pn)+Gt,Math.min(...En)-Gt,Math.max(...En)+Gt;const{ctx:Cn}=this;Cn.save(),Cn.clearRect(0,0,this.canvas.width,this.canvas.height);for(const Rn of this.bezierPath2D)Cn.stroke(Rn);Cn.stroke(_e(this,_t)),Cn.restore()},gt=new WeakSet,Ns=function(Gt,yn,Pn,En,Cn,Rn,Vn){const pn=(yn+En)/2,zn=(Pn+Cn)/2,Tn=(En+Rn)/2,Lt=(Cn+Vn)/2;Gt.bezierCurveTo(pn+2*(En-pn)/3,zn+2*(Cn-zn)/3,Tn+2*(En-Tn)/3,Lt+2*(Cn-Lt)/3,Tn,Lt)},Rt=new WeakSet,js=function(){const Gt=this.currentPath;if(Gt.length<=2)return[[Gt[0],Gt[0],Gt.at(-1),Gt.at(-1)]];const yn=[];let Pn,[En,Cn]=Gt[0];for(Pn=1;Pn<Gt.length-2;Pn++){const[nt,Tt]=Gt[Pn],[Dt,$t]=Gt[Pn+1],Vt=(nt+Dt)/2,nn=(Tt+$t)/2,hn=[En+2*(nt-En)/3,Cn+2*(Tt-Cn)/3],An=[Vt+2*(nt-Vt)/3,nn+2*(Tt-nn)/3];yn.push([[En,Cn],hn,An,[Vt,nn]]),[En,Cn]=[Vt,nn]}const[Rn,Vn]=Gt[Pn],[pn,zn]=Gt[Pn+1],Tn=[En+2*(Rn-En)/3,Cn+2*(Vn-Cn)/3],Lt=[pn+2*(Rn-pn)/3,zn+2*(Vn-zn)/3];return yn.push([[En,Cn],Tn,Lt,[pn,zn]]),yn},Ot=new WeakSet,Jn=function(){if(this.isEmpty()){Bt(this,Qt,kr).call(this);return}Bt(this,Ut,ns).call(this);const{canvas:Gt,ctx:yn}=this;yn.setTransform(1,0,0,1,0,0),yn.clearRect(0,0,Gt.width,Gt.height),Bt(this,Qt,kr).call(this);for(const Pn of this.bezierPath2D)yn.stroke(Pn)},qt=new WeakSet,is=function(Gt){this.canvas.removeEventListener("pointerleave",_e(this,St)),this.canvas.removeEventListener("pointermove",_e(this,At)),this.canvas.removeEventListener("pointerup",_e(this,Et)),this.canvas.addEventListener("pointerdown",_e(this,yt)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",$.noContextMenu)},10),Bt(this,Ct,Os).call(this,Gt.offsetX,Gt.offsetY),this.addToAnnotationStorage(),this.setInBackground()},rn=new WeakSet,wr=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",_.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(Gt=>{var yn;return(yn=this.canvas)==null?void 0:yn.setAttribute("aria-label",Gt)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},sn=new WeakSet,xr=function(){en(this,ct,new ResizeObserver(Gt=>{const yn=Gt[0].contentRect;yn.width&&yn.height&&this.setDimensions(yn.width,yn.height)})),_e(this,ct).observe(this.div)},Mn=new WeakSet,or=function(){if(!_e(this,it))return;const[Gt,yn]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*Gt),this.canvas.height=Math.ceil(this.height*yn),Bt(this,Qt,kr).call(this)},kn=new WeakSet,ss=function(Gt,yn){const Pn=Bt(this,on,Tr).call(this),En=(Gt-Pn)/_e(this,at),Cn=(yn-Pn)/_e(this,lt);this.scaleFactor=Math.min(En,Cn)},Qt=new WeakSet,kr=function(){const Gt=Bt(this,on,Tr).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Gt,this.translationY*this.scaleFactor+Gt)},an=new WeakSet,$s=function(Gt){const yn=new Path2D;for(let Pn=0,En=Gt.length;Pn<En;Pn++){const[Cn,Rn,Vn,pn]=Gt[Pn];Pn===0&&yn.moveTo(...Cn),yn.bezierCurveTo(Rn[0],Rn[1],Vn[0],Vn[1],pn[0],pn[1])}return yn},_n=new WeakSet,os=function(Gt,yn,Pn){const[En,Cn,Rn,Vn]=yn;switch(Pn){case 0:for(let pn=0,zn=Gt.length;pn<zn;pn+=2)Gt[pn]+=En,Gt[pn+1]=Vn-Gt[pn+1];break;case 90:for(let pn=0,zn=Gt.length;pn<zn;pn+=2){const Tn=Gt[pn];Gt[pn]=Gt[pn+1]+En,Gt[pn+1]=Tn+Cn}break;case 180:for(let pn=0,zn=Gt.length;pn<zn;pn+=2)Gt[pn]=Rn-Gt[pn],Gt[pn+1]+=Cn;break;case 270:for(let pn=0,zn=Gt.length;pn<zn;pn+=2){const Tn=Gt[pn];Gt[pn]=Rn-Gt[pn+1],Gt[pn+1]=Vn-Tn}break;default:throw new Error("Invalid rotation")}return Gt},Nn=new WeakSet,Us=function(Gt,yn,Pn){const[En,Cn,Rn,Vn]=yn;switch(Pn){case 0:for(let pn=0,zn=Gt.length;pn<zn;pn+=2)Gt[pn]-=En,Gt[pn+1]=Vn-Gt[pn+1];break;case 90:for(let pn=0,zn=Gt.length;pn<zn;pn+=2){const Tn=Gt[pn];Gt[pn]=Gt[pn+1]-Cn,Gt[pn+1]=Tn-En}break;case 180:for(let pn=0,zn=Gt.length;pn<zn;pn+=2)Gt[pn]=Rn-Gt[pn],Gt[pn+1]-=Cn;break;case 270:for(let pn=0,zn=Gt.length;pn<zn;pn+=2){const Tn=Gt[pn];Gt[pn]=Vn-Gt[pn+1],Gt[pn+1]=Rn-Tn}break;default:throw new Error("Invalid rotation")}return Gt},jn=new WeakSet,Bs=function(Gt,yn,Pn,En){var zn,Tn;const Cn=[],Rn=this.thickness/2,Vn=Gt*yn+Rn,pn=Gt*Pn+Rn;for(const Lt of this.paths){const nt=[],Tt=[];for(let Dt=0,$t=Lt.length;Dt<$t;Dt++){const[Vt,nn,hn,An]=Lt[Dt],Sn=Gt*Vt[0]+Vn,Un=Gt*Vt[1]+pn,wn=Gt*nn[0]+Vn,xn=Gt*nn[1]+pn,On=Gt*hn[0]+Vn,Bn=Gt*hn[1]+pn,Wn=Gt*An[0]+Vn,Hn=Gt*An[1]+pn;Dt===0&&(nt.push(Sn,Un),Tt.push(Sn,Un)),nt.push(wn,xn,On,Bn,Wn,Hn),Tt.push(wn,xn),Dt===$t-1&&Tt.push(Wn,Hn)}Cn.push({bezier:Bt(zn=gn,_n,os).call(zn,nt,En,this.rotation),points:Bt(Tn=gn,_n,os).call(Tn,Tt,En,this.rotation)})}return Cn},Dn=new WeakSet,as=function(){let Gt=1/0,yn=-1/0,Pn=1/0,En=-1/0;for(const Cn of this.paths)for(const[Rn,Vn,pn,zn]of Cn){const Tn=g.Util.bezierBoundingBox(...Rn,...Vn,...pn,...zn);Gt=Math.min(Gt,Tn[0]),Pn=Math.min(Pn,Tn[1]),yn=Math.max(yn,Tn[2]),En=Math.max(En,Tn[3])}return[Gt,Pn,yn,En]},on=new WeakSet,Tr=function(){return _e(this,mt)?Math.ceil(this.thickness*this.parentScale):0},zt=new WeakSet,ar=function(Gt=!1){if(this.isEmpty())return;if(!_e(this,mt)){Bt(this,Ot,Jn).call(this);return}const yn=Bt(this,Dn,as).call(this),Pn=Bt(this,on,Tr).call(this);en(this,at,Math.max(_.AnnotationEditor.MIN_SIZE,yn[2]-yn[0])),en(this,lt,Math.max(_.AnnotationEditor.MIN_SIZE,yn[3]-yn[1]));const En=Math.ceil(Pn+_e(this,at)*this.scaleFactor),Cn=Math.ceil(Pn+_e(this,lt)*this.scaleFactor),[Rn,Vn]=this.parentDimensions;this.width=En/Rn,this.height=Cn/Vn,this.setAspectRatio(En,Cn);const pn=this.translationX,zn=this.translationY;this.translationX=-yn[0],this.translationY=-yn[1],Bt(this,Mn,or).call(this),Bt(this,Ot,Jn).call(this),en(this,pt,En),en(this,rt,Cn),this.setDims(En,Cn);const Tn=Gt?Pn/this.scaleFactor/2:0;this.translate(pn-this.translationX-Tn,zn-this.translationY-Tn)},It(gn,an),It(gn,_n),It(gn,Nn),Yn(gn,"_defaultColor",null),Yn(gn,"_defaultOpacity",1),Yn(gn,"_defaultThickness",1),Yn(gn,"_type","ink");let et=gn;o.InkEditor=et},(e,o,a)=>{var et,lt,at,At,St,Et,yt,_t,mt,ot,it,pr,pt,gr,dt,Pr,vt,ls,kt,zs,Nt,Ws,Pt,cs,Xt,Cr,Mt,Vs;Object.defineProperty(o,"__esModule",{value:!0}),o.StampEditor=void 0;var g=a(1),_=a(4),j=a(6),$=a(29);const Ht=class Ht extends _.AnnotationEditor{constructor(Ct){super({...Ct,name:"stampEditor"});It(this,it);It(this,pt);It(this,dt);It(this,vt);It(this,kt);It(this,Nt);It(this,Pt);It(this,Xt);It(this,Mt);It(this,et,null);It(this,lt,null);It(this,at,null);It(this,At,null);It(this,St,null);It(this,Et,null);It(this,yt,null);It(this,_t,null);It(this,mt,!1);It(this,ot,!1);en(this,At,Ct.bitmapUrl),en(this,St,Ct.bitmapFile)}static initialize(Ct){_.AnnotationEditor.initialize(Ct)}static get supportedTypes(){const Ct=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,g.shadow)(this,"supportedTypes",Ct.map(tt=>`image/${tt}`))}static get supportedTypesStr(){return(0,g.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(Ct){return this.supportedTypes.includes(Ct)}static paste(Ct,tt){tt.pasteEditor(g.AnnotationEditorType.STAMP,{bitmapFile:Ct.getAsFile()})}remove(){var Ct,tt;_e(this,lt)&&(en(this,et,null),this._uiManager.imageManager.deleteId(_e(this,lt)),(Ct=_e(this,Et))==null||Ct.remove(),en(this,Et,null),(tt=_e(this,yt))==null||tt.disconnect(),en(this,yt,null)),super.remove()}rebuild(){if(!this.parent){_e(this,lt)&&Bt(this,dt,Pr).call(this);return}super.rebuild(),this.div!==null&&(_e(this,lt)&&Bt(this,dt,Pr).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(_e(this,at)||_e(this,et)||_e(this,At)||_e(this,St))}get isResizable(){return!0}render(){if(this.div)return this.div;let Ct,tt;if(this.width&&(Ct=this.x,tt=this.y),super.render(),this.div.hidden=!0,_e(this,et)?Bt(this,vt,ls).call(this):Bt(this,dt,Pr).call(this),this.width){const[ut,st]=this.parentDimensions;this.setAt(Ct*ut,tt*st,this.width*ut,this.height*st)}return this.div}static deserialize(Ct,tt,ut){if(Ct instanceof $.StampAnnotationElement)return null;const st=super.deserialize(Ct,tt,ut),{rect:gt,bitmapUrl:bt,bitmapId:Rt,isSvg:Ft,accessibilityData:Ot}=Ct;Rt&&ut.imageManager.isValidId(Rt)?en(st,lt,Rt):en(st,At,bt),en(st,mt,Ft);const[Jt,qt]=st.pageDimensions;return st.width=(gt[2]-gt[0])/Jt,st.height=(gt[3]-gt[1])/qt,Ot&&(st.altTextData=Ot),st}serialize(Ct=!1,tt=null){if(this.isEmpty())return null;const ut={annotationType:g.AnnotationEditorType.STAMP,bitmapId:_e(this,lt),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:_e(this,mt),structTreeParentId:this._structTreeParentId};if(Ct)return ut.bitmapUrl=Bt(this,Xt,Cr).call(this,!0),ut.accessibilityData=this.altTextData,ut;const{decorative:st,altText:gt}=this.altTextData;if(!st&&gt&&(ut.accessibilityData={type:"Figure",alt:gt}),tt===null)return ut;tt.stamps||(tt.stamps=new Map);const bt=_e(this,mt)?(ut.rect[2]-ut.rect[0])*(ut.rect[3]-ut.rect[1]):null;if(!tt.stamps.has(_e(this,lt)))tt.stamps.set(_e(this,lt),{area:bt,serialized:ut}),ut.bitmap=Bt(this,Xt,Cr).call(this,!1);else if(_e(this,mt)){const Rt=tt.stamps.get(_e(this,lt));bt>Rt.area&&(Rt.area=bt,Rt.serialized.bitmap.close(),Rt.serialized.bitmap=Bt(this,Xt,Cr).call(this,!1))}return ut}};et=new WeakMap,lt=new WeakMap,at=new WeakMap,At=new WeakMap,St=new WeakMap,Et=new WeakMap,yt=new WeakMap,_t=new WeakMap,mt=new WeakMap,ot=new WeakMap,it=new WeakSet,pr=function(Ct,tt=!1){if(!Ct){this.remove();return}en(this,et,Ct.bitmap),tt||(en(this,lt,Ct.id),en(this,mt,Ct.isSvg)),Bt(this,vt,ls).call(this)},pt=new WeakSet,gr=function(){en(this,at,null),this._uiManager.enableWaiting(!1),_e(this,Et)&&this.div.focus()},dt=new WeakSet,Pr=function(){if(_e(this,lt)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(_e(this,lt)).then(tt=>Bt(this,it,pr).call(this,tt,!0)).finally(()=>Bt(this,pt,gr).call(this));return}if(_e(this,At)){const tt=_e(this,At);en(this,At,null),this._uiManager.enableWaiting(!0),en(this,at,this._uiManager.imageManager.getFromUrl(tt).then(ut=>Bt(this,it,pr).call(this,ut)).finally(()=>Bt(this,pt,gr).call(this)));return}if(_e(this,St)){const tt=_e(this,St);en(this,St,null),this._uiManager.enableWaiting(!0),en(this,at,this._uiManager.imageManager.getFromFile(tt).then(ut=>Bt(this,it,pr).call(this,ut)).finally(()=>Bt(this,pt,gr).call(this)));return}const Ct=document.createElement("input");Ct.type="file",Ct.accept=Ht.supportedTypesStr,en(this,at,new Promise(tt=>{Ct.addEventListener("change",async()=>{if(!Ct.files||Ct.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const ut=await this._uiManager.imageManager.getFromFile(Ct.files[0]);Bt(this,it,pr).call(this,ut)}tt()}),Ct.addEventListener("cancel",()=>{this.remove(),tt()})}).finally(()=>Bt(this,pt,gr).call(this))),Ct.click()},vt=new WeakSet,ls=function(){const{div:Ct}=this;let{width:tt,height:ut}=_e(this,et);const[st,gt]=this.pageDimensions,bt=.75;if(this.width)tt=this.width*st,ut=this.height*gt;else if(tt>bt*st||ut>bt*gt){const Jt=Math.min(bt*st/tt,bt*gt/ut);tt*=Jt,ut*=Jt}const[Rt,Ft]=this.parentDimensions;this.setDims(tt*Rt/st,ut*Ft/gt),this._uiManager.enableWaiting(!1);const Ot=en(this,Et,document.createElement("canvas"));Ct.append(Ot),Ct.hidden=!1,Bt(this,Pt,cs).call(this,tt,ut),Bt(this,Mt,Vs).call(this),_e(this,ot)||(this.parent.addUndoableEditor(this),en(this,ot,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},kt=new WeakSet,zs=function(Ct,tt){var bt;const[ut,st]=this.parentDimensions;this.width=Ct/ut,this.height=tt/st,this.setDims(Ct,tt),(bt=this._initialOptions)!=null&&bt.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,_e(this,_t)!==null&&clearTimeout(_e(this,_t)),en(this,_t,setTimeout(()=>{en(this,_t,null),Bt(this,Pt,cs).call(this,Ct,tt)},200))},Nt=new WeakSet,Ws=function(Ct,tt){const{width:ut,height:st}=_e(this,et);let gt=ut,bt=st,Rt=_e(this,et);for(;gt>2*Ct||bt>2*tt;){const Ft=gt,Ot=bt;gt>2*Ct&&(gt=gt>=16384?Math.floor(gt/2)-1:Math.ceil(gt/2)),bt>2*tt&&(bt=bt>=16384?Math.floor(bt/2)-1:Math.ceil(bt/2));const Jt=new OffscreenCanvas(gt,bt);Jt.getContext("2d").drawImage(Rt,0,0,Ft,Ot,0,0,gt,bt),Rt=Jt.transferToImageBitmap()}return Rt},Pt=new WeakSet,cs=function(Ct,tt){Ct=Math.ceil(Ct),tt=Math.ceil(tt);const ut=_e(this,Et);if(!ut||ut.width===Ct&&ut.height===tt)return;ut.width=Ct,ut.height=tt;const st=_e(this,mt)?_e(this,et):Bt(this,Nt,Ws).call(this,Ct,tt),gt=ut.getContext("2d");gt.filter=this._uiManager.hcmFilter,gt.drawImage(st,0,0,st.width,st.height,0,0,Ct,tt)},Xt=new WeakSet,Cr=function(Ct){if(Ct){if(_e(this,mt)){const st=this._uiManager.imageManager.getSvgUrl(_e(this,lt));if(st)return st}const tt=document.createElement("canvas");return{width:tt.width,height:tt.height}=_e(this,et),tt.getContext("2d").drawImage(_e(this,et),0,0),tt.toDataURL()}if(_e(this,mt)){const[tt,ut]=this.pageDimensions,st=Math.round(this.width*tt*j.PixelsPerInch.PDF_TO_CSS_UNITS),gt=Math.round(this.height*ut*j.PixelsPerInch.PDF_TO_CSS_UNITS),bt=new OffscreenCanvas(st,gt);return bt.getContext("2d").drawImage(_e(this,et),0,0,_e(this,et).width,_e(this,et).height,0,0,st,gt),bt.transferToImageBitmap()}return structuredClone(_e(this,et))},Mt=new WeakSet,Vs=function(){en(this,yt,new ResizeObserver(Ct=>{const tt=Ct[0].contentRect;tt.width&&tt.height&&Bt(this,kt,zs).call(this,tt.width,tt.height)})),_e(this,yt).observe(this.div)},Yn(Ht,"_type","stamp");let ft=Ht;o.StampEditor=ft}],__webpack_module_cache__={};function __w_pdfjs_require__(e){var o=__webpack_module_cache__[e];if(o!==void 0)return o.exports;var a=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](a,a.exports,__w_pdfjs_require__),a.exports}var __webpack_exports__={};return(()=>{var e=__webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AbortException",{enumerable:!0,get:function(){return o.AbortException}}),Object.defineProperty(e,"AnnotationEditorLayer",{enumerable:!0,get:function(){return j.AnnotationEditorLayer}}),Object.defineProperty(e,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return o.AnnotationEditorParamsType}}),Object.defineProperty(e,"AnnotationEditorType",{enumerable:!0,get:function(){return o.AnnotationEditorType}}),Object.defineProperty(e,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return $.AnnotationEditorUIManager}}),Object.defineProperty(e,"AnnotationLayer",{enumerable:!0,get:function(){return ft.AnnotationLayer}}),Object.defineProperty(e,"AnnotationMode",{enumerable:!0,get:function(){return o.AnnotationMode}}),Object.defineProperty(e,"CMapCompressionType",{enumerable:!0,get:function(){return o.CMapCompressionType}}),Object.defineProperty(e,"DOMSVGFactory",{enumerable:!0,get:function(){return g.DOMSVGFactory}}),Object.defineProperty(e,"FeatureTest",{enumerable:!0,get:function(){return o.FeatureTest}}),Object.defineProperty(e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return et.GlobalWorkerOptions}}),Object.defineProperty(e,"ImageKind",{enumerable:!0,get:function(){return o.ImageKind}}),Object.defineProperty(e,"InvalidPDFException",{enumerable:!0,get:function(){return o.InvalidPDFException}}),Object.defineProperty(e,"MissingPDFException",{enumerable:!0,get:function(){return o.MissingPDFException}}),Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return o.OPS}}),Object.defineProperty(e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return a.PDFDataRangeTransport}}),Object.defineProperty(e,"PDFDateString",{enumerable:!0,get:function(){return g.PDFDateString}}),Object.defineProperty(e,"PDFWorker",{enumerable:!0,get:function(){return a.PDFWorker}}),Object.defineProperty(e,"PasswordResponses",{enumerable:!0,get:function(){return o.PasswordResponses}}),Object.defineProperty(e,"PermissionFlag",{enumerable:!0,get:function(){return o.PermissionFlag}}),Object.defineProperty(e,"PixelsPerInch",{enumerable:!0,get:function(){return g.PixelsPerInch}}),Object.defineProperty(e,"PromiseCapability",{enumerable:!0,get:function(){return o.PromiseCapability}}),Object.defineProperty(e,"RenderingCancelledException",{enumerable:!0,get:function(){return g.RenderingCancelledException}}),Object.defineProperty(e,"SVGGraphics",{enumerable:!0,get:function(){return a.SVGGraphics}}),Object.defineProperty(e,"UnexpectedResponseException",{enumerable:!0,get:function(){return o.UnexpectedResponseException}}),Object.defineProperty(e,"Util",{enumerable:!0,get:function(){return o.Util}}),Object.defineProperty(e,"VerbosityLevel",{enumerable:!0,get:function(){return o.VerbosityLevel}}),Object.defineProperty(e,"XfaLayer",{enumerable:!0,get:function(){return lt.XfaLayer}}),Object.defineProperty(e,"build",{enumerable:!0,get:function(){return a.build}}),Object.defineProperty(e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return o.createValidAbsoluteUrl}}),Object.defineProperty(e,"getDocument",{enumerable:!0,get:function(){return a.getDocument}}),Object.defineProperty(e,"getFilenameFromUrl",{enumerable:!0,get:function(){return g.getFilenameFromUrl}}),Object.defineProperty(e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return g.getPdfFilenameFromUrl}}),Object.defineProperty(e,"getXfaPageViewport",{enumerable:!0,get:function(){return g.getXfaPageViewport}}),Object.defineProperty(e,"isDataScheme",{enumerable:!0,get:function(){return g.isDataScheme}}),Object.defineProperty(e,"isPdfFile",{enumerable:!0,get:function(){return g.isPdfFile}}),Object.defineProperty(e,"loadScript",{enumerable:!0,get:function(){return g.loadScript}}),Object.defineProperty(e,"noContextMenu",{enumerable:!0,get:function(){return g.noContextMenu}}),Object.defineProperty(e,"normalizeUnicode",{enumerable:!0,get:function(){return o.normalizeUnicode}}),Object.defineProperty(e,"renderTextLayer",{enumerable:!0,get:function(){return _.renderTextLayer}}),Object.defineProperty(e,"setLayerDimensions",{enumerable:!0,get:function(){return g.setLayerDimensions}}),Object.defineProperty(e,"shadow",{enumerable:!0,get:function(){return o.shadow}}),Object.defineProperty(e,"updateTextLayer",{enumerable:!0,get:function(){return _.updateTextLayer}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return a.version}});var o=__w_pdfjs_require__(1),a=__w_pdfjs_require__(2),g=__w_pdfjs_require__(6),_=__w_pdfjs_require__(26),j=__w_pdfjs_require__(27),$=__w_pdfjs_require__(5),ft=__w_pdfjs_require__(29),et=__w_pdfjs_require__(14),lt=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf$1);var pdfExports=pdf$1.exports;const pdf=getDefaultExportFromCjs(pdfExports),pdfjsModule=_mergeNamespaces({__proto__:null,default:pdf},[pdfExports]),pdfjs="default"in pdfjsModule?pdf:pdfjsModule,pdfjs$1=pdfjs;var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function e(g,_,j,$,ft,et){if(et!==ReactPropTypesSecret){var lt=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw lt.name="Invariant Violation",lt}}e.isRequired=e;function o(){return e}var a={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:o,element:e,elementType:e,instanceOf:o,node:e,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return a.PropTypes=a,a};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports);var __spreadArray=globalThis&&globalThis.__spreadArray||function(e,o,a){if(a||arguments.length===2)for(var g=0,_=o.length,j;g<_;g++)(j||!(g in o))&&(j||(j=Array.prototype.slice.call(o,0,g)),j[g]=o[g]);return e.concat(j||Array.prototype.slice.call(o))},clipboardEvents=["onCopy","onCut","onPaste"],compositionEvents=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],focusEvents=["onFocus","onBlur"],formEvents=["onInput","onInvalid","onReset","onSubmit"],imageEvents=["onLoad","onError"],keyboardEvents=["onKeyDown","onKeyPress","onKeyUp"],mediaEvents=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],mouseEvents=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],dragEvents=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],selectionEvents=["onSelect"],touchEvents=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],pointerEvents=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],uiEvents=["onScroll"],wheelEvents=["onWheel"],animationEvents=["onAnimationStart","onAnimationEnd","onAnimationIteration"],transitionEvents=["onTransitionEnd"],otherEvents=["onToggle"],changeEvents=["onChange"],allEvents=__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray([],clipboardEvents,!0),compositionEvents,!0),focusEvents,!0),formEvents,!0),imageEvents,!0),keyboardEvents,!0),mediaEvents,!0),mouseEvents,!0),dragEvents,!0),selectionEvents,!0),touchEvents,!0),pointerEvents,!0),uiEvents,!0),wheelEvents,!0),animationEvents,!0),transitionEvents,!0),changeEvents,!0),otherEvents,!0);function makeEventProps(e,o){var a={};return allEvents.forEach(function(g){var _=e[g];_&&(o?a[g]=function(j){return _(j,o(g))}:a[g]=_)}),a}function makeCancellablePromise(e){var o=!1,a=new Promise(function(g,_){e.then(function(j){return!o&&g(j)}).catch(function(j){return!o&&_(j)})});return{promise:a,cancel:function(){o=!0}}}function r(e){var o,a,g="";if(typeof e=="string"||typeof e=="number")g+=e;else if(typeof e=="object")if(Array.isArray(e))for(o=0;o<e.length;o++)e[o]&&(a=r(e[o]))&&(g&&(g+=" "),g+=a);else for(o in e)e[o]&&(g&&(g+=" "),g+=o);return g}function clsx(){for(var e,o,a=0,g="";a<arguments.length;)(e=arguments[a++])&&(o=r(e))&&(g&&(g+=" "),g+=o);return g}var isProduction=!0,prefix="Invariant failed";function invariant(e,o){if(!e){if(isProduction)throw new Error(prefix);var a=typeof o=="function"?o():o,g=a?"".concat(prefix,": ").concat(a):prefix;throw new Error(g)}}function warning(e,o){}const DocumentContext=reactExports.createContext(null);function Message({children:e,type:o}){return React.createElement("div",{className:`react-pdf__message react-pdf__message--${o}`},e)}const DEFAULT_LINK_REL="noopener noreferrer nofollow";class LinkService{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(o){this.pdfDocument=o}setViewer(o){this.pdfViewer=o}setExternalLinkRel(o){this.externalLinkRel=o}setExternalLinkTarget(o){this.externalLinkTarget=o}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return invariant(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber||0}set page(o){invariant(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber=o}get rotation(){return 0}set rotation(o){}goToDestination(o){return new Promise(a=>{invariant(this.pdfDocument,"PDF document not loaded."),invariant(o,"Destination is not specified."),typeof o=="string"?this.pdfDocument.getDestination(o).then(a):Array.isArray(o)?a(o):o.then(a)}).then(a=>{invariant(Array.isArray(a),`"${a}" is not a valid destination array.`);const g=a[0];new Promise(_=>{invariant(this.pdfDocument,"PDF document not loaded."),g instanceof Object?this.pdfDocument.getPageIndex(g).then(j=>{_(j)}).catch(()=>{invariant(!1,`"${g}" is not a valid page reference.`)}):typeof g=="number"?_(g):invariant(!1,`"${g}" is not a valid destination reference.`)}).then(_=>{const j=_+1;invariant(this.pdfViewer,"PDF viewer is not initialized."),invariant(j>=1&&j<=this.pagesCount,`"${j}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({dest:a,pageIndex:_,pageNumber:j})})})}navigateTo(o){this.goToDestination(o)}goToPage(o){const a=o-1;invariant(this.pdfViewer,"PDF viewer is not initialized."),invariant(o>=1&&o<=this.pagesCount,`"${o}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({pageIndex:a,pageNumber:o})}addLinkAttributes(o,a,g){o.href=a,o.rel=this.externalLinkRel||DEFAULT_LINK_REL,o.target=g?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},PasswordResponses$1=PasswordResponses,isBrowser=typeof document<"u",isLocalFileSystem=isBrowser&&window.location.protocol==="file:";function isDefined(e){return typeof e<"u"}function isProvided(e){return isDefined(e)&&e!==null}function isString(e){return typeof e=="string"}function isArrayBuffer(e){return e instanceof ArrayBuffer}function isBlob(e){return invariant(isBrowser,"isBlob can only be used in a browser environment"),e instanceof Blob}function isDataURI(e){return isString(e)&&/^data:/.test(e)}function dataURItoByteString(e){invariant(isDataURI(e),"Invalid data URI.");const[o="",a=""]=e.split(",");return o.split(";").indexOf("base64")!==-1?atob(a):unescape(a)}function getDevicePixelRatio(){return isBrowser&&window.devicePixelRatio||1}function displayWorkerWarning(){}function cancelRunningTask(e){e&&e.cancel&&e.cancel()}function makePageCallback(e,o){return Object.defineProperty(e,"width",{get(){return this.view[2]*o},configurable:!0}),Object.defineProperty(e,"height",{get(){return this.view[3]*o},configurable:!0}),Object.defineProperty(e,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(e,"originalHeight",{get(){return this.view[3]},configurable:!0}),e}function isCancelException(e){return e.name==="RenderingCancelledException"}function loadFromFile(e){return new Promise((o,a)=>{const g=new FileReader;g.onload=()=>{if(!g.result)return a(new Error("Error while reading a file."));o(g.result)},g.onerror=_=>{if(!_.target)return a(new Error("Error while reading a file."));const{error:j}=_.target;if(!j)return a(new Error("Error while reading a file."));switch(j.code){case j.NOT_FOUND_ERR:return a(new Error("Error while reading a file: File not found."));case j.SECURITY_ERR:return a(new Error("Error while reading a file: Security error."));case j.ABORT_ERR:return a(new Error("Error while reading a file: Aborted."));default:return a(new Error("Error while reading a file."))}},g.readAsArrayBuffer(e)})}function reducer(e,o){switch(o.type){case"RESOLVE":return{value:o.value,error:void 0};case"REJECT":return{value:!1,error:o.error};case"RESET":return{value:void 0,error:void 0};default:return e}}function useResolver(){return reactExports.useReducer(reducer,{value:void 0,error:void 0})}const{PDFDataRangeTransport:PDFDataRangeTransport$1}=pdfjs$1,eventProps=(()=>{const e={};return allEvents.forEach(o=>{e[o]=PropTypes.func}),e})(),isTypedArray=PropTypes.oneOfType([PropTypes.instanceOf(Int8Array),PropTypes.instanceOf(Uint8Array),PropTypes.instanceOf(Uint8ClampedArray),PropTypes.instanceOf(Int16Array),PropTypes.instanceOf(Uint16Array),PropTypes.instanceOf(Int32Array),PropTypes.instanceOf(Uint32Array),PropTypes.instanceOf(Float32Array),PropTypes.instanceOf(Float64Array)]),fileTypes=[PropTypes.string,PropTypes.instanceOf(ArrayBuffer),PropTypes.shape({data:PropTypes.oneOfType([PropTypes.string,PropTypes.instanceOf(ArrayBuffer),PropTypes.arrayOf(PropTypes.number.isRequired),isTypedArray]).isRequired}),PropTypes.shape({range:PropTypes.instanceOf(PDFDataRangeTransport$1).isRequired}),PropTypes.shape({url:PropTypes.string.isRequired})];typeof Blob<"u"&&fileTypes.push(PropTypes.instanceOf(Blob));const isClassName=PropTypes.oneOfType([PropTypes.string,PropTypes.arrayOf(PropTypes.string)]),isFile=PropTypes.oneOfType(fileTypes);PropTypes.instanceOf(LinkService);PropTypes.oneOf(["_self","_blank","_parent","_top"]);PropTypes.shape({commonObjs:PropTypes.shape({}).isRequired,getAnnotations:PropTypes.func.isRequired,getTextContent:PropTypes.func.isRequired,getViewport:PropTypes.func.isRequired,render:PropTypes.func.isRequired});const isPageIndex=function e(o,a,g){const{[a]:_,pageNumber:j,pdf:$}=o;if(!isDefined($))return null;if(isDefined(_)){if(typeof _!="number")return new Error(`\`${a}\` of type \`${typeof _}\` supplied to \`${g}\`, expected \`number\`.`);if(_<0)return new Error(`Expected \`${a}\` to be greater or equal to 0.`);const{numPages:ft}=$;if(_+1>ft)return new Error(`Expected \`${a}\` to be less or equal to ${ft-1}.`)}else if(!isDefined(j))return new Error(`\`${a}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${g}\`.`);return null},isPageNumber=function e(o,a,g){const{[a]:_,pageIndex:j,pdf:$}=o;if(!isDefined($))return null;if(isDefined(_)){if(typeof _!="number")return new Error(`\`${a}\` of type \`${typeof _}\` supplied to \`${g}\`, expected \`number\`.`);if(_<1)return new Error(`Expected \`${a}\` to be greater or equal to 1.`);const{numPages:ft}=$;if(_>ft)return new Error(`Expected \`${a}\` to be less or equal to ${ft}.`)}else if(!isDefined(j))return new Error(`\`${a}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${g}\`.`);return null},isPdf=PropTypes.oneOfType([PropTypes.any,PropTypes.oneOf([!1])]),isRef=PropTypes.oneOfType([PropTypes.func,PropTypes.exact({current:PropTypes.any})]),isRenderMode=PropTypes.oneOf(["canvas","custom","none","svg"]),isRotate=PropTypes.oneOf([0,90,180,270]);var __awaiter=globalThis&&globalThis.__awaiter||function(e,o,a,g){function _(j){return j instanceof a?j:new a(function($){$(j)})}return new(a||(a=Promise))(function(j,$){function ft(at){try{lt(g.next(at))}catch(At){$(At)}}function et(at){try{lt(g.throw(at))}catch(At){$(At)}}function lt(at){at.done?j(at.value):_(at.value).then(ft,et)}lt((g=g.apply(e,o||[])).next())})},__rest$1=globalThis&&globalThis.__rest||function(e,o){var a={};for(var g in e)Object.prototype.hasOwnProperty.call(e,g)&&o.indexOf(g)<0&&(a[g]=e[g]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var _=0,g=Object.getOwnPropertySymbols(e);_<g.length;_++)o.indexOf(g[_])<0&&Object.prototype.propertyIsEnumerable.call(e,g[_])&&(a[g[_]]=e[g[_]]);return a};const{PDFDataRangeTransport}=pdfjs$1,defaultOnPassword=(e,o)=>{switch(o){case PasswordResponses$1.NEED_PASSWORD:{const a=prompt("Enter the password to open this PDF file.");e(a);break}case PasswordResponses$1.INCORRECT_PASSWORD:{const a=prompt("Invalid password. Please try again.");e(a);break}}},Document=reactExports.forwardRef(function e(o,a){var{children:g,className:_,error:j="Failed to load PDF file.",externalLinkRel:$,externalLinkTarget:ft,file:et,inputRef:lt,imageResourcesPath:at,loading:At="Loading PDF…",noData:St="No PDF file specified.",onItemClick:Et,onLoadError:yt,onLoadProgress:_t,onLoadSuccess:mt,onPassword:ot=defaultOnPassword,onSourceError:it,onSourceSuccess:ct,options:pt,renderMode:rt,rotate:dt}=o,xt=__rest$1(o,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[vt,ht]=useResolver(),{value:kt,error:wt}=vt,[Nt,jt]=useResolver(),{value:Pt,error:Ut}=Nt,Xt=reactExports.useRef(new LinkService),tn=reactExports.useRef([]),Mt=reactExports.useRef({scrollPageIntoView:Kt=>{const{dest:rn,pageNumber:dn,pageIndex:sn=dn-1}=Kt;if(Et){Et({dest:rn,pageIndex:sn,pageNumber:dn});return}const bn=tn.current[sn];if(bn){bn.scrollIntoView();return}}});reactExports.useImperativeHandle(a,()=>({linkService:Xt,pages:tn,viewer:Mt}),[]);function Wt(){ct&&ct()}function Ht(){wt&&(wt.toString(),it&&it(wt))}function ln(){ht({type:"RESET"})}reactExports.useEffect(ln,[et,ht]);const cn=reactExports.useCallback(()=>__awaiter(this,void 0,void 0,function*(){if(!et)return null;if(typeof et=="string")return isDataURI(et)?{data:dataURItoByteString(et)}:{url:et};if(et instanceof PDFDataRangeTransport)return{range:et};if(isArrayBuffer(et))return{data:et};if(isBrowser&&isBlob(et))return{data:yield loadFromFile(et)};if(invariant(typeof et=="object","Invalid parameter in file, need either Uint8Array, string or a parameter object"),invariant("data"in et||"range"in et||"url"in et,"Invalid parameter object: need either .data, .range or .url"),"url"in et&&typeof et.url=="string"&&isDataURI(et.url)){const{url:Kt}=et,rn=__rest$1(et,["url"]),dn=dataURItoByteString(Kt);return Object.assign({data:dn},rn)}return et}),[et]);reactExports.useEffect(()=>{const Kt=makeCancellablePromise(cn());return Kt.promise.then(rn=>{ht({type:"RESOLVE",value:rn})}).catch(rn=>{ht({type:"REJECT",error:rn})}),()=>{cancelRunningTask(Kt)}},[cn,ht]),reactExports.useEffect(()=>{if(!(typeof kt>"u")){if(kt===!1){Ht();return}Wt()}},[kt]);function Ct(){Pt&&(mt&&mt(Pt),tn.current=new Array(Pt.numPages),Xt.current.setDocument(Pt))}function tt(){Ut&&(Ut.toString(),yt&&yt(Ut))}function ut(){jt({type:"RESET"})}reactExports.useEffect(ut,[jt,kt]);function st(){if(!kt)return;const Kt=pt?Object.assign(Object.assign({},kt),pt):kt,rn=pdfjs$1.getDocument(Kt);_t&&(rn.onProgress=_t),ot&&(rn.onPassword=ot);const dn=rn;return dn.promise.then(sn=>{jt({type:"RESOLVE",value:sn})}).catch(sn=>{dn.destroyed||jt({type:"REJECT",error:sn})}),()=>{dn.destroy()}}reactExports.useEffect(st,[pt,jt,kt]),reactExports.useEffect(()=>{if(!(typeof Pt>"u")){if(Pt===!1){tt();return}Ct()}},[Pt]);function gt(){Xt.current.setViewer(Mt.current),Xt.current.setExternalLinkRel($),Xt.current.setExternalLinkTarget(ft)}reactExports.useEffect(gt,[$,ft]);function bt(Kt,rn){tn.current[Kt]=rn}function Rt(Kt){delete tn.current[Kt]}const Ft=reactExports.useMemo(()=>({imageResourcesPath:at,linkService:Xt.current,onItemClick:Et,pdf:Pt,registerPage:bt,renderMode:rt,rotate:dt,unregisterPage:Rt}),[at,Et,Pt,rt,dt]),Ot=reactExports.useMemo(()=>makeEventProps(xt,()=>Pt),[xt,Pt]);function Jt(){return React.createElement(DocumentContext.Provider,{value:Ft},g)}function qt(){return et?Pt==null?React.createElement(Message,{type:"loading"},typeof At=="function"?At():At):Pt===!1?React.createElement(Message,{type:"error"},typeof j=="function"?j():j):Jt():React.createElement(Message,{type:"no-data"},typeof St=="function"?St():St)}return React.createElement("div",Object.assign({className:clsx("react-pdf__Document",_),ref:lt,style:{"--scale-factor":"1"}},Ot),qt())}),isFunctionOrNode$1=PropTypes.oneOfType([PropTypes.func,PropTypes.node]);Document.propTypes=Object.assign(Object.assign({},eventProps),{children:PropTypes.node,className:isClassName,error:isFunctionOrNode$1,externalLinkRel:PropTypes.string,externalLinkTarget:PropTypes.oneOf(["_self","_blank","_parent","_top"]),file:isFile,imageResourcesPath:PropTypes.string,inputRef:isRef,loading:isFunctionOrNode$1,noData:isFunctionOrNode$1,onItemClick:PropTypes.func,onLoadError:PropTypes.func,onLoadProgress:PropTypes.func,onLoadSuccess:PropTypes.func,onPassword:PropTypes.func,onSourceError:PropTypes.func,onSourceSuccess:PropTypes.func,options:PropTypes.shape({canvasFactory:PropTypes.any,canvasMaxAreaInBytes:PropTypes.number,cMapPacked:PropTypes.bool,CMapReaderFactory:PropTypes.any,cMapUrl:PropTypes.string,disableAutoFetch:PropTypes.bool,disableFontFace:PropTypes.bool,disableRange:PropTypes.bool,disableStream:PropTypes.bool,docBaseUrl:PropTypes.string,enableXfa:PropTypes.bool,filterFactory:PropTypes.any,fontExtraProperties:PropTypes.bool,httpHeaders:PropTypes.object,isEvalSupported:PropTypes.bool,isOffscreenCanvasSupported:PropTypes.bool,length:PropTypes.number,maxImageSize:PropTypes.number,ownerDocument:PropTypes.any,password:PropTypes.string,pdfBug:PropTypes.bool,rangeChunkSize:PropTypes.number,StandardFontDataFactory:PropTypes.any,standardFontDataUrl:PropTypes.string,stopAtErrors:PropTypes.bool,useSystemFonts:PropTypes.bool,useWorkerFetch:PropTypes.bool,verbosity:PropTypes.number,withCredentials:PropTypes.bool,worker:PropTypes.any}),rotate:PropTypes.number});const Document$1=Document;function useDocumentContext(){return reactExports.useContext(DocumentContext)}function mergeRefs(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var a=e.filter(Boolean);if(a.length<=1){var g=a[0];return g||null}return function(j){a.forEach(function($){typeof $=="function"?$(j):$&&($.current=j)})}}const PageContext=reactExports.createContext(null),PDF_ROLE_TO_HTML_ROLE={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},HEADING_PATTERN=/^H(\d+)$/;function isPdfRole(e){return e in PDF_ROLE_TO_HTML_ROLE}function isStructTreeNode(e){return"children"in e}function isStructTreeNodeWithOnlyContentChild(e){return isStructTreeNode(e)?e.children.length===1&&0 in e.children&&"id"in e.children[0]:!1}function getRoleAttributes(e){const o={};if(isStructTreeNode(e)){const{role:a}=e,g=a.match(HEADING_PATTERN);if(g)o.role="heading",o["aria-level"]=Number(g[1]);else if(isPdfRole(a)){const _=PDF_ROLE_TO_HTML_ROLE[a];_&&(o.role=_)}}return o}function getBaseAttributes(e){const o={};if(isStructTreeNode(e)){if(e.alt!==void 0&&(o["aria-label"]=e.alt),e.lang!==void 0&&(o.lang=e.lang),isStructTreeNodeWithOnlyContentChild(e)){const[a]=e.children;if(a){const g=getBaseAttributes(a);return Object.assign(Object.assign({},o),g)}}}else"id"in e&&(o["aria-owns"]=e.id);return o}function getAttributes(e){return e?Object.assign(Object.assign({},getRoleAttributes(e)),getBaseAttributes(e)):null}function StructTreeItem({className:e,node:o}){const a=reactExports.useMemo(()=>getAttributes(o),[o]),g=reactExports.useMemo(()=>!isStructTreeNode(o)||isStructTreeNodeWithOnlyContentChild(o)?null:o.children.map((_,j)=>React.createElement(StructTreeItem,{key:j,node:_})),[o]);return React.createElement("span",Object.assign({className:e},a),g)}function usePageContext(){return reactExports.useContext(PageContext)}function StructTree(){const e=usePageContext();invariant(e,"Unable to find Page context.");const{onGetStructTreeError:o,onGetStructTreeSuccess:a}=e,[g,_]=useResolver(),{value:j,error:$}=g,{customTextRenderer:ft,page:et}=e;function lt(){j&&a&&a(j)}function at(){$&&($.toString(),o&&o($))}function At(){_({type:"RESET"})}reactExports.useEffect(At,[_,et]);function St(){if(ft||!et)return;const Et=makeCancellablePromise(et.getStructTree()),yt=Et;return Et.promise.then(_t=>{_({type:"RESOLVE",value:_t})}).catch(_t=>{_({type:"REJECT",error:_t})}),()=>cancelRunningTask(yt)}return reactExports.useEffect(St,[ft,et,_]),reactExports.useEffect(()=>{if(j!==void 0){if(j===!1){at();return}lt()}},[j]),j?React.createElement(StructTreeItem,{className:"react-pdf__Page__structTree structTree",node:j}):null}const ANNOTATION_MODE=pdfjs$1.AnnotationMode;function PageCanvas(e){const o=usePageContext();invariant(o,"Unable to find Page context.");const a=Object.assign(Object.assign({},o),e),{_className:g,canvasBackground:_,devicePixelRatio:j=getDevicePixelRatio(),onRenderError:$,onRenderSuccess:ft,page:et,renderForms:lt,renderTextLayer:at,rotate:At,scale:St}=a,{canvasRef:Et}=e;invariant(et,"Attempted to render page canvas, but no page was specified.");const yt=reactExports.useRef(null);function _t(){et&&ft&&ft(makePageCallback(et,St))}function mt(rt){isCancelException(rt)||(rt.toString(),$&&$(rt))}const ot=reactExports.useMemo(()=>et.getViewport({scale:St*j,rotation:At}),[j,et,At,St]),it=reactExports.useMemo(()=>et.getViewport({scale:St,rotation:At}),[et,At,St]);function ct(){if(!et)return;et.cleanup();const{current:rt}=yt;if(!rt)return;rt.width=ot.width,rt.height=ot.height,rt.style.width=`${Math.floor(it.width)}px`,rt.style.height=`${Math.floor(it.height)}px`,rt.style.visibility="hidden";const dt={annotationMode:lt?ANNOTATION_MODE.ENABLE_FORMS:ANNOTATION_MODE.ENABLE,canvasContext:rt.getContext("2d",{alpha:!1}),viewport:ot};_&&(dt.background=_);const xt=et.render(dt),vt=xt;return xt.promise.then(()=>{rt.style.visibility="",_t()}).catch(mt),()=>cancelRunningTask(vt)}reactExports.useEffect(ct,[_,yt,j,et,lt,ot,it]);const pt=reactExports.useCallback(()=>{const{current:rt}=yt;rt&&(rt.width=0,rt.height=0)},[yt]);return reactExports.useEffect(()=>pt,[pt]),React.createElement("canvas",{className:`${g}__canvas`,dir:"ltr",ref:mergeRefs(Et,yt),style:{display:"block",userSelect:"none"}},at?React.createElement(StructTree,null):null)}function PageSVG(){const e=usePageContext();invariant(e,"Unable to find Page context.");const{_className:o,onRenderSuccess:a,onRenderError:g,page:_,rotate:j,scale:$}=e;invariant(_,"Attempted to render page SVG, but no page was specified.");const[ft,et]=useResolver(),{value:lt,error:at}=ft;function At(){_&&a&&a(makePageCallback(_,$))}function St(){at&&(isCancelException(at)||(at.toString(),g&&g(at)))}const Et=reactExports.useMemo(()=>_.getViewport({scale:$,rotation:j}),[_,j,$]);function yt(){et({type:"RESET"})}reactExports.useEffect(yt,[_,et,Et]);function _t(){if(!_)return;const ct=makeCancellablePromise(_.getOperatorList());return ct.promise.then(pt=>{new pdfjs$1.SVGGraphics(_.commonObjs,_.objs).getSVG(pt,Et).then(dt=>{if(!(dt instanceof SVGElement))throw new Error("getSVG returned unexpected result.");et({type:"RESOLVE",value:dt})}).catch(dt=>{et({type:"REJECT",error:dt})})}).catch(pt=>{et({type:"REJECT",error:pt})}),()=>cancelRunningTask(ct)}reactExports.useEffect(_t,[_,et,Et]),reactExports.useEffect(()=>{if(lt!==void 0){if(lt===!1){St();return}At()}},[lt]);function mt(ct){if(!ct||!lt)return;ct.firstElementChild||ct.appendChild(lt);const{width:pt,height:rt}=Et;lt.setAttribute("width",`${pt}`),lt.setAttribute("height",`${rt}`)}const{width:ot,height:it}=Et;return React.createElement("div",{className:`${o}__svg`,ref:ct=>mt(ct),style:{display:"block",backgroundColor:"white",overflow:"hidden",width:ot,height:it,userSelect:"none"}})}function isTextItem(e){return"str"in e}function TextLayer(){const e=usePageContext();invariant(e,"Unable to find Page context.");const{customTextRenderer:o,onGetTextError:a,onGetTextSuccess:g,onRenderTextLayerError:_,onRenderTextLayerSuccess:j,page:$,pageIndex:ft,pageNumber:et,rotate:lt,scale:at}=e;invariant($,"Attempted to load page text content, but no page was specified.");const[At,St]=useResolver(),{value:Et,error:yt}=At,_t=reactExports.useRef(null),mt=reactExports.useRef();parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10);function ot(){Et&&g&&g(Et)}function it(){yt&&(yt.toString(),a&&a(yt))}function ct(){St({type:"RESET"})}reactExports.useEffect(ct,[$,St]);function pt(){if(!$)return;const wt=makeCancellablePromise($.getTextContent()),Nt=wt;return wt.promise.then(jt=>{St({type:"RESOLVE",value:jt})}).catch(jt=>{St({type:"REJECT",error:jt})}),()=>cancelRunningTask(Nt)}reactExports.useEffect(pt,[$,St]),reactExports.useEffect(()=>{if(Et!==void 0){if(Et===!1){it();return}ot()}},[Et]);const rt=reactExports.useCallback(()=>{j&&j()},[j]),dt=reactExports.useCallback(wt=>{wt.toString(),_&&_(wt)},[_]);function xt(){const wt=mt.current;wt&&wt.classList.add("active")}function vt(){const wt=mt.current;wt&&wt.classList.remove("active")}const ht=reactExports.useMemo(()=>$.getViewport({scale:at,rotation:lt}),[$,lt,at]);function kt(){if(!$||!Et)return;const{current:wt}=_t;if(!wt)return;wt.innerHTML="";const Nt=$.streamTextContent({includeMarkedContent:!0}),jt={container:wt,textContentSource:Nt,viewport:ht},Pt=pdfjs$1.renderTextLayer(jt),Ut=Pt;return Pt.promise.then(()=>{const Xt=document.createElement("div");Xt.className="endOfContent",wt.append(Xt),mt.current=Xt;const tn=wt.querySelectorAll('[role="presentation"]');if(o){let Mt=0;Et.items.forEach((Wt,Ht)=>{if(!isTextItem(Wt))return;const ln=tn[Mt];if(!ln)return;const cn=o(Object.assign({pageIndex:ft,pageNumber:et,itemIndex:Ht},Wt));ln.innerHTML=cn,Mt+=Wt.str&&Wt.hasEOL?2:1})}rt()}).catch(dt),()=>cancelRunningTask(Ut)}return reactExports.useLayoutEffect(kt,[o,dt,rt,$,ft,et,Et,ht]),React.createElement("div",{className:clsx("react-pdf__Page__textContent","textLayer"),onMouseUp:vt,onMouseDown:xt,ref:_t})}function AnnotationLayer(){const e=useDocumentContext();invariant(e,"Unable to find Document context. Did you wrap <Page /> in <Document />?");const o=usePageContext();invariant(o,"Unable to find Page context.");const a=Object.assign(Object.assign({},e),o),{imageResourcesPath:g,linkService:_,onGetAnnotationsError:j,onGetAnnotationsSuccess:$,onRenderAnnotationLayerError:ft,onRenderAnnotationLayerSuccess:et,page:lt,pdf:at,renderForms:At,rotate:St,scale:Et=1}=a;invariant(lt,"Attempted to load page annotations, but no page was specified.");const[yt,_t]=useResolver(),{value:mt,error:ot}=yt,it=reactExports.useRef(null);parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10);function ct(){mt&&$&&$(mt)}function pt(){ot&&(ot.toString(),j&&j(ot))}function rt(){_t({type:"RESET"})}reactExports.useEffect(rt,[_t,lt]);function dt(){if(!lt)return;const wt=makeCancellablePromise(lt.getAnnotations()),Nt=wt;return wt.promise.then(jt=>{_t({type:"RESOLVE",value:jt})}).catch(jt=>{_t({type:"REJECT",error:jt})}),()=>{cancelRunningTask(Nt)}}reactExports.useEffect(dt,[_t,lt,At]),reactExports.useEffect(()=>{if(mt!==void 0){if(mt===!1){pt();return}ct()}},[mt]);function xt(){et&&et()}function vt(wt){ft&&ft(wt)}const ht=reactExports.useMemo(()=>lt.getViewport({scale:Et,rotation:St}),[lt,St,Et]);function kt(){if(!at||!lt||!mt)return;const{current:wt}=it;if(!wt)return;const Nt=ht.clone({dontFlip:!0}),jt={accessibilityManager:null,annotationCanvasMap:null,div:wt,l10n:null,page:lt,viewport:Nt},Pt={annotations:mt,annotationStorage:at.annotationStorage,div:wt,downloadManager:null,imageResourcesPath:g,linkService:_,page:lt,renderForms:At,viewport:Nt};wt.innerHTML="";try{new pdfjs$1.AnnotationLayer(jt).render(Pt),xt()}catch(Ut){vt(Ut)}return()=>{}}return reactExports.useEffect(kt,[mt,g,_,lt,At,ht]),React.createElement("div",{className:clsx("react-pdf__Page__annotations","annotationLayer"),ref:it})}var __rest=globalThis&&globalThis.__rest||function(e,o){var a={};for(var g in e)Object.prototype.hasOwnProperty.call(e,g)&&o.indexOf(g)<0&&(a[g]=e[g]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var _=0,g=Object.getOwnPropertySymbols(e);_<g.length;_++)o.indexOf(g[_])<0&&Object.prototype.propertyIsEnumerable.call(e,g[_])&&(a[g[_]]=e[g[_]]);return a};const defaultScale=1,Page=function e(o){const a=useDocumentContext();invariant(a,"Unable to find Document context. Did you wrap <Page /> in <Document />?");const g=Object.assign(Object.assign({},a),o),{_className:_="react-pdf__Page",_enableRegisterUnregisterPage:j=!0,canvasBackground:$,canvasRef:ft,children:et,className:lt,customRenderer:at,customTextRenderer:At,devicePixelRatio:St,error:Et="Failed to load the page.",height:yt,inputRef:_t,loading:mt="Loading page…",noData:ot="No page specified.",onGetAnnotationsError:it,onGetAnnotationsSuccess:ct,onGetStructTreeError:pt,onGetStructTreeSuccess:rt,onGetTextError:dt,onGetTextSuccess:xt,onLoadError:vt,onLoadSuccess:ht,onRenderAnnotationLayerError:kt,onRenderAnnotationLayerSuccess:wt,onRenderError:Nt,onRenderSuccess:jt,onRenderTextLayerError:Pt,onRenderTextLayerSuccess:Ut,pageIndex:Xt,pageNumber:tn,pdf:Mt,registerPage:Wt,renderAnnotationLayer:Ht=!0,renderForms:ln=!1,renderMode:cn="canvas",renderTextLayer:Ct=!0,rotate:tt,scale:ut=defaultScale,unregisterPage:st,width:gt}=g,bt=__rest(g,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Rt,Ft]=useResolver(),{value:Ot,error:Jt}=Rt,qt=reactExports.useRef(null);invariant(Mt,"Attempted to load a page, but no document was specified.");const Kt=isProvided(tn)?tn-1:Xt??null,rn=tn??(isProvided(Xt)?Xt+1:null),dn=tt??(Ot?Ot.rotate:null),sn=reactExports.useMemo(()=>{if(!Ot)return null;let In=1;const Dn=ut??defaultScale;if(gt||yt){const $n=Ot.getViewport({scale:1,rotation:dn});gt?In=gt/$n.width:yt&&(In=yt/$n.height)}return Dn*In},[yt,Ot,dn,ut,gt]);function bn(){return()=>{isProvided(Kt)&&j&&st&&st(Kt)}}reactExports.useEffect(bn,[j,Mt,Kt,st]);function Mn(){if(ht){if(!Ot||!sn)return;ht(makePageCallback(Ot,sn))}if(j&&Wt){if(!isProvided(Kt)||!qt.current)return;Wt(Kt,qt.current)}}function mn(){Jt&&(Jt.toString(),vt&&vt(Jt))}function kn(){Ft({type:"RESET"})}reactExports.useEffect(kn,[Ft,Mt,Kt]);function un(){if(!Mt||!rn)return;const In=makeCancellablePromise(Mt.getPage(rn)),Dn=In;return In.promise.then($n=>{Ft({type:"RESOLVE",value:$n})}).catch($n=>{Ft({type:"REJECT",error:$n})}),()=>cancelRunningTask(Dn)}reactExports.useEffect(un,[Ft,Mt,Kt,rn,Wt]),reactExports.useEffect(()=>{if(Ot!==void 0){if(Ot===!1){mn();return}Mn()}},[Ot,sn]);const Qt=reactExports.useMemo(()=>Ot&&isProvided(Kt)&&rn&&isProvided(dn)&&isProvided(sn)?{_className:_,canvasBackground:$,customTextRenderer:At,devicePixelRatio:St,onGetAnnotationsError:it,onGetAnnotationsSuccess:ct,onGetStructTreeError:pt,onGetStructTreeSuccess:rt,onGetTextError:dt,onGetTextSuccess:xt,onRenderAnnotationLayerError:kt,onRenderAnnotationLayerSuccess:wt,onRenderError:Nt,onRenderSuccess:jt,onRenderTextLayerError:Pt,onRenderTextLayerSuccess:Ut,page:Ot,pageIndex:Kt,pageNumber:rn,renderForms:ln,renderTextLayer:Ct,rotate:dn,scale:sn}:null,[_,$,At,St,it,ct,pt,rt,dt,xt,kt,wt,Nt,jt,Pt,Ut,Ot,Kt,rn,ln,Ct,dn,sn]),Zt=reactExports.useMemo(()=>makeEventProps(bt,()=>Ot&&(sn?makePageCallback(Ot,sn):void 0)),[bt,Ot,sn]),an=`${Kt}@${sn}/${dn}`,vn=`${Kt}/${dn}`;function _n(){switch(cn){case"custom":return invariant(at,'renderMode was set to "custom", but no customRenderer was passed.'),React.createElement(at,{key:`${an}_custom`});case"none":return null;case"svg":return React.createElement(PageSVG,{key:`${vn}_svg`});case"canvas":default:return React.createElement(PageCanvas,{key:`${an}_canvas`,canvasRef:ft})}}function Fn(){return Ct?React.createElement(TextLayer,{key:`${an}_text`}):null}function Nn(){return Ht?React.createElement(AnnotationLayer,{key:`${an}_annotations`}):null}function Ln(){return React.createElement(PageContext.Provider,{value:Qt},_n(),Fn(),Nn(),et)}function jn(){return rn?Mt===null||Ot===void 0||Ot===null?React.createElement(Message,{type:"loading"},typeof mt=="function"?mt():mt):Mt===!1||Ot===!1?React.createElement(Message,{type:"error"},typeof Et=="function"?Et():Et):Ln():React.createElement(Message,{type:"no-data"},typeof ot=="function"?ot():ot)}return React.createElement("div",Object.assign({className:clsx(_,lt),"data-page-number":rn,ref:mergeRefs(_t,qt),style:{"--scale-factor":`${sn}`,backgroundColor:$||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},Zt),jn())},isFunctionOrNode=PropTypes.oneOfType([PropTypes.func,PropTypes.node]);Page.propTypes=Object.assign(Object.assign({},eventProps),{canvasBackground:PropTypes.string,canvasRef:isRef,children:PropTypes.node,className:isClassName,customRenderer:PropTypes.func,customTextRenderer:PropTypes.func,devicePixelRatio:PropTypes.number,error:isFunctionOrNode,height:PropTypes.number,imageResourcesPath:PropTypes.string,inputRef:isRef,loading:isFunctionOrNode,noData:isFunctionOrNode,onGetTextError:PropTypes.func,onGetTextSuccess:PropTypes.func,onLoadError:PropTypes.func,onLoadSuccess:PropTypes.func,onRenderError:PropTypes.func,onRenderSuccess:PropTypes.func,onRenderTextLayerError:PropTypes.func,onRenderTextLayerSuccess:PropTypes.func,pageIndex:isPageIndex,pageNumber:isPageNumber,pdf:isPdf,renderAnnotationLayer:PropTypes.bool,renderForms:PropTypes.bool,renderMode:isRenderMode,renderTextLayer:PropTypes.bool,rotate:isRotate,scale:PropTypes.number,width:PropTypes.number});const Page$1=Page;displayWorkerWarning();pdfjs$1.GlobalWorkerOptions.workerSrc="pdf.worker.js";pdfjs$1.GlobalWorkerOptions.workerSrc=new URL(""+new URL("pdf.worker.min-feabdf30.js",import.meta.url).href,self.location).toString();const CV=({handleClose:e,show:o})=>{const a=o?"display-block":"display-none";return jsxRuntimeExports.jsxs("div",{id:"CV",className:a,children:[jsxRuntimeExports.jsx("div",{className:"cover",onClick:e}),jsxRuntimeExports.jsxs("div",{className:"CV-main",children:[jsxRuntimeExports.jsxs("div",{className:"popup-buttons",children:[jsxRuntimeExports.jsx("span",{className:"CV-close popup-button",onClick:e,children:jsxRuntimeExports.jsx(AiOutlineClose,{size:"24px"})}),jsxRuntimeExports.jsx("span",{className:"CV-download popup-button",onClick:null,children:jsxRuntimeExports.jsx("a",{href:"resume.pdf",download:"Lucas-Graham-resume.pdf",children:jsxRuntimeExports.jsx(AiOutlineDownload,{size:"24px"})})})]}),jsxRuntimeExports.jsx(Document$1,{file:"resume.pdf",loading:jsxRuntimeExports.jsx("div",{className:"loading",children:jsxRuntimeExports.jsx("p",{children:"Loading..."})}),children:jsxRuntimeExports.jsx(Page$1,{pageNumber:1,width:960,renderTextLayer:!1,renderAnnotationLayer:!1})})]})]})};function App(){const[e,o]=reactExports.useState(!1),[a,g]=reactExports.useState(!1),[_,j]=reactExports.useState(null),$=et=>{const lt=window.scrollY;document.body.style.position="fixed",document.body.style.top=`-${lt}px`,o(!0),j(et)},ft=()=>{const et=window.scrollY;document.body.style.position="fixed",document.body.style.top=`-${et}px`,g(!0)};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(NavBar,{toggleCV:ft}),jsxRuntimeExports.jsxs("main",{children:[jsxRuntimeExports.jsx(LandingPage,{}),jsxRuntimeExports.jsx(FeaturedWork,{toggleModal:$})]}),jsxRuntimeExports.jsx(Footer,{}),e?jsxRuntimeExports.jsx(Modal,{handleClose:()=>{o(!1);const et=document.body.style.top;document.body.style.position="relative",document.body.style.top="0",window.scrollTo(0,parseInt(et||"0")*-1)},show:!0,project:_}):null,a?jsxRuntimeExports.jsx(CV,{handleClose:()=>{g(!1);const et=document.body.style.top;document.body.style.position="relative",document.body.style.top="0",window.scrollTo(0,parseInt(et||"0")*-1)},show:!0}):null]})}client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
